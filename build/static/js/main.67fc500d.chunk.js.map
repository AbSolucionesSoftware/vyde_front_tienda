{"version":3,"sources":["context/carritoContext.js","components/Navegacion_Admin/Sidebar.js","context/admincontext.js","components/Layout_admin/LayoutAdmin.js","config/aws.js","components/Navegacion/RightMenu.js","components/Categorias/Categorias.js","components/Navegacion/Navegacion.js","components/Footer/Footer.js","config/axios.js","components/Colors/colores.js","components/Layout/Layout.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/registroPoliticas.js","pages/admin/Principal/services/RegistroTienda/cobertura_envios.js","config/tokenEstados.js","pages/admin/Principal/services/RegistroTienda/horarios.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/promos_normales/services/registrar_promocion.js","pages/admin/Promociones/promos_normales/services/actualizar_promocion.js","pages/admin/Promociones/promos_normales/promociones.js","pages/admin/Promociones/promos_masivas/registrar_promocion_masiva.js","pages/admin/Promociones/promos_masivas/promo_masiva.js","pages/admin/Promociones/promociones_principal.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/services/MostrarDatosMultiplesTarjeta.js","pages/admin/Apartado/apartado.js","components/excel.js","pages/admin/Inventario/tablas_inventarios/inventario_otros.js","pages/admin/Inventario/tablas_inventarios/inventario_tallas.js","pages/admin/Inventario/tablas_inventarios/inventario_numeros.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Publicidad/services/tipoBanner.js","pages/admin/Publicidad/publicidad.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/consutaExcel.js","pages/admin/Clientes/clientes.js","pages/users/BannerPromociones/BannerOrientacion/imagenBanner.js","pages/users/Productos/Card_Secundaria/card_secundaria.js","pages/users/Productos/Cards_Normales/card_producto_frente.js","pages/users/BannerPromociones/cardsProductos.js","pages/users/BannerPromociones/BannerOrientacion/banner_orientacion.js","pages/users/BannerPromociones/BannerLargo/BannerLargo.js","pages/users/BannerPromociones/BannerCuadrados/bannerDoble.js","pages/users/BannerPromociones/BannerCuadrados/bannerTriple.js","pages/users/BannerPromociones/bannerPromocionales.js","pages/admin/Publicidad/services/previewBanner.js","pages/admin/Publicidad/services/registro.js","pages/users/Carusel_ofertas/carousel.js","pages/users/BannerPromociones/consultaBanners.js","pages/users/Registro/registro.js","pages/users/Login/login.js","config/firebase.js","components/Firebase/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Vista_Producto/subs/datos_cliente.js","pages/users/Carrito/services/apartado_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/verificarArticulos.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/Cards_Normales/card_producto.js","pages/users/Productos/consulta_productos.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/apartadoMultiple.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Consulta_covertura/estados_disponibles.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Consulta_covertura/envio_general.js","pages/users/Vista_Producto/vista_producto.js","components/BusquedaCategorias/busqueda_categorias.js","pages/users/error404.js","components/Recuperar_pass/Recuperar_pass.js","config/routes.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js","pages/admin/Publicidad/imagenes/especial2.png","pages/admin/Publicidad/imagenes/especial3.png","pages/admin/Publicidad/imagenes/estilo3.png","pages/admin/Publicidad/imagenes/estilo1.png","pages/admin/Publicidad/imagenes/estilo5.png","pages/admin/Publicidad/imagenes/estilo6.png","pages/admin/Publicidad/imagenes/estilo2.png","pages/admin/Publicidad/imagenes/estilo4.png","pages/admin/Publicidad/imagenes/especial1.png","pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png"],"names":["MenuContext","createContext","MenuProvider","children","useState","active","setActive","loading","setLoading","upload","setUpload","reloadFilter","setReloadFilter","datosContx","setDatosContx","navPrimary","text","background","hoverText","navSecondary","bodyPage","card","footer","colores","setColores","Provider","value","Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","withRouter","props","useContext","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","onClick","PoweroffOutlined","removeItem","history","push","danger","BannerContext","BannerProvider","actualizarDatos","setActualizarDatos","reload","setReload","LoadRoutes","routes","map","route","index","path","exact","component","aws","process","SubMenu","Menu","RightMenu","decoded","jwt_decode","Jwt","ofertas","tienda","length","imagen","imagenFireBase","size","src","backgroundColor","nombre","charAt","SettingOutlined","firebase","auth","signOut","setTimeout","LogoutOutlined","categoriaSeleccionada","setCategoriaSeleccionada","subcategoriaSeleccionada","setSubcategoriaSeleccionada","temporadaSeleccionada","setTemporadaSeleccionada","generoSeleccionado","setGeneroSeleccionado","useEffect","limpiarFiltros","classes","makeStyles","navbar","color","hover","useStyles","filtroNav","genero","categorias_nav","categoria","title","onTitleClick","subcCategoria","sub","_id","temporadas_nav","temporadas","temporada","categorias_generos","generos","triggerSubMenuAction","Search","Input","Header","visible","setVisible","borderBottom","tip","inlineindent","imagenLogo","alt","count","carritoCantidad","ShoppingOutlined","fontSize","UserOutlined","MenuOutlined","placeholder","onSearch","placement","closable","onClose","Footer","FooterPage","categorias_foot","end","id","telefono","PhoneOutlined","marginLeft","direccion","fontWeight","calle_numero","colonia","ciudad","estado","linkFace","href","target","rel","FacebookFilled","linkInsta","InstagramFilled","linkTweeter","TwitterCircleFilled","horario","close","dia","horarioInicial","horarioFinal","columnCount","imagenCorp","politicas","KeyOutlined","politicasDescuentos","politicasDevolucion","politicasVentas","politicasEnvios","clienteAxios","axios","create","baseURL","ColorCustomizer","pickerVisible","setPickerVisible","colorPicker","setColorPicker","setComponent","handleVisibleChange","handleChangeComponent","aplicarColores","a","put","headers","Authorization","then","res","notification","success","message","duration","catch","console","log","error","styles","float_button","zIndex","position","bottom","right","button_size","width","icon_size","radio_style","display","lineHeight","content_picker","Group","onChange","hex","direction","block","content","trigger","onVisibleChange","shape","FormatPainterOutlined","Spinner","spinning","PoliticasEnvio","setCurrent","current","next","datosNegocio","setDatosNegocio","reloadInfo","setReloadInfo","disabled","setDisabled","datos","setDatos","control","setControl","idTienda","setIdTienda","Form","useForm","form","get","data","setFieldsValue","costoEnvio","promocionEnvio","descuento","err","response","description","post","idAdministrador","obtenerDatos","showIcon","onFinish","label","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","Registro_Politicas","undefined","valuePropName","noStyle","init","menubar","plugins","toolbar","onEditorChange","editor","consultaEstados","Cobertura_envios","confirm","Modal","Option","Select","Column","Table","municipioGuardado","setMunicipioGuardado","idEstado","setIdEstado","todos","setTodos","municipiosApi","setMunicipiosApi","estadosApi","setEstadoApi","setValue","dataEstados","setDataEstados","setEstado","errors","covertura","setCovertura","selectedRowKeys","setSelectedRowKeys","rowSelection","parametros","listaMun","getCheckboxProps","municipio","onSelect","record","selected","selectedRows","onSelectAll","selectMunicipio","datosApiMunicipios","municipios","arrayMunicipio","forEach","i","enviarDatos","nuevoEstado","limpiar","traerDatos","todo","listaMunicipios","checkearChecks","checked","state","ExclamationCircleOutlined","okText","okType","cancelText","onOk","delete","textAlign","dataSource","rowKey","scroll","y","pagination","DeleteOutlined","EditableContext","React","EditableRow","EditableCell","editable","dataIndex","handleSave","restProps","editing","setEditing","inputRef","useRef","focus","toggleEdit","save","validateFields","values","childNode","margin","ref","onPressEnter","onBlur","nativeEvent","inputType","maxLength","paddingRight","HorariosAdmin","disable","setDisable","horaInicio","horaFinal","setDataSource","columns","render","_","checkedChildren","unCheckedChildren","onChangeCloseDay","components","body","row","cell","newData","findIndex","item","splice","columnas","col","onCell","rowClassName","bordered","marginBottom","RegistroTienda","steps","Step","Steps","files","setFiles","setImagen","cp","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","UploadOutlined","labelCol","rules","required","status","AlertTienda","action","setAction","face","setFace","insta","setInsta","twitter","setTwitter","politicasEnvio","setPoliticasEnvio","drawnerClose","obtenerPoliticasEnvio","useCallback","screen","bodyStyle","paddingBottom","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","prev","setPrev","url","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","resul","tallas","find","element","obtenerTalla","resetFields","eliminarTalla","idtalla","minWidth","gutter","RegistrarNumero","numero","subirNumero","numeros","obtenerNumero","eliminarNumero","idnumero","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","setCloseDraw","closeDraw","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","loadingCombo","setLoadingCombo","reloadProductos","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","temporadasBD","setTemporadasBD","reactCSS","default","borderRadius","swatch","padding","boxShadow","cursor","popover","cover","top","left","setSelect","obtenerCategorias","obtenerTemporadasBD","obtenerSubcategorias","codigo","precio","select","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","userStored","addItemSubCategoria","onSubCategoriaChange","setTemporada","valueSelectTemporada","setValueSelectTemporada","temporadaDefault","setTemporadaDefault","onTemporadaChange","addItemTemporada","Button","dropdownRender","menu","onFinishFailed","errorFields","initialValues","flexWrap","flex","PlusOutlined","min","step","compact","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","valueSelectCat","setValueSelectCat","itemCat","setItemCat","descripcion","colorHex","obtenerValores","onCategoriaChange","addItemCategoria","subirDatos","defaultActiveKey","tab","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","verificarDiasLaborales","numero_dia","Date","getDay","filter","hora","formatoMexico","number","parseFloat","toFixed","toString","replace","formatoFecha","fecha","toLocaleDateString","weekday","year","month","day","formatoHora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","queryString","search","productosRender","setProductosRender","accion","setAccion","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","busqueda","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","actions","idproducto","promocion","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","maxWidth","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","estado_pedido","pagado","cliente","email","producto","toLowerCase","TextArea","EstadoPedido","handleCancelEstado","IDpedido","datosPedido","setPedido","pedidoID","entregado","setEntregado","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","loadingSelect","setLoadingSelect","setProducto","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","categoriasDB","setCategoriasDB","setCategoria","subcategoriasDB","setSubcategoriasDB","subcategoria","setSubcategoria","generosDB","setGenerosDB","obtenerGeneros","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","obtenerFiltrosDivididos","cat","gen","ClearOutlined","initialLoad","pageStart","loadMore","concat","useWindow","threshold","renderItem","avatar","max","tipFormatter","porcentaje","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","tooltipVisible","setSearch","productosFiltrados","setProductosFiltrados","includes","idProducto","showDeleteConfirm","eliminarPromocion","RegistroPromocionMasiva","dataPromocion","setDataPromocion","actualizar","setActualizar","promoMasiva","showDrawer","setPromocionMasiva","checks","listaBD","limpiarChecks","promocionMasiva","hasSelected","listaIDs","idPromocionMasiva","porsentajePromocionMasiva","listaPromosActuales","listaPromosData","listaPromociones","marginRight","maxCount","maxStyle","PromoMasivaPrincipal","setPromo","obtenerPromosMasivas","eliminarPromocionMasiva","idPromoMasiva","itemLayout","actualizarActive","productosPromoMasiva","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","apellido","tipoEntrega","Text","Typography","DetalleApartado","multiple","detalleApartado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","apartadoMultiple","productosMultiple","ProductosMultiple","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","entre_calles","pais","medida","MostrarDatosMultipleTargeta","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","GetDataFromExcelJusTInput","hojas","setHojas","fileList","setFileList","uploading","setUploading","propsUlpload","readAsArrayBuffer","onloadend","Uint8Array","workbook","XLSX","SheetNames","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","setCantidad","idSeleccionado","setIdSeleccionado","obtenerValor","actualizarCantidad","warning","overflowCount","MinusOutlined","x","idTallaSeleccionada","setIdTallaSeleccionada","setTalla","obtenerTallas","idNumeroSeleccionada","setIdNumeroSeleccionada","setNumero","categorias","setCategorias","match","params","otros","tabs","searchBar","tabBarExtraContent","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","nombreImagen","setNombreImagen","antdProps","crearCarousel","obtenerNombreImagen","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","carouselID","carousel","centered","Panel","Collapse","loadingBackDrop","setLoadingBackDrop","crearBannerBD","estilo","publicado","ghost","showArrow","header","ImagenEstilo1","ImagenEstilo3","ImagenEstilo5","ImagenEstilo6","CollapseBanners","banner","publicarBanner","banners","orientacion","ImagenEstilo4","ImagenEstilo2","elementos","array","borderColor","ImagenEspecial1","ImagenEspecial2","ImagenEspecial3","imagenBanner","tipo","vincular","CheckSquareOutlined","CloseSquareOutlined","mostrarTitulo","mostrarProductos","blogList","setReloadBlog","setInfoBlog","deleteBlog","blog","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","consulta","setConsulta","obtenerConsulta","clientes","filename","Clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","Imagen_Banner","link","imagenLocal","CardSecundaria","Card_Producto_Frente","border","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","CardsProductos","Banner_Orientacion","subBanner","BgElement","Element","animation","opacity","delay","autoPlay","prefixCls","backgroundImage","Banner_Promocionales","PreviewBanner","previewImage","array_banner","getBase64","Promise","resolve","reject","onerror","carrucel","tailLayout","vista","remember","Password","validator","mostrarDiv","setMostrarDiv","mostrarMensaje","setmostrarMensaje","onRecuperar","apiKey","authDomain","databaseURL","REACT_APP_FIREBASE_DATA_BASE_URL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseConfig","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","displayname","displayName","uid","photoURL","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","articulos","idarticulo","activo","eliminado","carrito","arr","subtotal","consultaCodigos","DatosCliente","clienteID","tipoEnvio","handleOk","controlBoton","setControlBoton","estadoBoton","setEstadoBoton","mensajeRechazo","setMensajeRechazo","envioTotal","setEnvioTotal","editarDatosUsuario","checarEnvios","envios","obtenerDatosUser","ApartadoCarrito","modal","setApartadoMultiple","setTotal","setTipoEnvio","obtenerCarrito","apartadoMultipleCompleto","apartarCarrito","articulo","ModalApartado","AgregarApartado","verificarArticulos","ListaCarrito","setMedida","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","setEliminado","laboral","setLaboral","cantidadChange","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","tallaCantidad","numeroCantidad","verificar","obtenerSubtotal","ExportOutlined","setCarrito","setCliente","nuevoCarrito","setNuevoCarrito","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","Card_Producto","ConsultaProductos","propiedades","Productos","BlogList","BlogsList2","ShowBlog","ObtenerBlog","useParams","Producto","faBus","paddingLeft","ApartadoMultiple","setElige","deleteApartado","Pedido","Apartado","scrollTo","ResultadoBusqueda","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","preview","datosPassword","UploadAvatar","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","Traer_datos","setDatosActualizados","envioRechadazo","setEnvioRechazado","alertRechazo","setAlertRechazo","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","REACT_APP_STRIPE_LLAVE","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","datosActualizados","setDireccion","setDatosEnvio","traerCostosEnvio","crearPago","centavo","newPedido","datosPago","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","Politicas","setPoliticas","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","precioProducto","precioSugerencia","Estados_disponibles","estados","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","setDisponibilidadSugerencia","promocionProducto","promocionSugerencia","productoPrecio","sugerenciaPrecio","showConfirm","IssuesCloseOutlined","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","imageClassName","enlargedImageContainerClassName","enlargedImageClassName","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","zoomHeight","setZoomHeight","zoomWidth","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","setTienda","modalMensaje","WhatsAppOutlined","obtenerTienda","TagsOutlined","BellOutlined","Carrito","diasHorariosEmpresas","Envio_General","CheckCircleFilled","readMore","setReadMore","setCostoEnvio","OnClickReadMore","CreditCardOutlined","BusquedaCategorias","resultado","setResultado","todosProductos","setTodosProductos","temp","obtenerTodos","separator","Error404","FormResetPass","mostrarError","Content","minHeight","AdminHome","RegistrarProductos","Pedidos","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","bannerBD","setBannerBD","bannerSeleccionado","setBannerSeleccionado","obtenerBannersBD","eliminarBanner","renderBanners","idBanner","generosBD","setGenerosBD","bannerRender","setBannerRender","disabledCheck","setDisabledCheck","disabledReg3","setDisabledReg3","saveAndPublish","setSaveAndPublish","openPreview","setOpenPreview","setPreviewImage","previewTitle","setPreviewTitle","limpiarCampos","uploadProps","onPreview","originFileObj","substring","lastIndexOf","obtenerOrientacion","obtenerChecks","llenarCampos","obtenerBannerBD","obtenerTemporadas","options","hideRequiredMark","marginTop","idRecuperacion","setmostrarError","acceso","setAcceso","cambiarEstadoPass","confirmPassword","Entrar","setImagenCorp","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setDatosUser","setPedidoCompleto","avatar_productos","nombre_productos","App","nombreTienda","setNombreTienda","obtenerInformacionTienda","colorPage","RoutesWithSubRoutes","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.67fc500d.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const [upload, setUpload] = useState(false);\r\n  const [reloadFilter, setReloadFilter] = useState(true);\r\n  const [ datosContx, setDatosContx ] = useState([]);\r\n  const [ colores, setColores ] = useState({\r\n    navPrimary: {\r\n      text: '#000000',\r\n      background: '#FFFFFF',\r\n      hoverText: '#a39c9c',\r\n    },\r\n    navSecondary: {\r\n      text: '#000000',\r\n      background: '#000000',\r\n      hoverText: '#a39c9c',\r\n    },\r\n    bodyPage: {\r\n      text: '#000000',\r\n      background: '#F5F5F5',\r\n      hoverText: '#000000',\r\n      card: {\r\n        text: '#000000',\r\n        background: '#F7F7F7'\r\n      }\r\n    },\r\n    footer: {\r\n      text: '#ffffff',\r\n      background: '#3D3D3D',\r\n    }\r\n  });\r\n\r\n  return (\r\n    <MenuContext.Provider value={{setUpload, upload, active,setActive, setUpload, upload, loading, setLoading, reloadFilter, setReloadFilter, datosContx, setDatosContx, colores, setColores }}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import React, { useContext } from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\nimport{ MenuContext } from '../../context/carritoContext';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = (props) => {\r\n\r\n\r\n\tconst { setUpload } = useContext(MenuContext);\r\n\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tBanner principal<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/publicidad\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/publicidad\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />} onClick={ ()=> { setUpload(true) }}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" /> \r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t\t\t\tsetUpload(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sidebar);\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const BannerContext = createContext()\r\n\r\nexport const BannerProvider = ({ children }) => {\r\n  const [actualizarDatos, setActualizarDatos] = useState(false);\r\n  const [reload, setReload] = useState(true);\r\n  return (\r\n    <BannerContext.Provider value={{ actualizarDatos, setActualizarDatos, reload, setReload}}>\r\n      {children}\r\n    </BannerContext.Provider>\r\n  );\r\n};","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\nimport { BannerProvider } from '../../context/admincontext';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/');\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t</Header>\r\n\t\t\t\t\t<BannerProvider>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</BannerProvider>\r\n\t\t\t\t</Layout>\r\n\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import 'dotenv';\r\n\r\nconst aws = process.env.REACT_APP_AWS;\r\n\r\nexport default aws","import React from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../config/aws';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]} className=\"navbar-menu-general font-foot\">\r\n\t\t\t<Menu.Item key=\"/\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tInicio<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tProductos<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tMis pedidos<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen}>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst { reloadFilter, datosContx, colores } = useContext(MenuContext);\r\n\r\n\tconst [ categoriaSeleccionada, setCategoriaSeleccionada ] = useState(null);\r\n\tconst [ subcategoriaSeleccionada, setSubcategoriaSeleccionada ] = useState(null);\r\n\tconst [ temporadaSeleccionada, setTemporadaSeleccionada ] = useState(null);\r\n\tconst [ generoSeleccionado, setGeneroSeleccionado ] = useState(null);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tlimpiarFiltros();\r\n\t\t},\r\n\t\t[ reloadFilter ]\r\n\t);\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoriaSeleccionada(null);\r\n\t\tsetSubcategoriaSeleccionada(null);\r\n\t\tsetTemporadaSeleccionada(null);\r\n\t\tsetGeneroSeleccionado(null);\r\n\t};\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tnavbar: {\r\n\t\t\tbackgroundColor: colores.navPrimary.background,\r\n\t\t\tcolor: colores.navPrimary.text\r\n\t\t},\r\n\t\thover: {\r\n\t\t\t'& > .ant-menu-submenu-title:hover': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`\r\n\t\t\t},\r\n\t\t\t'& > .ant-menu-submenu-title': {\r\n\t\t\t\tcolor: `${colores.navPrimary.text}!important`\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (!datosContx.navbar || !datosContx.navbar.filtroNav || !datosContx.navbar.genero) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_nav = datosContx.navbar.filtroNav.map((categoria, index) => {\r\n\t\treturn (\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName={\r\n\t\t\t\t\t'submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat font-cates ' +\r\n\t\t\t\t\tclasses.navbar +\r\n\t\t\t\t\t' ' +\r\n\t\t\t\t\tclasses.hover\r\n\t\t\t\t}\r\n\t\t\t\tonTitleClick={(e) => {\r\n\t\t\t\t\tif (e.key === categoria.categoria) {\r\n\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t`/filtros/${temporadaSeleccionada}/${categoria.categoria}/${subcategoriaSeleccionada}/${generoSeleccionado}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetCategoriaSeleccionada(categoria.categoria);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\tclassName=\"font-cates\"\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t\t\t`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${sub._id}/${generoSeleccionado}`\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tsetSubcategoriaSeleccionada(sub._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t\t//\r\n\t\t);\r\n\t});\r\n\r\n\tconst temporadas_nav = datosContx.navbar.temporadas.map((temporada, index) => {\r\n\t\tif (temporada._id) {\r\n\t\t\treturn (\r\n\t\t\t\t<Menu.Item\r\n\t\t\t\t\tclassName={'nav-font-color-categorias font-cates ' + classes.navbar}\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t`/filtros/${temporada._id}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generoSeleccionado}`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tsetTemporadaSeleccionada(temporada._id);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{temporada._id}\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tconst categorias_generos = datosContx.navbar.genero.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\tclassName=\"font-cates\"\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generos._id}`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetGeneroSeleccionado(generos._id);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"container-subcategorias-nav d-lg-inline size-layout-cat\">\r\n\t\t\t{/* <Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} />  */}\r\n\t\t\t<Menu\r\n\t\t\t\tclassName={'categorias-navbar d-inline size-menu-cat font-cates ' + classes.navbar}\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\ttriggerSubMenuAction=\"click\"\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t\t{datosContx.navbar.temporadas.length === 1 && datosContx.navbar.temporadas[0]._id === '' ? null : (\r\n\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\ttitle=\"Temporadas\"\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t'submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat font-cates ' +\r\n\t\t\t\t\t\t\tclasses.navbar +\r\n\t\t\t\t\t\t\t' ' +\r\n\t\t\t\t\t\t\tclasses.hover\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{temporadas_nav}\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t)}\r\n\t\t\t\t{datosContx.navbar.genero.length === 1 && datosContx.navbar.genero[0]._id === 'Ninguno' ? null : (\r\n\t\t\t\t\t<SubMenu\r\n\t\t\t\t\ttitle=\"Género\"\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tclasses.hover +\r\n\t\t\t\t\t\t' submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat font-cates ' +\r\n\t\t\t\t\t\tclasses.navbar\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\tclassName=\"font-cates\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t\t`/filtros/${temporadaSeleccionada}/${categoriaSeleccionada}/${subcategoriaSeleccionada}/Todos`\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tsetGeneroSeleccionado('Todos');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tTodos\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t{categorias_generos}\r\n\t\t\t\t</SubMenu>\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React, { useState, useContext } from 'react';\r\nimport { Layout, Menu, Button, Input, Drawer, Badge, Avatar, Spin } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport {\r\n\tSearchOutlined,\r\n\tMenuOutlined,\r\n\tShoppingOutlined,\r\n\tSettingOutlined,\r\n\tLogoutOutlined,\r\n\tUserOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport aws from '../../config/aws';\r\nimport Categorias from '../../components/Categorias/Categorias';\r\nimport { Fragment } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst { loading, datosContx, colores } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ busqueda, setBusqueda ] = useState('');\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst showDrawer = () => setVisible(true);\r\n\tconst onClose = () => setVisible(false);\r\n\r\n\tfunction valor(e) {\r\n\t\tsetBusqueda(e.target.value);\r\n\t}\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.navPrimary.background,\r\n\t\t\tcolor: colores.navPrimary.text,\r\n\t\t\t'& .ant-menu-item-selected': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`,\r\n\t\t\t\tborderBottom: `none!important`,\r\n\t\t\t\t/* borderBottom: ` 3px solid ${colores.navPrimary.hoverText}!important` */\r\n\t\t\t}\r\n\t\t},\r\n\t\thover: {\r\n\t\t\t'&:hover': {\r\n\t\t\t\tcolor: `${colores.navPrimary.hoverText}!important`,\r\n\t\t\t\tborderBottom: `none!important`,\r\n\t\t\t\t/* borderBottom: ` 3px solid ${colores.navPrimary.hoverText}!important` */\r\n\t\t\t}\r\n\t\t}, \r\n\t\tnavSecondary: {\r\n\t\t\tbackgroundColor: colores.navSecondary.background\r\n\t\t}\r\n\t});\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"preloading\">\r\n\t\t\t\t<div className=\"contenedor-preloading\">\r\n\t\t\t\t\t<Spin size=\"large\" tip=\"Cargando la tienda...\" className=\"spiner\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t\t<Header className=\" a1\">\r\n\t\t\t\t\t<div className=\"menuCon a2\">\r\n\t\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t\t<div className={'col-lg-12 container-pages a4 ' + classes.background}>\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tclassName={'navbar-menu-sesion float-right nav-font-pages a5 ' + classes.background}\r\n\t\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\tclassName={'nav-font-color nav-border-color font-nav-sec a6 ' + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\tkey=\"/blog\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Blog</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda && datosContx.tienda.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\t'nav-font-color nav-border-color font-nav-sec a6 ' + classes.hover\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"/quienes_somos\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Quiénes somos</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Header>\r\n\t\t\t</Layout>\r\n\t\t\t{/* DIVISOR PARA EL INPUT  */}\r\n\r\n\t\t\t<Layout className=\"layout a0\">\r\n\t\t\t\t<Header className={'a1 ' + classes.background}>\r\n\t\t\t\t\t<div className=\"menuCon a2\">\r\n\t\t\t\t\t\t<div className=\"top-menu row a3\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/* INICIO OFERTAS Y PRODCUTOS */}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 row a4 containe-categorias d-flex \tml-2 justify-content-start\">\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tclassName={'float-right navbar-menu-sesion a50 ' + classes.background}\r\n\t\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\tclassName={'nav-font-color nav-border-color font-nav a6 ' + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\tkey=\"/\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Inicio</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\tclassName={'nav-font-color nav-border-color font-nav a6 ' + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\tkey=\"/productos\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Productos</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t{datosContx.ofertas ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={'nav-font-color nav-border-color font-nav a6 ' + classes.hover}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey=\"/ofertas\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">Ofertas</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t {/* IMAGEN DE LOCO CENTRO  */}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-2 row-logo-search text-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"row row-logo-search-2 \">\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda && datosContx.tienda.length > 0 ? !datosContx.tienda[0]\r\n\t\t\t\t\t\t\t\t\t\t.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-logo text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + datosContx.tienda[0].imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t{/* INICIO DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-5 row a4 containe-categorias d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tclassName={'float-right navbar-menu-sesion a50 ' + classes.background}\r\n\t\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\t\tinlineindent={0}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{/* INICIO DE CARRITO */}\r\n\t\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='nav-font-color-sesion a6'\r\n\t\t\t\t\t\t\t\t\t\t\tkey=\"/shopping_cart\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge count={datosContx.carritoCantidad}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined style={{ fontSize: 25 }} className={classes.background} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color-sesion a6\"\r\n\t\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color-sesion a6 font-nav\" key=\"/pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined />Mis compras\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"nav-font-color-sesion font-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav font-nav\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"font-nav a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav font-nav\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"nav-font-color-sesion nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UserOutlined style={{ fontSize: 27 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"\" className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{/* FIN DE AVATAR, TU CARRITO Y ENTRAR  */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"top-menu-responsive\">\r\n\t\t\t\t\t\t\t<Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n\t\t\t\t\t\t\t\t<MenuOutlined className={\"menu-responsivo-icon \" + classes.background} style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tclassName=\"search-nav-responsive\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"input search text\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"mx-4\">\r\n\t\t\t\t\t\t\t\t\t<Badge count={datosContx.carritoCantidad}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t\t<ShoppingOutlined\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={\"menu-responsivo-icon \" + classes.background}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 28 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\t\tclassName=\"drawer-background\"\r\n\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\tdatosContx.tienda && datosContx.tienda.length > 0 ? !datosContx.tienda[0].imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + datosContx.tienda[0].imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<RightMenu ofertas={datosContx.ofertas} tienda={datosContx.tienda} />\r\n\t\t\t\t\t\t</Drawer>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Header>\r\n\t\t\t</Layout>\r\n\r\n\t\t\t<Layout className=\"layout navbar-menu-general a00\">\r\n\t\t\t\t<Header className=\" a1\">\r\n\t\t\t\t\t<div className=\"menuCon a2\">\r\n\t\t\t\t\t\t<div className=\"top-menu row a3 container-prin\">\r\n\t\t\t\t\t\t\t<div className={'col-lg-12 container-pages a4 text-center ' + classes.background}>\r\n\t\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Header>\r\n\t\t\t</Layout>\r\n\r\n\t\t\t{/* <div className=\"d-none d-lg-block \">\r\n\t\t\t\t<Layout className=\"layout a01 \">\r\n\t\t\t\t\t<Header className={\"fondo-search a1 \" + classes.navSecondary}>\r\n\t\t\t\t\t\t<div className=\"menuCon a2\">\r\n\t\t\t\t\t\t\t<div className=\"top-menu row a3 \">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 a4 containe-categorias\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row input-search d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Input onChange={valor} className=\"input-search border-color-search-input\" />\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(value) => props.history.push(`/searching/${busqueda}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"boton-search border-color-search-boton\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<SearchOutlined style={{ fontSize: 25 }} />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Header>\r\n\t\t\t\t</Layout>\r\n\t\t\t</div> */}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { HashLink } from 'react-router-hash-link';\r\nimport { Button, Layout } from 'antd';\r\nimport aws from '../../config/aws';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport {\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled,\r\n\tUserOutlined,\r\n\tKeyOutlined,\r\n\tPhoneOutlined,\r\n\tSettingOutlined\r\n} from '@ant-design/icons';\r\nimport './footer.scss';\r\n/* import '../../scss/variables.scss'; */\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { Fragment } from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst { Footer } = Layout;\r\n\r\nconst token = localStorage.getItem('token');\r\nvar decoded = Jwt(token);\r\n\r\nfunction Jwt(token) {\r\n\ttry {\r\n\t\treturn jwt_decode(token);\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst FooterPage = (props) => {\r\n\tconst { datosContx, colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.footer.background,\r\n\t\t\t'& .text-color': {\r\n\t\t\t\tcolor: `${colores.footer.text}!important`\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tif (!datosContx.navbar || !datosContx.navbar.filtroNav) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_foot = datosContx.navbar.filtroNav.map((categoria, index) => {\r\n\t\tif (index <= 14) {\r\n\t\t\treturn (\r\n\t\t\t\t<Button type=\"link\" className=\"footer-font-color text-color\" key={categoria.categoria}>\r\n\t\t\t\t\t<Link className=\"font-foot\" to={`/filtros/null/${categoria.categoria}/null/null`}>\r\n\t\t\t\t\t\t{categoria.categoria}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Button>\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout\">\r\n\t\t\t<Footer className={'bg-footer ' + classes.background}>\r\n\t\t\t\t<div end=\"xs\" id=\"foot\">\r\n\t\t\t\t\t<div className=\"row footer-font-color\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3  d-sm-text-center\">\r\n\t\t\t\t\t\t\t{/* {datosContx.tienda.length > 0 && datosContx.tienda[0].imagenLogo ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"logos\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"logotipo\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + datosContx.tienda[0].imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null} */}\r\n\t\t\t\t\t\t\t{/* <h6>{tienda.nombre !== '' ? tienda.nombre : \"\"}</h6> */}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].telefono ? (\r\n\t\t\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t\t\t<PhoneOutlined\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-1 text-color\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 55, marginLeft: 5 }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<div className=\"px-3 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-foot text-color\">¿Tienes preguntas? ¡Contáctanos!:</p>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"footer-font-color text-color\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].telefono}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t<div className=\"mt-3 font-foot\">\r\n\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].direccion.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontWeight: 'bold' }} className=\"text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\tDatos de contacto:\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].ciudad},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].direccion[0].estado}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].linkFace !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={datosContx.tienda[0].linkFace}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FacebookFilled id=\"is\" style={{ fontSize: 33 }} className=\"text-color\" />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].linkInsta !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={datosContx.tienda[0].linkInsta}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InstagramFilled id=\"is\" style={{ fontSize: 33 }} className=\"text-color\" />\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].linkTweeter !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={datosContx.tienda[0].linkTweeter}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<TwitterCircleFilled\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"is\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 33 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].horario.length > 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3 mt-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-foot text-color\">\r\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Horarios de Atención:</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t{datosContx.tienda[0].horario.map((horario) => {\r\n\t\t\t\t\t\t\t\t\t\tif(horario.close){\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: </b> {horario.horarioInicial} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{horario.horarioFinal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: NO HAY SERVICIO </b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<div className=\"col-lg-4 mt-lg-4 d-none d-lg-block\">\r\n\t\t\t\t\t\t\t<p className=\"font-foot text-color\" style={{ fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tEncuéntralo más rápido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div style={{ columnCount: 2 }}>\r\n\t\t\t\t\t\t\t\t<div>{categorias_foot}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-2 mt-4 d-none d-lg-block\" style={{ columnCount: 1 }}>\r\n\t\t\t\t\t\t\t<p className=\"font-foot text-color\" style={{ fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\tAtención al cliente\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].imagenCorp !== '' ? (\r\n\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<UserOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tConócenos\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicas ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#privacidad\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tAviso de Privacidad\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasDescuentos ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#descuento\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Descuento\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasDevolucion ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#devolucion\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Devolución\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasVentas ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#ventas\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Ventas\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{datosContx.tienda.length > 0 && datosContx.tienda[0].politicasEnvios ? (\r\n\t\t\t\t\t\t\t\t<HashLink to=\"/politicas#envios\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<KeyOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tPolíticas de Envíos\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</HashLink>\r\n\t\t\t\t\t\t\t) : null}\r\n\r\n\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t<Link to=\"/perfiles\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<SettingOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tMi cuenta\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Link to=\"/entrar\">\r\n\t\t\t\t\t\t\t\t\t<Button className=\"footer-font-color font-foot text-color\" id=\"is\" type=\"link\">\r\n\t\t\t\t\t\t\t\t\t\t<SettingOutlined className=\"footer-font-color text-color\" />\r\n\t\t\t\t\t\t\t\t\t\tMi cuenta\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <div className=\"align-center\">\r\n                    <p className=\"text-center\">© CAFI - All Rights Reserved - 2020</p>\r\n                </div> */}\r\n\t\t\t</Footer>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default FooterPage;\r\n","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : process.env.REACT_APP_AXIOS\r\n})\r\n\r\n\r\nexport default clienteAxios","import React, { useContext, useState } from 'react';\r\nimport { Button, notification, Popover, Radio, Space } from 'antd';\r\nimport { FormatPainterOutlined } from '@ant-design/icons';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { SketchPicker } from 'react-color';\r\nimport { Fragment } from 'react';\r\nimport clienteAxios from '../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './colores.scss';\r\n\r\nexport default function ColorCustomizer() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst { datosContx, colores, setColores } = useContext(MenuContext);\r\n\tconst [ pickerVisible, setPickerVisible ] = useState(false);\r\n\tconst [ colorPicker, setColorPicker ] = useState('#FFFFFF');\r\n\tconst [ component, setComponent ] = useState('navBackground');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleVisibleChange = () => setPickerVisible(!pickerVisible);\r\n\tconst handlePickerChange = (color) => {\r\n\t\tsetColorPicker(color.hex);\r\n\t\t/* Definimos los colores actuales para que se guarden si alguno otro cambia, los otros se quedaran como estan */\r\n\t\tlet navPrimary = {\r\n\t\t\ttext: colores.navPrimary.text,\r\n\t\t\tbackground: colores.navPrimary.background,\r\n\t\t\thoverText: colores.navPrimary.hoverText\r\n\t\t};\r\n\t\tlet navSecondary = {\r\n\t\t\ttext: colores.navSecondary.text,\r\n\t\t\tbackground: colores.navSecondary.background,\r\n\t\t\thoverText: colores.navSecondary.hoverText\r\n\t\t};\r\n\t\tlet bodyPage = {\r\n\t\t\ttext: colores.bodyPage.text,\r\n\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\tcard: {\r\n\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\tbackground: colores.bodyPage.card.background\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet footer = {\r\n\t\t\ttext: colores.footer.text,\r\n\t\t\tbackground: colores.footer.background\r\n\t\t};\r\n\t\t/* Definimos el componente seleccionado y aplicamos colores en cada caso */\r\n\t\tswitch (component) {\r\n\t\t\t/* NAVBAR PRINCIPAL */\r\n\t\t\tcase 'navBackground':\r\n\t\t\t\tnavPrimary = {\r\n\t\t\t\t\ttext: colores.navPrimary.text,\r\n\t\t\t\t\tbackground: color.hex,\r\n\t\t\t\t\thoverText: colores.navPrimary.hoverText\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navText':\r\n\t\t\t\tnavPrimary = {\r\n\t\t\t\t\ttext: color.hex,\r\n\t\t\t\t\tbackground: colores.navPrimary.background,\r\n\t\t\t\t\thoverText: colores.navPrimary.hoverText\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navHover':\r\n\t\t\t\tnavPrimary = {\r\n\t\t\t\t\ttext: colores.navPrimary.text,\r\n\t\t\t\t\tbackground: colores.navPrimary.background,\r\n\t\t\t\t\thoverText: color.hex\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\t/* NAVBAR SECUNDARIO */\r\n\t\t\tcase 'navSecBackground':\r\n\t\t\t\tnavSecondary = {\r\n\t\t\t\t\ttext: colores.navSecondary.text,\r\n\t\t\t\t\tbackground: color.hex,\r\n\t\t\t\t\thoverText: colores.navSecondary.hoverText\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navSecText':\r\n\t\t\t\tnavSecondary = {\r\n\t\t\t\t\ttext: color.hex,\r\n\t\t\t\t\tbackground: colores.navSecondary.background,\r\n\t\t\t\t\thoverText: colores.navSecondary.hoverText\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navSecHover':\r\n\t\t\t\tnavSecondary = {\r\n\t\t\t\t\ttext: colores.navSecondary.text,\r\n\t\t\t\t\tbackground: colores.navSecondary.background,\r\n\t\t\t\t\thoverText: color.hex\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\t/* CARDS */\r\n\t\t\tcase 'bodyBackground':\r\n\t\t\t\tbodyPage = {\r\n\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t\t\t\t\tbackground: color.hex,\r\n\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\t\t\tcard: {\r\n\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\t\t\tbackground: colores.bodyPage.card.background\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bodyText':\r\n\t\t\t\tbodyPage = {\r\n\t\t\t\t\ttext: color.hex,\r\n\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\t\t\tcard: {\r\n\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\t\t\tbackground: colores.bodyPage.card.background\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bodyHover':\r\n\t\t\t\tbodyPage = {\r\n\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\t\t\thoverText: color.hex,\r\n\t\t\t\t\tcard: {\r\n\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\t\t\tbackground: colores.bodyPage.card.background\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'cardBackground':\r\n\t\t\t\tbodyPage = {\r\n\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\t\t\tcard: {\r\n\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\t\t\tbackground: color.hex\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'cardText':\r\n\t\t\t\tbodyPage = {\r\n\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\t\t\tcard: {\r\n\t\t\t\t\t\ttext: color.hex,\r\n\t\t\t\t\t\tbackground: colores.bodyPage.card.background\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'footerText':\r\n\t\t\t\tfooter = {\r\n\t\t\t\t\ttext: color.hex,\r\n\t\t\t\t\tbackground: colores.footer.background\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'footerBackground':\r\n\t\t\t\tfooter = {\r\n\t\t\t\t\ttext: colores.footer.text,\r\n\t\t\t\t\tbackground: color.hex\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tsetColores({\r\n\t\t\tnavPrimary,\r\n\t\t\tnavSecondary,\r\n\t\t\tbodyPage,\r\n\t\t\tfooter\r\n\t\t});\r\n\t};\r\n\tconst handleChangeComponent = (e) => {\r\n\t\tsetComponent(e.target.value);\r\n\t\tswitch (e.target.value) {\r\n\t\t\t/* NAVBAR PRINCIPAL */\r\n\t\t\tcase 'navBackground':\r\n\t\t\t\tsetColorPicker(colores.navPrimary.background);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navText':\r\n\t\t\t\tsetColorPicker(colores.navPrimary.text);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navHover':\r\n\t\t\t\tsetColorPicker(colores.navPrimary.hoverText);\r\n\t\t\t\tbreak;\r\n\t\t\t/* NAVBAR SECUNDARIO */\r\n\t\t\tcase 'navSecBackground':\r\n\t\t\t\tsetColorPicker(colores.navSecondary.background);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navSecText':\r\n\t\t\t\tsetColorPicker(colores.navSecondary.text);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'navSecHover':\r\n\t\t\t\tsetColorPicker(colores.navSecondary.hoverText);\r\n\t\t\t\tbreak;\r\n\t\t\t/* CARDS */\r\n\t\t\tcase 'bodyBackground':\r\n\t\t\t\tsetColorPicker(colores.bodyPage.background);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bodyText':\r\n\t\t\t\tsetColorPicker(colores.bodyPage.text);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'bodyHover':\r\n\t\t\t\tsetColorPicker(colores.bodyPage.hoverText);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'cardBackground':\r\n\t\t\t\tsetColorPicker(colores.bodyPage.card.background);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'cardText':\r\n\t\t\t\tsetColorPicker(colores.bodyPage.card.text);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'footerText':\r\n\t\t\t\tsetColorPicker(colores.footer.text);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'footerBackground':\r\n\t\t\t\tsetColorPicker(colores.footer.background);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColores({\r\n\t\t\tnavPrimary: {\r\n\t\t\t\ttext: '#000000',\r\n\t\t\t\tbackground: '#FFFFFF',\r\n\t\t\t\thoverText: '#a39c9c'\r\n\t\t\t},\r\n\t\t\tnavSecondary: {\r\n\t\t\t\ttext: '#000000',\r\n\t\t\t\tbackground: '#000000',\r\n\t\t\t\thoverText: '#a39c9c'\r\n\t\t\t},\r\n\t\t\tbodyPage: {\r\n\t\t\t\ttext: '#000000',\r\n\t\t\t\tbackground: '#F5F5F5',\r\n\t\t\t\thoverText: '#000000',\r\n\t\t\t\tcard: {\r\n\t\t\t\t\ttext: '#000000',\r\n\t\t\t\t\tbackground: '#F7F7F7'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfooter: {\r\n\t\t\t\ttext: '#ffffff',\r\n\t\t\t\tbackground: '#3D3D3D'\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst aplicarColores = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/tienda/editar/colors/${datosContx.tienda[0]._id}`, colores, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Cambios realizados',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\thandleVisibleChange();\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\thandleVisibleChange();\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst styles = {\r\n\t\tfloat_button: {\r\n\t\t\tzIndex: 10,\r\n\t\t\tposition: 'fixed',\r\n\t\t\tbottom: '16px',\r\n\t\t\tright: '16px'\r\n\t\t},\r\n\t\tbutton_size: {\r\n\t\t\theight: '70px',\r\n\t\t\twidth: '70px'\r\n\t\t},\r\n\t\ticon_size: {\r\n\t\t\tfontSize: '30px'\r\n\t\t},\r\n\t\tradio_style: {\r\n\t\t\tdisplay: 'block',\r\n\t\t\theight: '30px',\r\n\t\t\tlineHeight: '30px'\r\n\t\t}\r\n\t};\r\n\r\n\tif (!token) return null;\r\n\tif (token && decoded['rol'] === false) return null;\r\n\r\n\tconst content_picker = (\r\n\t\t<div>\r\n\t\t\t<div className=\"row d-flex justify-content-around mb-2\">\r\n\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t<h6>Navegación</h6>\r\n\t\t\t\t\t<Radio.Group onChange={handleChangeComponent} value={component}>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"navBackground\">\r\n\t\t\t\t\t\t\tColor fondo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"navText\">\r\n\t\t\t\t\t\t\tColor texto\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"navHover\">\r\n\t\t\t\t\t\t\tColor activo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t<h6>Búsqueda</h6>\r\n\t\t\t\t\t<Radio.Group onChange={handleChangeComponent} value={component}>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"navSecBackground\">\r\n\t\t\t\t\t\t\tColor fondo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"navSecText\">\r\n\t\t\t\t\t\t\tColor texto\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"navSecHover\">\r\n\t\t\t\t\t\t\tColor activo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t<h6>Fondo</h6>\r\n\t\t\t\t\t<Radio.Group onChange={handleChangeComponent} value={component}>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"bodyBackground\">\r\n\t\t\t\t\t\t\tColor fondo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"bodyText\">\r\n\t\t\t\t\t\t\tColor texto\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"bodyHover\">\r\n\t\t\t\t\t\t\tColor activo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t<h6>Productos</h6>\r\n\t\t\t\t\t<Radio.Group onChange={handleChangeComponent} value={component}>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"cardBackground\">\r\n\t\t\t\t\t\t\tColor fondo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"cardText\">\r\n\t\t\t\t\t\t\tColor texto\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-2\">\r\n\t\t\t\t\t<h6>Footer</h6>\r\n\t\t\t\t\t<Radio.Group onChange={handleChangeComponent} value={component}>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"footerBackground\">\r\n\t\t\t\t\t\t\tColor fondo\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio style={styles.radio_style} value=\"footerText\">\r\n\t\t\t\t\t\t\tColor texto\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-flex justify-content-around\">\r\n\t\t\t\t<div className=\"col-md-5\">\r\n\t\t\t\t\t<SketchPicker color={colorPicker} onChange={handlePickerChange} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-5\">\r\n\t\t\t\t\t<div className=\"my-2 shadow\" style={{ height: 100, backgroundColor: colorPicker }} />\r\n\t\t\t\t\t<Space direction=\"vertical\" style={{ width: '100%' }}>\r\n\t\t\t\t\t\t<Button type=\"primary\" onClick={aplicarColores} block loading={loading}>\r\n\t\t\t\t\t\t\tGuardar configuración\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={resetColor} block>\r\n\t\t\t\t\t\t\tRestablecer colores\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div style={styles.float_button} className=\"hidden-sm\">\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tcontent={content_picker}\r\n\t\t\t\t\ttitle=\"Colores\"\r\n\t\t\t\t\ttrigger=\"click\"\r\n\t\t\t\t\tvisible={pickerVisible}\r\n\t\t\t\t\tonVisibleChange={() => handleVisibleChange()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tstyle={styles.button_size}\r\n\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\ticon={<FormatPainterOutlined style={styles.icon_size} />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Popover>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\n/* import Categorias from '../Categorias/Categorias'; */\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport './layout.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n// import clienteAxios from '../../config/axios';\r\n// import jwt_decode from 'jwt-decode';\r\nimport ColorCustomizer from '../Colors/colores';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Categorias from '../Categorias/Categorias';\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\tconst {colores } = useContext(MenuContext);\r\n\r\n\t// const token = localStorage.getItem('token');\r\n\t// var decoded = { _id: '' };\r\n\t// if (token !== null) decoded = Jwt(token);\r\n\t// function Jwt(token) {\r\n\t// \ttry {\r\n\t// \t\treturn jwt_decode(token);\r\n\t// \t} catch (e) {\r\n\t// \t\treturn null;\r\n\t// \t}\r\n\t// }\r\n\r\n\t// const obtenerInformacionTienda = useCallback(\r\n\t// \tasync () => {\r\n\t// \t\tsetLoading(true);\r\n\t// \t\tawait clienteAxios\r\n\t// \t\t\t.get(`/home/${decoded._id ? decoded._id : null}`, {\r\n\t// \t\t\t\theaders: {\r\n\t// \t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t// \t\t\t\t}\r\n\t// \t\t\t})\r\n\t// \t\t\t.then((res) => {\r\n\t// \t\t\t\tconst datos = res.data;\r\n\t// \t\t\t\tsetDatosContx(datos);\r\n\t// \t\t\t\tsetLoading(false);\r\n\t// \t\t\t\tif (datos.tienda.length > 0 && datos.tienda[0].colorPage) {\r\n\t// \t\t\t\t\tconst colores = datos.tienda[0].colorPage;\r\n\t// \t\t\t\t\tsetColores({\r\n\t// \t\t\t\t\t\tnavPrimary: {\r\n\t// \t\t\t\t\t\t\ttext: colores.navPrimary.text,\r\n\t// \t\t\t\t\t\t\tbackground: colores.navPrimary.background,\r\n\t// \t\t\t\t\t\t\thoverText: colores.navPrimary.hoverText,\r\n\t// \t\t\t\t\t\t},\r\n\t// \t\t\t\t\t\tnavSecondary: {\r\n\t// \t\t\t\t\t\t\ttext: colores.navSecondary.text,\r\n\t// \t\t\t\t\t\t\tbackground: colores.navSecondary.background,\r\n\t// \t\t\t\t\t\t\thoverText: colores.navSecondary.hoverText,\r\n\t// \t\t\t\t\t\t},\r\n\t// \t\t\t\t\t\tbodyPage: {\r\n\t// \t\t\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t// \t\t\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t// \t\t\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t// \t\t\t\t\t\t\tcard: {\r\n\t// \t\t\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t// \t\t\t\t\t\t\t\tbackground: colores.bodyPage.card.background,\r\n\t// \t\t\t\t\t\t\t}\r\n\t// \t\t\t\t\t\t}\r\n\t// \t\t\t\t\t});\r\n\t// \t\t\t\t}\r\n\t// \t\t\t})\r\n\t// \t\t\t.catch((res) => {\r\n\t// \t\t\t\tconsole.log(res);\r\n\t// \t\t\t\tsetLoading(false);\r\n\t// \t\t\t});\r\n\t// \t},\r\n\t// \t[ decoded._id, token, setDatosContx, setLoading ]\r\n\t// );\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.background\r\n\t\t},\r\n\t});\r\n\t\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<ColorCustomizer />\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className={\"cuerpo bg-layout \"+ classes.background}>\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t{/* <Categorias /> */}\r\n\t\t\t\t\t\t<Content style={{ height: 'auto' }} className={\"bg-layout \" + classes.background}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer  className=\"foot mt-3\" style={{ margin: 0, padding: 0 }}>\r\n\t\t\t\t\t<FooterPage style={{ margin: 0, padding: 0 }} />\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Spin } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default function Spinner(props){\r\n    return <Spin className=\"spiner\" size=\"large\" spinning={props.spinning}>{props.children}</Spin>\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\tconst {setCurrent, current} = props;\r\n\tconst {next} = props;\r\n\r\n\tconst [datosNegocio, setDatosNegocio] = useState({});\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos();\r\n\t\t\tif (!datosNegocio) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm() {\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t// setReloadInfo(true);\r\n\t\t\t\t\t// drawnerClose();\r\n\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de envió sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form} className=\"mt-5\">\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promoción de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promoción de envío a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la promoción\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envío' : 'Actualizar politicas de envío'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function Registro_Politicas(props) {\r\n\tconst {setCurrent, current} = props;\r\n\r\n\tconst {next} = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [datos, setDatos] = useState({});\r\n\tconst [datosNegocio, setDatosNegocio] = useState({});\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t// const token = localStorage.getItem('token');\r\n\t// var decoded = Jwt(token);\r\n\r\n\tconst monstrarInformacionBlog = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t  };\r\n\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t\r\n\t\tif (datosNegocio !== undefined) {\r\n\t\t\tsetDisabled(false);\r\n\t\t\tmonstrarInformacionBlog({\r\n\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\tpoliticasVentas: datosNegocio.politicasVentas,\r\n\t\t\t\tpoliticasEnvios: datosNegocio.politicasEnvios,\r\n\t\t\t\tpoliticasDescuentos: datosNegocio.politicasDescuentos,\r\n\t\t\t\tpoliticasDevolucion: datosNegocio.politicasDevolucion\r\n\t\t\t});\r\n\t\t\tsetDatos({\r\n\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\tpoliticasVentas: datosNegocio.politicasVentas,\r\n\t\t\t\tpoliticasEnvios: datosNegocio.politicasEnvios,\r\n\t\t\t\tpoliticasDescuentos: datosNegocio.politicasDescuentos,\r\n\t\t\t\tpoliticasDevolucion: datosNegocio.politicasDevolucion\r\n\t\t\t});\r\n\t\t\tsetControl(true);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t\tsetDatos({});\r\n\t\t\tsetControl(false);\r\n\t\t}\r\n\t  }, [datosNegocio]);\r\n\r\n\r\n\tconst capturarPoliticasEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicas: content });\r\n\t};\r\n\tconst capturarPoliticasVentas = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasVentas: content });\r\n\t};\r\n\tconst capturarPoliticasEnvio = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasEnvios: content });\r\n\t};\r\n\tconst capturarPoliticasDescuento = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasDescuentos: content });\r\n\t};\r\n\tconst capturarPoliticasDevolucion = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicasDevolucion: content });\r\n\t};\r\n\t\r\n\r\n\t  async function SendForm(){\r\n\t\tsetLoading(true);\r\n\t\t// console.log(datos);\r\n\t\tif (disabled === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/tienda/politicas/${datosNegocio._id}`,\r\n\t\t\t\tdatos,\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControl(true);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t// next();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\tmessage: \"Registro exitoso\",\r\n\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: \"Error\",\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2,\r\n\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: \"Error de conexion\",\r\n\t\t\t\t\tdescription: \"Al parecer no se a podido conectar al servidor.\",\r\n\t\t\t\t\tduration: 2,\r\n\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\r\n\t};\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de empresa sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form  \r\n\t\t\t\tonFinish={SendForm}\r\n              \tform={form}\r\n\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t>\r\n\r\n\t\t\t\t{/* PRIMER PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Privacidad</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicas\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEditor}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* SEGUNDO PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Ventas</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasVentas\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasVentas}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* TERCER PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Envíos</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasEnvios\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEnvio}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{/* CUARTO PANEL  */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Descuentos</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasDescuentos\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasDescuento}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t{/* QUINTO PANEL */}\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de Devolución</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"politicasDevolucion\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\"advlist autolink lists link image charmap print preview anchor\",\r\n\t\t\t\t\t\t\t\t\"searchreplace visualblocks code fullscreen\",\r\n\t\t\t\t\t\t\t\t\"insertdatetime media table paste code help wordcount\",\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonEditorChange={capturarPoliticasDevolucion}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de la Empresa' : 'Actualizar politicas de Empresa'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport \"./coberturaEnvios.scss\";\r\nimport {\r\n  Button,\r\n  Select,\r\n  Tag,\r\n  notification,\r\n  Table,\r\n  Spin,\r\n  Modal,\r\n  Tooltip,\r\n  Checkbox,\r\n} from \"antd\";\r\nimport {\r\n  EditOutlined,\r\n  ExclamationCircleOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\n\r\nimport clienteAxios from \"../../../../../config/axios\";\r\nimport tokenEstados from \"../../../../../config/tokenEstados\";\r\n\r\nconst consultaEstados = axios.create({\r\n  baseURL: `https://api-sepomex.hckdrk.mx/query/`,\r\n});\r\n\r\nexport default function Cobertura_envios(props) {\r\n  const token = localStorage.getItem(\"token\");\r\n  const { confirm } = Modal;\r\n  const { Option } = Select;\r\n  const { Column } = Table;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [reload, setReload] = useState(false);\r\n  const [municipioGuardado, setMunicipioGuardado] = useState([]);\r\n  const [idEstado, setIdEstado] = useState([]);\r\n\r\n  const [todos, setTodos] = useState(false);\r\n\r\n  const [municipiosApi, setMunicipiosApi] = useState([]);\r\n  const [estadosApi, setEstadoApi] = useState([]);\r\n  const [value, setValue] = useState([]);\r\n\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n  const [estado, setEstado] = useState(\"\");\r\n\r\n  const errors = (err) => {\r\n    if (err.response) {\r\n      notification.error({\r\n        message: \"Error\",\r\n        description: err.response.data.message,\r\n        duration: 2,\r\n      });\r\n    } else {\r\n      notification.error({\r\n        message: \"Error de conexion\",\r\n        description: \"Al parecer no se a podido conectar al servidor.\",\r\n        duration: 2,\r\n      });\r\n    }\r\n  };\r\n\r\n  const selectTodos = (e) => {\r\n    setTodos(e.target.checked);\r\n    // console.log(e.target.checked);\r\n    \r\n  };\r\n\r\n  //*******************************Checkeo de datos************************************************************************************ */\r\n  const [covertura, setCovertura] = useState([]);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n\r\n  const onSelectChange = (parametros) => {\r\n    setSelectedRowKeys(parametros);\r\n    const listaMun = parametros.map((res) => {\r\n      return res;\r\n    });\r\n    setCovertura(listaMun);\r\n  };\r\n\r\n  const rowSelection = {\r\n    selectedRowKeys,\r\n    onChange: onSelectChange,\r\n    getCheckboxProps: (municipio) => {\r\n      if (value) {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      } else {\r\n        return {\r\n          disabled: municipio.municipio && municipio.length !== 0,\r\n          // Column configuration not to be checked\r\n          name: municipio.name,\r\n        };\r\n      }\r\n    },\r\n    onSelect: (record, selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n    onSelectAll: (selected, selectedRows) => {\r\n      setCovertura(selectedRows);\r\n    },\r\n  };\r\n\r\n  const checkearChecks = () => {\r\n    const listaMunicipios = municipioGuardado.map((municipio) => {\r\n      return municipio;\r\n    });\r\n    setSelectedRowKeys(listaMunicipios);\r\n  };\r\n  //*******************************************Consultas de API Externas*************************************************************** */\r\n\r\n  const selectMunicipio = (value) => {\r\n    setValue(value);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n\r\n    if (value) {\r\n      setEstado(value);\r\n      setLoading(true);\r\n      consultaEstados\r\n        .get(`/get_municipio_por_estado/${value}?token=${tokenEstados}`)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          const datosApiMunicipios = res.data.response.municipios;\r\n          setMunicipiosApi(res.data.response.municipios);\r\n          const arrayMunicipio = [];\r\n          dataEstados.forEach((estado) => {\r\n            if (value === estado.estado) {\r\n              setIdEstado(estado._id);\r\n              estado.municipios.map((municipio) => {\r\n                for (let i = 0; i < datosApiMunicipios.length; i++) {\r\n                  if (datosApiMunicipios[i] === municipio.municipio) {\r\n                    arrayMunicipio.push(municipio.municipio);\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n          setSelectedRowKeys(arrayMunicipio);\r\n        })\r\n        .catch((err) => {\r\n          notification.error({\r\n            message: \"Error del servidor\",\r\n            description: \"Paso algo en el servidor\",\r\n          });\r\n        });\r\n    }\r\n  };\r\n\r\n  function obtenerEstados() {\r\n    consultaEstados\r\n      .get(`/get_estados?token=${tokenEstados}`)\r\n      .then((res) => {\r\n        setEstadoApi(res.data.response.estado);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  }\r\n\r\n  const arrayMunicipio = [];\r\n  for (let i = 0; i < covertura.length; i++) {\r\n    arrayMunicipio.push({ municipio: covertura[i] });\r\n  }\r\n\r\n  // *****************************************ENVIO DE ESTADOS****************************************************************\r\n  const enviarDatos = async () => {\r\n    var nuevoEstado = {};\r\n\r\n    //Condicion de registros y actualizacion\r\n    if (todos && dataEstados.length == 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (todos && dataEstados.length > 0) {\r\n      nuevoEstado.todos = todos;\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/todos`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setTodos(false);\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa a todo mexico\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (selectedRowKeys.length > 0 && !idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .post(`/politicasEnvio/estados/`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Registro Exitoso\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          limpiar();\r\n          setTodos(false);\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    } else if (idEstado) {\r\n      nuevoEstado = {\r\n        estado: estado,\r\n        municipios: arrayMunicipio,\r\n      };\r\n      clienteAxios\r\n        .put(`/politicasEnvio/estados/${idEstado}`, nuevoEstado, {\r\n          headers: {\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          notification.success({\r\n            message: \"Actualizacion Exitosa de estado\",\r\n            duration: 2,\r\n          });\r\n          setReload(res);\r\n          setTodos(false);\r\n          limpiar();\r\n        })\r\n        .catch((err) => {\r\n          errors(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  // ***************************************** Retorno de estados TAGS***************************************************************\r\n  const traerDatos = async () => {\r\n    clienteAxios.get(`/politicasEnvio/estados/`).then((res) => {\r\n      if (res.data.length > 0) {\r\n        res.data.map((todo) => {\r\n          if (todo.todos === true) {\r\n            setTodos(true);\r\n          }\r\n        });\r\n      }\r\n\r\n      setDataEstados(res.data);\r\n      setReload(true);\r\n    });\r\n  };\r\n\r\n  // console.log(todosApi);\r\n  // *****************************************Eliminar estados****************************************************************\r\n  const deleteEstado = (state) => {\r\n    confirm({\r\n      title: \"Eliminando Estado\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: `¿Estás seguro que deseas eliminar el Estado?`,\r\n      okText: \"Eliminar\",\r\n      okType: \"danger\",\r\n      cancelText: \"Cancelar\",\r\n      onOk() {\r\n        clienteAxios\r\n          .delete(`/politicasEnvio/estados/${state._id}`, {\r\n            headers: {\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            notification.success({\r\n              message: \"Estado Eliminado\",\r\n            });\r\n            setReload(res);\r\n            limpiar();\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      },\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    obtenerEstados();\r\n    if (value) {\r\n      checkearChecks();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, [reload]);\r\n\r\n  function limpiar() {\r\n    setValue([]);\r\n    setMunicipiosApi([]);\r\n    setSelectedRowKeys([]);\r\n    setMunicipioGuardado([]);\r\n    setIdEstado();\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-5\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-lg-6\">\r\n          \r\n          <Checkbox \r\n            onChange={selectTodos} \r\n            checked={todos} \r\n            className=\"mt-2\"\r\n            style={{fontSize: 16, color: \"green\"}}\r\n          >\r\n            Envio a todo Mexico\r\n          </Checkbox>\r\n\r\n          <Select\r\n            style={{ width: \"70%\" }}\r\n            className=\"mt-3\"\r\n            placeholder=\"Selecciona un estado\"\r\n            onChange={selectMunicipio}\r\n            value={value}\r\n            disabled={todos}\r\n          >\r\n            {estadosApi.length !== 0 ? (\r\n              estadosApi.map((estado) => {\r\n                return (\r\n                  <Option key={estado} value={estado}>\r\n                    {estado}\r\n                  </Option>\r\n                );\r\n              })\r\n            ) : (\r\n              <Option />\r\n            )}\r\n          </Select>\r\n          \r\n          <div className=\"text-center mt-3\">\r\n            {\r\n           \r\n              dataEstados.map((estado) => {\r\n               if (estado.todos) {\r\n\r\n               }else{\r\n                const municipios = [];\r\n                estado.municipios.map((municipio) => {\r\n                  municipios.push(municipio.municipio + \"       -       \");\r\n                });\r\n                return (\r\n                  <Tooltip\r\n                    placement=\"left\"\r\n                    key={estado._id}\r\n                    title={municipios}\r\n                  >\r\n                    <Tag\r\n                      className=\"mt-3 tags-color\"\r\n                      visible={true}\r\n                      closable\r\n                      onClick={() => selectMunicipio(estado.estado)}\r\n                      onClose={() => deleteEstado(estado)}\r\n                      key={estado._id}\r\n                    >\r\n                      {estado.estado}\r\n                    </Tag>\r\n                  </Tooltip>\r\n                );\r\n               }\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div style={{ width: \"50%\", textAlign: \"center\" }}>\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Table\r\n              className=\"\"\r\n              rowSelection={rowSelection}\r\n              dataSource={municipiosApi}\r\n              rowKey={(municipio) => municipio}\r\n              scroll={{ y: 300 }}\r\n              pagination={false}\r\n            >\r\n              <Column title={\"Municipios\"} />\r\n            </Table>\r\n          </Spin>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"justify-content-center align-items-center text-center mt-4\">\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={enviarDatos}\r\n        >\r\n          <EditOutlined style={{ fontSize: 24 }} />\r\n          Agregar\r\n        </Button>\r\n\r\n        <Button\r\n          className=\"mt-4 m-3 text-center px-4\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={limpiar}\r\n          disabled={todos}\r\n        >\r\n          <DeleteOutlined style={{ fontSize: 20 }} />\r\n          Limpiar\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\r\nconst tokenEstados = \"9cd0f726-aaef-42d2-a00f-96fa42f271cc\";\r\n\r\nexport default tokenEstados;","import React, { useContext, useState, useEffect, useRef } from 'react';\r\nimport { Table, Input, Button, Form, Switch, Divider, notification } from 'antd';\r\nimport './horarios.scss';\r\nimport clienteAxios from '../../../../../config/axios';\r\nconst EditableContext = React.createContext(null);\r\n\r\nconst EditableRow = ({ index, ...props }) => {\r\n\tconst [ form ] = Form.useForm();\r\n\treturn (\r\n\t\t<Form form={form} component={false}>\r\n\t\t\t<EditableContext.Provider value={form}>\r\n\t\t\t\t<tr {...props} />\r\n\t\t\t</EditableContext.Provider>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nconst EditableCell = ({ title, editable, children, dataIndex, record, handleSave, ...restProps }) => {\r\n\tconst [ editing, setEditing ] = useState(false);\r\n\tconst inputRef = useRef(null);\r\n\tconst form = useContext(EditableContext);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (editing) {\r\n\t\t\t\tinputRef.current.focus();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ editing ]\r\n\t);\r\n\r\n\tconst toggleEdit = () => {\r\n\t\tsetEditing(!editing);\r\n\t\tform.setFieldsValue({\r\n\t\t\t[dataIndex]: record[dataIndex]\r\n\t\t});\r\n\t};\r\n\r\n\tconst save = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst values = await form.validateFields();\r\n\t\t\ttoggleEdit();\r\n\t\t\thandleSave({ ...record, ...values });\r\n\t\t} catch (errInfo) {\r\n\t\t\tconsole.log('Save failed:', errInfo);\r\n\t\t}\r\n\t};\r\n\tconst saveOnChange = (e) => {\r\n\t\tlet count;\r\n\t\tcount = [ ...e.target.value ];\r\n\r\n\t\tif (count.length === 2 && e.nativeEvent.inputType !== 'deleteContentBackward') {\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t\t[dataIndex]: e.target.value + ':'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tform.setFieldsValue({\r\n\t\t\t[dataIndex]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tlet childNode = children;\r\n\r\n\tif (editable) {\r\n\t\tchildNode = editing ? (\r\n\t\t\t<Form.Item\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tmargin: 0\r\n\t\t\t\t}}\r\n\t\t\t\tname={dataIndex}\r\n\t\t\t>\r\n\t\t\t\t<Input ref={inputRef} onPressEnter={save} onBlur={save} onChange={saveOnChange} maxLength=\"5\" />\r\n\t\t\t</Form.Item>\r\n\t\t) : (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"editable-cell-value-wrap\"\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tpaddingRight: 24,\r\n\t\t\t\t\theight: 25\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={toggleEdit}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nfunction HorariosAdmin({datosNegocio, reloadInfo, setReloadInfo, current, setCurrent}) {\r\n    const form = useContext(EditableContext);\r\n    const token = localStorage.getItem('token');\r\n    const [ disable, setDisable ] = useState(true);\r\n\tconst [ dataSource, setDataSource ] = useState([\r\n\t\t{\r\n\t\t\tkey: '0',\r\n\t\t\tdia: 'Domingo',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '1',\r\n\t\t\tdia: 'Lunes',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '2',\r\n\t\t\tdia: 'Martes',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '3',\r\n\t\t\tdia: 'Miercoles',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '4',\r\n\t\t\tdia: 'Jueves',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '5',\r\n\t\t\tdia: 'Viernes',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t},\r\n\t\t{\r\n\t\t\tkey: '6',\r\n\t\t\tdia: 'Sabado',\r\n\t\t\thoraInicio: '',\r\n\t\t\thoraFinal: '',\r\n\t\t\tclose: false\r\n\t\t}\r\n\t]);\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Dia',\r\n\t\t\tdataIndex: 'dia',\r\n\t\t\teditable: false,\r\n\t\t\twidth: '25%'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Hora apertura',\r\n\t\t\tdataIndex: 'horarioInicial',\r\n\t\t\teditable: true,\r\n\t\t\twidth: '25%'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Hora de cierre',\r\n\t\t\tdataIndex: 'horarioFinal',\r\n\t\t\teditable: true,\r\n\t\t\twidth: '25%'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dias abiertos',\r\n\t\t\tdataIndex: 'close',\r\n\t\t\twidth: '10%',\r\n\t\t\trender: (_, record) => (\r\n\t\t\t\t<Switch\r\n\t\t\t\t\tchecked={record.close}\r\n\t\t\t\t\tcheckedChildren=\"Abierto\"\r\n\t\t\t\t\tunCheckedChildren=\"Cerrado\"\r\n\t\t\t\t\tonChange={(value) => onChangeCloseDay(value, record)}\r\n\t\t\t\t/>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n    const components = {\r\n\t\tbody: {\r\n\t\t\trow: EditableRow,\r\n\t\t\tcell: EditableCell\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSave = (row) => {\r\n\t\tconst newData = [ ...dataSource ];\r\n\t\tconst index = newData.findIndex((item) => row.key === item.key);\r\n\t\tconst item = newData[index];\r\n\t\tnewData.splice(index, 1, { ...item, ...row });\r\n\t\tsetDataSource(newData);\r\n\t};\r\n\r\n\tconst onChangeCloseDay = (value, record) => {\r\n\t\tconst newData = [ ...dataSource ];\r\n\t\tconst index = newData.findIndex((item) => record.key === item.key);\r\n\t\tconst item = newData[index];\r\n\t\titem.close = value;\r\n\t\tnewData.splice(index, 1, { ...item, ...record });\r\n\t\tsetDataSource(newData);\r\n\t};\r\n\r\n\tconst onChange = (checked) => {\r\n\t\tsetDisable(!checked);\r\n\t};\r\n\r\n    const enviarDatos = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\"/tienda/horario/empresa\", \r\n            disable ? [] : dataSource\r\n            , {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t});\r\n                setReloadInfo(!reloadInfo);\r\n                setCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n    useEffect(() => {\r\n        if (datosNegocio?.horario.length > 0){\r\n            setDataSource(datosNegocio.horario);\r\n            setDisable(false);\r\n        }else{\r\n            setDisable(true)\r\n        }\r\n    }, [ reloadInfo, datosNegocio ])\r\n\r\n\tconst columnas = columns.map((col) => {\r\n\t\tif (!col.editable) {\r\n\t\t\treturn col;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t...col,\r\n\t\t\tonCell: (record) => ({\r\n\t\t\t\trecord,\r\n\t\t\t\teditable: col.editable,\r\n\t\t\t\tdataIndex: col.dataIndex,\r\n\t\t\t\ttitle: col.title,\r\n\t\t\t\thandleSave: handleSave\r\n\t\t\t})\r\n\t\t};\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"mt-5\">Horarios y Días Laborales</Divider>\r\n\t\t\t<div className=\"my-3\">\r\n\t\t\t\t<p>Activar horarios</p>\r\n\t\t\t\t<Switch checked={disable ? false : true} onChange={onChange} />\r\n\t\t\t</div>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-disable-horarios\"\r\n\t\t\t\tcomponents={components}\r\n\t\t\t\trowClassName={() => 'editable-row'}\r\n\t\t\t\tbordered\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\tcolumns={columnas}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\tloading={disable}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-2 d-flex justify-content-right\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tmarginBottom: 16\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\tGuardar horarios\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default HorariosAdmin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Divider,\r\n  Button,\r\n  Upload,\r\n  notification,\r\n  Alert,\r\n  Steps,\r\n  /* message, */\r\n  Spin,\r\n} from \"antd\";\r\nimport {\r\n  PlusCircleOutlined,\r\n  EditOutlined,\r\n  UploadOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Editor } from \"@tinymce/tinymce-react\";\r\nimport clienteAxios from \"../../../../../config/axios\";\r\nimport PoliticasEnvio from \"./politicas_envio\";\r\nimport Registro_Politicas from \"./registroPoliticas\";\r\nimport Cobertura_envio from \"./cobertura_envios\";\r\nimport aws from \"../../../../../config/aws\";\r\nimport HorariosAdmin from \"./horarios\";\r\n// import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n// import { faMapMarkedAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function RegistroTienda(props) {\r\n /*  const { drawnerClose } = props; */\r\n  const [current, setCurrent] = props.steps;\r\n\r\n  const {/* setDatosNegocio,  */datosNegocio, token, reloadInfo, setReloadInfo } = props;\r\n\r\n  const [datos, setDatos] = useState({});\r\n  const [control, setControl] = useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n  const { Step } = Steps;\r\n  const [upload, setUpload] = useState(false);\r\n  //Variables que guardan las imagenes\r\n  const [files, setFiles] = useState([]);\r\n  const [imagen, setImagen] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const monstrarInformacionBlog = (e) => {\r\n    form.setFieldsValue(e);\r\n  };\r\n\r\n  /* const [current, setCurrent] = useState(0); */\r\n\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n\r\n  };\r\n\r\n  /* const prev = () => {\r\n    setCurrent(current - 1);\r\n  }; */\r\n\r\n  useEffect(() => {\r\n    if (datosNegocio !== undefined) {\r\n      setImagen(datosNegocio.imagenLogo);\r\n      // if (datosNegocio.ubicacion[0].lat === \"undefined\") {\r\n      //   datosNegocio.ubicacion[0].lat = \"\";\r\n      // }\r\n      // if (datosNegocio.ubicacion[0].lng === \"undefined\") {\r\n      //   datosNegocio.ubicacion[0].lng = \"\";\r\n      // }\r\n      if (datosNegocio.linkFace === \"undefined\") {\r\n        datosNegocio.linkFace = \"\";\r\n      }\r\n      if (datosNegocio.linkInsta === \"undefined\") {\r\n        datosNegocio.linkInsta = \"\";\r\n      }\r\n      if (datosNegocio.linkTweeter === \"undefined\") {\r\n        datosNegocio.linkTweeter = \"\";\r\n      }\r\n      monstrarInformacionBlog({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        // lat: datosNegocio.ubicacion[0].lat,\r\n        // lng: datosNegocio.ubicacion[0].lng,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        /* diasHorariosEmpresas: datosNegocio.diasHorariosEmpresas, */\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setDatos({\r\n        nombre: datosNegocio.nombre,\r\n        telefono: datosNegocio.telefono,\r\n        calle_numero: datosNegocio.direccion[0].calle_numero,\r\n        cp: datosNegocio.direccion[0].cp,\r\n        colonia: datosNegocio.direccion[0].colonia,\r\n        ciudad: datosNegocio.direccion[0].ciudad,\r\n        estado: datosNegocio.direccion[0].estado,\r\n        // lat: datosNegocio.ubicacion[0].lat,\r\n        // lng: datosNegocio.ubicacion[0].lng,\r\n        imagenCorp: datosNegocio.imagenCorp,\r\n        /* diasHorariosEmpresas: datosNegocio.diasHorariosEmpresas, */\r\n        linkFace: datosNegocio.linkFace,\r\n        linkInsta: datosNegocio.linkInsta,\r\n        linkTweeter: datosNegocio.linkTweeter,\r\n      });\r\n      setControl(true);\r\n    } else {\r\n      setDatos({});\r\n      setControl(false);\r\n    }\r\n  }, [datosNegocio]);\r\n\r\n\r\n  // const capturarPoliticasEditor = (content, editor) => {\r\n  //   setDatos({ ...datos, politicas: content });\r\n  // };\r\n\r\n  const capturarImagenCorpEditor = (content, editor) => {\r\n    setDatos({ ...datos, imagenCorp: content });\r\n  };\r\n\r\n  /* const capturarHorariosDias = (content, editor) => {\r\n    setDatos({ ...datos, diasHorariosEmpresas: content });\r\n  }; */\r\n\r\n  // console.log(capturarHorariosDias);\r\n  // console.log(datosNegocio.diasHorariosEmpresas);\r\n\r\n\r\n  const propss = {\r\n    listType: \"picture\",\r\n    beforeUpload: (file) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        file.thumbUrl = e.target.result;\r\n        setFiles(file);\r\n      };\r\n      setUpload(true);\r\n      return false;\r\n    },\r\n    onRemove: (file) => {\r\n      setUpload(false);\r\n      setFiles([]);\r\n    },\r\n  };\r\n\r\n  /* const onError = (error) => {\r\n    error.errorFields.map((err) => {\r\n      notification.error({\r\n        message: `[${err.name}]`,\r\n        description: err.errors,\r\n        duration: 5,\r\n      });\r\n    });\r\n  }; */\r\n\r\n  const SendForm = async () => {\r\n    const formData = new FormData();\r\n    formData.append(\"nombre\", datos.nombre);\r\n    formData.append(\"telefono\", datos.telefono);\r\n    formData.append(\"calle_numero\", datos.calle_numero);\r\n    formData.append(\"cp\", datos.cp);\r\n    formData.append(\"colonia\", datos.colonia);\r\n    formData.append(\"ciudad\", datos.ciudad);\r\n    formData.append(\"estado\", datos.estado);\r\n    // formData.append(\"lat\", datos.lat);\r\n    // formData.append(\"lng\", datos.lng);\r\n    // formData.append(\"politicas\", datos.politicas);\r\n    formData.append(\"imagenCorp\", datos.imagenCorp);\r\n    /* formData.append(\"diasHorariosEmpresas\", datos.diasHorariosEmpresas); */\r\n    formData.append(\"linkFace\", datos.linkFace);\r\n    formData.append(\"linkInsta\", datos.linkInsta);\r\n    formData.append(\"linkTweeter\", datos.linkTweeter);\r\n\r\n    setLoading(true);\r\n\r\n    if (control === false) {\r\n\r\n      if (files.length === 0) {\r\n        setLoading(false);\r\n        notification.info({\r\n          message: \"Ups, algo salio mal\",\r\n          description: \"La imagen es obligatoria\",\r\n\r\n        });\r\n      } else {\r\n        setLoading(true);\r\n        formData.append(\"imagen\", files);\r\n        await clienteAxios\r\n          .post(\"/tienda/\", formData, {\r\n            headers: {\r\n              \"Content-Type\": \"multipart/form-data\",\r\n              Authorization: `bearer ${token}`,\r\n            },\r\n          })\r\n          .then((res) => {\r\n            setLoading(false);\r\n            setCurrent(current + 1);\r\n            setReloadInfo(!reloadInfo)\r\n            next();\r\n            notification.success({\r\n              message: \"Registro exitoso\",\r\n              description: res.data.message,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            if (err.response) {\r\n              notification.error({\r\n                message: \"Error\",\r\n                description: err.response.data.message,\r\n                duration: 2,\r\n              });\r\n            } else {\r\n              notification.error({\r\n                message: \"Error de conexion\",\r\n                description: \"Al parecer no se a podido conectar al servidor.\",\r\n                duration: 2,\r\n              });\r\n            }\r\n          });\r\n      }\r\n    } else {\r\n      setLoading(true);\r\n      if (files.length !== 0) {\r\n        formData.append(\"imagen\", files);\r\n      }\r\n      await clienteAxios\r\n        .put(`/tienda/${datosNegocio._id}`, formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n            Authorization: `bearer ${token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          setLoading(false);\r\n          setCurrent(current + 1);\r\n          next();\r\n          notification.success({\r\n            message: \"Registro exitoso\",\r\n            description: res.data.message,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n          if (err.response) {\r\n            notification.error({\r\n              message: \"Error\",\r\n              description: err.response.data.message,\r\n              duration: 2,\r\n            });\r\n          } else {\r\n            notification.error({\r\n              message: \"Error de conexion\",\r\n              description: \"Al parecer no se a podido conectar al servidor.\",\r\n              duration: 2,\r\n            });\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const steps = [\r\n    {\r\n      title: \"Datos de la Tienda\",\r\n      content: (\r\n        <div className=\"\" >\r\n          <Spin size=\"large\" spinning={loading}>\r\n            <Form\r\n              onFinish={SendForm}\r\n              form={form}\r\n              // onFinishFailed={onError}\r\n            >\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <Divider>Logo del negocio</Divider>\r\n                  <div className=\"d-flex justify-content-center m-2\">\r\n                    <Alert\r\n                      className=\"info-recomended-sizes\"\r\n                      message=\"Tamaño recomendado para la imagen es: 900x300px\"\r\n                      type=\"info\"\r\n                      showIcon\r\n                    />\r\n                  </div>\r\n                  <div className=\"m-auto\">\r\n                    <Form.Item label=\"Logo\">\r\n                      <Upload {...propss} name=\"imagen\">\r\n                        <Button disabled={upload}>\r\n                          <UploadOutlined /> Subir\r\n                        </Button>\r\n                      </Upload>\r\n                    </Form.Item>\r\n                    {control === false ? (\r\n                      \"\"\r\n                    ) : (\r\n                      <div>\r\n                        <p className=\"text-center\">Imagen actual:</p>\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                          <img\r\n                            className=\"d-block img-fluid mt-2\"\r\n                            width=\"200\"\r\n                            alt=\"imagen de base\"\r\n                            src={aws + imagen}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Información de la tienda</Divider>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Nombre\"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, nombre: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Nombre obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"nombre\"\r\n                    >\r\n                      <Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-6 col-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Telefono \"\r\n                    labelCol={{ offset: 1, span: 5 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, telefono: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Telefono obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"telefono\"\r\n                    >\r\n                      <Input name=\"telefono\" placeholder=\"Telefono\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Calle\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, calle_numero: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"calle_numero\"\r\n                    >\r\n                      <Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Código Postal \"\r\n                    onChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: \"Código Postal obligatorio\",\r\n                        },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"cp\"\r\n                    >\r\n                      <Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Colonia \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, colonia: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Colonia obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"colonia\"\r\n                    >\r\n                      <Input name=\"colonia\" placeholder=\"Colonia\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3 justify-content-center\">\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Ciudad\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, ciudad: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Direccion obligatoria\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"ciudad\"\r\n                    >\r\n                      <Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-5 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Estado\"\r\n                    labelCol={{ offset: 1, span: 4 }}\r\n                    wrapperCol={{ offset: 1, span: 15 }}\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, estado: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item\r\n                      rules={[\r\n                        { required: true, message: \"Estado obligatorio\" },\r\n                      ]}\r\n                      noStyle\r\n                      name=\"estado\"\r\n                    >\r\n                      <Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              {/* <div className=\"row d-flex justify-content-center align-items-center\">\r\n                <Divider>Ubicación</Divider>\r\n                <div className=\"row justify-content-center\">\r\n                  <div className=\"col-lg-12 text-center\">\r\n                    <a\r\n                      href=\"https://www.google.com.mx/maps/preview\"\r\n                      target=\"_blank\"\r\n                      style={{ fontSize: 16 }}\r\n                    >\r\n                      Ir a Google Maps\r\n                      <FontAwesomeIcon\r\n                        icon={faMapMarkedAlt}\r\n                        style={{ marginLeft: 15, fontSize: \"20px\" }}\r\n                      />\r\n                    </a>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Latitud \"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lat: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Latitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lat\"\r\n                      >\r\n                        <Input name=\"lat\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                  <div className=\"col-lg-4 col-12\">\r\n                    <Form.Item\r\n                      className=\"m-2\"\r\n                      label=\"Longitud\"\r\n                      labelCol={{ offset: 1, span: 4 }}\r\n                      wrapperCol={{ offset: 1, span: 12 }}\r\n                      onChange={(e) =>\r\n                        setDatos({ ...datos, lng: e.target.value })\r\n                      }\r\n                    >\r\n                      <Form.Item\r\n                        rules={[\r\n                          { required: true, message: \"Longitud obligatoria\" },\r\n                        ]}\r\n                        noStyle\r\n                        name=\"lng\"\r\n                      >\r\n                        <Input name=\"lng\" placeholder=\"Latitud\" />\r\n                      </Form.Item>\r\n                    </Form.Item>\r\n                  </div>\r\n                </div>\r\n              </div> */}\r\n\r\n              <div className=\"row\">\r\n                <Divider>Redes sociales</Divider>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Facebook \"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkFace: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkFace\">\r\n                      <Input\r\n                        name=\"linkFace\"\r\n                        placeholder=\"https://facebook.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Instagram\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkInsta: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkInsta\">\r\n                      <Input\r\n                        name=\"linkInsta\"\r\n                        placeholder=\"https://instagram.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n                <div className=\"col-lg-4 col-sm-12\">\r\n                  <Form.Item\r\n                    className=\"m-2\"\r\n                    label=\"Tweeter\"\r\n                    onChange={(e) =>\r\n                      setDatos({ ...datos, linkTweeter: e.target.value })\r\n                    }\r\n                  >\r\n                    <Form.Item noStyle name=\"linkTweeter\">\r\n                      <Input\r\n                        name=\"linkTweeter\"\r\n                        placeholder=\"https://twitter.com/\"\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <Divider>Imagen corporativa</Divider>\r\n                <div className=\"col-12\">\r\n                  <Form.Item className=\"m-2\">\r\n                    <Form.Item\r\n                      rules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t    noStyle \r\n                      name=\"imagenCorp\"\r\n                    >\r\n                      <Editor\r\n                        disabled={false}\r\n                        init={{\r\n                          height: 450,\r\n                          menubar: true,\r\n                          plugins: [\r\n                            \"advlist autolink lists link image charmap print preview anchor\",\r\n                            \"searchreplace visualblocks code fullscreen\",\r\n                            \"insertdatetime media table paste code help wordcount\",\r\n                          ],\r\n                          toolbar:\r\n                            \"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help\",\r\n                        }}\r\n                        onEditorChange={capturarImagenCorpEditor}\r\n                      />\r\n                    </Form.Item>\r\n                  </Form.Item>\r\n                </div>\r\n              </div>\r\n\r\n              <Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n                <Button\r\n                  className=\"text-center\"\r\n                  size=\"large\"\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                  icon={\r\n                    control === false ? (\r\n                      <PlusCircleOutlined style={{ fontSize: 24 }} />\r\n                    ) : (\r\n                      <EditOutlined style={{ fontSize: 24 }} />\r\n                    )\r\n                  }\r\n                  // onClick={next}\r\n                >\r\n                  {control === false\r\n                    ? \"Registrar informacion de la tienda\"\r\n                    : \"Actualizar información de la tienda\"}\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </Spin>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Horarios\",\r\n      content: (\r\n        <div>\r\n          <HorariosAdmin datosNegocio={datosNegocio} reloadInfo={reloadInfo} setReloadInfo={setReloadInfo} setCurrent={setCurrent} current={current} />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Políticas de Empresa\",\r\n      content: (\r\n        <div>\r\n          <Registro_Politicas\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Costos de Envió\",\r\n      content: (\r\n        <div>\r\n          <PoliticasEnvio\r\n            setCurrent={setCurrent}\r\n            current={current}\r\n          />\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Covertura de envió\",\r\n      content: (\r\n        <div>\r\n          <Cobertura_envio />\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Steps current={current}>\r\n        {steps.map((item) => (\r\n          <Step key={item.title} title={item.title} status={item.status}/>\r\n        ))}\r\n      </Steps>\r\n\r\n      <div className=\"steps-content\">{steps[current].content}</div>\r\n\r\n      {/* <div className=\"steps-action\">\r\n        {current < steps.length - 1 && (\r\n          <Button type=\"primary\" onClick={() => next()}>\r\n            Siguiente\r\n          </Button>\r\n        )}\r\n        {current > 0 && (\r\n          <Button style={{ margin: \"0 8px\" }} onClick={() => prev()}>\r\n            Anterior\r\n          </Button>\r\n        )}\r\n      </div> */}\r\n\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { Button, Drawer, Alert, notification, Empty } from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './MostrarRegistroTienda.scss';\r\nimport {\r\n\tPlusCircleOutlined,\r\n\tEditOutlined,\r\n\tEyeOutlined,\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled\r\n} from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../../../config/aws';\r\n\r\nfunction MostrarRegistroTienda(props) {\r\n\tconst { token } = props;\r\n\r\n\tconst [ action, setAction ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datosNegocio, setDatosNegocio ] = useState({});\r\n\tconst [ face, setFace ] = useState('');\r\n\tconst [ insta, setInsta ] = useState('');\r\n\tconst [ twitter, setTwitter ] = useState('');\r\n\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\tconst [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n\t// const [ lat, setLat ] = useState('');\r\n\t// const [ lng, setLng ] = useState('');\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst drawnerClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tsetReloadInfo(!reloadInfo)\r\n\t};\r\n\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t\tif (res.data[0]) {\r\n\t\t\t\t\tsetAction(true);\r\n\t\t\t\t\t// if (res.data[0].ubicacion[0].lat === '' || res.data[0].ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\t// \tsetLat('19.767980');\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tsetLat(res.data[0].ubicacion[0].lat);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// if (res.data[0].ubicacion[0].lng === '' || res.data[0].ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\t// \tsetLng('-104.358159');\r\n\t\t\t\t\t// } else {\r\n\t\t\t\t\t// \tsetLng(res.data[0].ubicacion[0].lng);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== '') {\r\n\t\t\t\t\t\tsetFace(res.data[0].linkFace);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== '') {\r\n\t\t\t\t\t\tsetInsta(res.data[0].linkInsta);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== '') {\r\n\t\t\t\t\t\tsetTwitter(res.data[0].linkTweeter);\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t\t// else {\r\n\t\t\t\t// \tsetLat('19.767980');\r\n\t\t\t\t// \tsetLng('-104.358159');\r\n\t\t\t\t// }\r\n\t\t\t\t/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\t// setLat('19.767980');\r\n\t\t\t\t// setLng('-104.358159');\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerPoliticasEnvio = useCallback(\r\n\t\tasync () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ token ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tobtenerPoliticasEnvio();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo, obtenerPoliticasEnvio ]\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <Spin />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"info-tienda\">\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={\r\n\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t'Registrando la información del negocio'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Actualizando la información del negocio'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" onClick={() => prev()}>\r\n\t\t\t\t\t\t\t\tAnterior\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{current < 4 && (\r\n\t\t\t\t\t\t\t<Button className=\"mx-1\" type=\"primary\" onClick={() => next()} disabled={!datosNegocio}>\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button className=\"mx-1\" onClick={drawnerClose} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<RegistroTienda\r\n\t\t\t\t\tdatosNegocio={datosNegocio}\r\n\t\t\t\t\tsetDatosNegocio={setDatosNegocio}\r\n\t\t\t\t\ttoken={token}\r\n\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\tsteps={[current, setCurrent]}\r\n\t\t\t\t\treloadInfo={reloadInfo}\r\n\t\t\t\t\tsetReloadInfo={setReloadInfo}\r\n\t\t\t\t\t// drawnerClose={drawnerClose}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\r\n\t\t\t<div className=\"contenedor-boton-datostienda\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"m-3\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/* drawnerClose={drawnerClose} */\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{action === false ? 'Agregar información tienda' : 'Editar información tienda'}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t<p className=\"text-center mb-4 font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t'Ey aún no agregas la información de tu negocio.'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Información de tu negocio'\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"w-50\" style={{ margin: 'auto' }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t<Alert message=\"Nota:\" description={<AlertTienda />} type=\"info\" showIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{action === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">Logo del negocio:</p>\r\n\t\t\t\t\t\t<div className=\"mostrarRegistroTienda-imagen m-3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid \"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + datosNegocio.imagenLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tNombre del negocio:{' '}\r\n\t\t\t\t\t\t\t<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Nombre de tu negocio' : datosNegocio.nombre}{' '}\r\n\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tTeléfono:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Teléfono' : datosNegocio.telefono}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCódigo Postal:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Código Postal' : datosNegocio.direccion[0].cp}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCalle:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Calle' : datosNegocio.direccion[0].calle_numero}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tColonia:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].colonia}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCiudad:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].ciudad} Ciudad\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row justify-content-around\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tEstado:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Estado' : datosNegocio.direccion[0].estado}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"m-2 h5 font-weight-bold\">Redes sociales:</p>\r\n\t\t\t\t\t\t{face !== '' ? (\r\n\t\t\t\t\t\t\t<a href={face} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<FacebookFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{insta !== '' ? (\r\n\t\t\t\t\t\t\t<a href={insta} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<InstagramFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{twitter !== '' ? (\r\n\t\t\t\t\t\t\t<a href={twitter} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<TwitterCircleFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row justify-content-around mt-3\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow \">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tHorarios de Atención:\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{datosNegocio?.horario?.length > 0 ? \r\n\t\t\t\t\t\tdatosNegocio.horario.map((horario) => {\r\n\t\t\t\t\t\t\tif(horario.close){\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: </b> {horario.horarioInicial} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{horario.horarioFinal}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<b>{horario.dia}: NO HAY SERVICIO </b>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* <div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h5\">Ubicación actual: </p>\r\n\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\theight=\"60vh\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\tcenter={[ lat, lng ]}\r\n\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de envío</p>\r\n\t\t\t\t\t\t{politicasEnvio.length === 0 ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"politicas-p mt-4\">\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto por envío de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tPromoción de envío: <strong>${politicasEnvio.promocionEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto de promocion de envío: <strong>${politicasEnvio.descuento}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de privacidad</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/politicas`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Imagen corporativa</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/quienes_somos`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction AlertTienda() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p className=\"h5\">\r\n\t\t\t\tRecuerda que tener la información de tu negocio es importante, ya que esta informacion ayudará que tu\r\n\t\t\t\tnegocio sea encontrado fácilmente.\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\nfunction Admin(props) {\r\n\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={aws+imagenes.url}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={aws+prev}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%' }} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar tallas después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Ya puedes registrar número de calzado\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar el número de calzado después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert, Radio } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledForm(true);\r\n\t\t\t\tsetSubCategoria([]);\r\n\t\t\t\tsetValueSelectSubCat();\r\n\t\t\t\tsetSubcategoriasDefault([]);\r\n\t\t\t\tsetItem('');\r\n\t\t\t\tsetSelect('');\r\n\t\t\t\tsetCategoriasDefault([]);\r\n\t\t\t\tsetValueSelect();\r\n\t\t\t}\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadasBD();\r\n\t\t\tform.resetFields();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: '',\r\n\t\tcolor: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('Ninguno');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value[1]);\r\n\t\tsetValueSelect(value[1]);\r\n\t\tif (value[0] === 'Calzado' || value[0] === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value[0]);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('Otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('temporada', temporada);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif (tipoCategoria === 'Otros') {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTemporadasBD() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetTemporadasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerAtributo = (e) => {\r\n\t\tsetTipoCategoria(e.target.value);\r\n\t};\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, { tipoCategoria, _id: item } ]);\r\n\t\tsetSelect(item);\r\n\t\t/* setTipoCategoria('Otros'); */\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t\tform.resetFields();\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t\tsetValueSelectSubCat(value);\r\n\t\tform.setFieldsValue({ subCategoria: value });\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t/* temporadas */\r\n\tconst [ temporada, setTemporada ] = useState('');\r\n\tconst [ valueSelectTemporada, setValueSelectTemporada ] = useState();\r\n\tconst [ temporadaDefault, setTemporadaDefault ] = useState([]);\r\n\r\n\tconst onSelectTemporada = (value) => {\r\n\t\tsetTemporada(value);\r\n\t\tsetValueSelectTemporada(value);\r\n\t\tform.setFieldsValue({ temporada: value });\r\n\t};\r\n\r\n\tconst onTemporadaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tconst addItemTemporada = () => {\r\n\t\tsetTemporadaDefault([ ...temporadaDefault, item ]);\r\n\t\tsetValueSelectTemporada(item);\r\n\t\tsetTemporada(item);\r\n\t\tform.setFieldsValue({ temporada: item });\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar o agrega una nueva</h2>\r\n\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t<Form.Item className=\"my-3\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"categorias\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"categorias\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t<Form.Item className=\"my-3\">\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"atributos\">\r\n\t\t\t\t\t\t\t\t<Radio.Group onChange={obtenerAtributo} name=\"atributos\">\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Calzado\">Calzado</Radio.Button>\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Ropa\">Ropa</Radio.Button>\r\n\t\t\t\t\t\t\t\t\t<Radio.Button value=\"Otros\">Otros</Radio.Button>\r\n\t\t\t\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\tAñadir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={(e) => onSelect(e)}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => menu}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault && categoriasDefault.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tcategoriasDefault.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<Option key={item} value={[ item.tipoCategoria, item._id ]}>\r\n\t\t\t\t\t\t\t\t\t\t{item._id}\r\n\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{categoriasBD && categoriasBD.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Option key={item._id} value={[ item.tipoCategoria, item._id ]}>\r\n\t\t\t\t\t\t\t\t\t\t\t{item._id}\r\n\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tonFinishFailed={onError}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select, genero: 'Ninguno' }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Código de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Temporada\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item name=\"temporada\">\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectTemporada}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una temporada\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectTemporada}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onTemporadaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemTemporada}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{temporadaDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{temporadasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\ttemporadasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"genero\" /* \r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un género\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\tstep=\".01\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetColor}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{tipoCategoria === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{tipoCategoria === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galería(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega más imágenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar más imágenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Su producto ha sido guardado',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetCloseDraw(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img className=\"img\" src={aws + imagenes.url} alt=\"preview-imagen\" />\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img className=\"imagen-actualizar-galeria\" src={aws + prev} alt=\"preview-imagen\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnumero: '',\r\n\t\t\t\t\tcantidad: ''\r\n\t\t\t\t});\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect, useCallback } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectCat, setValueSelectCat ] = useState();\r\n\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ itemCat, setItemCat ] = useState();\r\n\t/* const [ buttonCat, setButtonCat ] = useState(true); */\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: '',\r\n\t\t\tcolor: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\tasync () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tcategoria: res.data.categoria,\r\n\t\t\t\t\t\tsubCategoria: res.data.subCategoria,\r\n\t\t\t\t\t\ttemporada: res.data.temporada ? res.data.temporada : '',\r\n\t\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\t\tsetProductos(res.data);\r\n\t\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t\t\tsetTemporada(res.data.temporada ? res.data.temporada : '');\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ form, productoID ]\r\n\t);\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItemCat(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemCategoria = () => {\r\n\t\tif (itemCat === 'Ropa' || itemCat === 'Calzado') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Categoria no valida',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ categoria: itemCat });\r\n\t\t\tsetValueSelectCat(itemCat);\r\n\t\t\tsetCategoriasDefault([ ...categoriasDefault, itemCat ]);\r\n\t\t\tsetSelect(itemCat);\r\n\r\n\t\t\t/* reset subcategoria */\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetSubCategoria([]);\r\n\t\t\tform.resetFields([ 'subCategoria' ]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelectCat(value);\r\n\r\n\t\t/* reset subcategoria */\r\n\t\tsetValueSelect();\r\n\t\tsetSubCategoria([]);\r\n\t\tform.resetFields([ 'subCategoria' ]);\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t/* temporadas */\r\n\tconst [ temporada, setTemporada ] = useState();\r\n\tconst [ valueSelectTemporada, setValueSelectTemporada ] = useState();\r\n\tconst [ temporadaDefault, setTemporadaDefault ] = useState([]);\r\n\r\n\tconst onSelectTemporada = (value) => {\r\n\t\tsetTemporada(value);\r\n\t};\r\n\tconst onTemporadaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetTemporada(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemTemporada = () => {\r\n\t\tsetTemporadaDefault([ ...temporadaDefault, item ]);\r\n\t\tform.setFieldsValue({ temporada: item });\r\n\t\tsetTemporada(item);\r\n\t\tsetValueSelectTemporada(item);\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerTemporadasBD() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetTemporadasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'Otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('temporada', temporada);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('temporada', temporada);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\t/* for (var pair of formData.entries()) {\r\n\t\t\tconsole.log(pair[0]+ ', ' + pair[1]); \r\n\t\t} */\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetCloseDraw(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadasBD();\r\n\t\t},\r\n\t\t[ productoID, reload, form, obtenerDatos ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ select ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.tipoCategoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.tipoCategoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} onFinishFailed={onError} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Código de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelectCat}\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Temporada\" name=\"temporada\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"temporada\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una temporada\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelectTemporada}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectTemporada}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onTemporadaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemTemporada}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{temporadaDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{temporadasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\ttemporadasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona género\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + files}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galería de imágenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","/* import { parse } from \"dotenv/types\";\r\n */\r\nexport const verificarDiasLaborales = (datosContx) => {\r\n\tconst numero_dia = new Date().getDay();\r\n\r\n\tif(datosContx.tienda?.length > 0){\r\n\t\tconst dia_no_laboral = datosContx.tienda[0].horario.filter(hora => hora.close === false && hora.key === numero_dia);\r\n\t\tif(dia_no_laboral.length > 0){\r\n\t\t\treturn true\r\n\t\t}else{\r\n\t\t\treturn false\r\n\t\t}\r\n\t}else{\r\n\t\treturn false\r\n\t}\r\n}\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tlet nueva;\r\n\t\tif (number % 1 === 0) {\r\n\t\t\tnueva = number;\r\n\t\t} else {\r\n\t\t\tnueva = parseFloat(number).toFixed(2);\r\n\t\t}\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn  nueva.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('en-US', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\tconst [ closeDraw, setCloseDraw ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\t\r\n\tif(closeDraw){\r\n\t\tdrawnerClose();\r\n\t\tsetCloseDraw(false);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} className=\"card-card\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 200, */ maxHeight: 420 }}\r\n\t\t\t\t\tbodyStyle={{ padding: 5 }}\r\n\t\t\t\t\tclassName=\"card-cover\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-imagen-producto-admin\">\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-admin\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button> ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto-admin titulo-producto-admin-responsivo font-weight-bold\">\r\n\t\t\t\t\t\t\t{productos.nombre}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5 \">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} closeDraw={setCloseDraw} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} closeDraw={setCloseDraw}/>\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productos}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 28}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Entregado' ? '#5cb85c' : pedido.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"my-2\" key={direccion._id}>\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={aws+pedido.producto.imagen} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Código de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artículo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categoría:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Número de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n\tconst { handleCancelEstado } = props;\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst IDpedido = props.datosPedido;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst pedidoID = props.datosPedido;\r\n\tconst setReload = props.reload;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ entregado, setEntregado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedido();\r\n\t\t\tsetDisabled(false);\r\n\t\t},\r\n\t\t[ IDpedido ]\r\n\t);\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\thandleCancelEstado();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif (e.key === 'Entregado') {\r\n\t\t\tsetEntregado(true);\r\n\t\t\tsetDatos({ estado_pedido: e.key });\r\n\t\t\tsetPedido({ estado_pedido: e.key });\r\n\t\t} else {\r\n\t\t\tsetEntregado(false);\r\n\t\t\tsetDatos({\r\n\t\t\t\t...datos,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t\tsetPedido({\r\n\t\t\t\t...pedido,\r\n\t\t\t\testado_pedido: e.key\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tfunction onChange(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" disabled={IDpedido.estado_pedido === 'Enviado' || disabled ? true : false}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\">Enviado</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Entregado\">Entregado</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Actualiza el estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === 'Entregado' || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{ fontSize: 16 }}>Si el producto ya fue enviado puedes agregar la información de envío.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form} className=\"form-paqueteria\">\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea\r\n\t\t\t\t\t\tdisabled={entregado}\r\n\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\tname=\"mensaje_admin\"\r\n\t\t\t\t\t\tplaceholder=\"Mensaje para el usuario\"\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculación:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paquetería:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Código de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\" /* onClose={true} */>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'entregados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Entregado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos fecha-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Entregado' ? '#5cb85c' : pedidos.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya están\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"entregados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEntregados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido}  />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} handleCancelEstado={handleCancelEstado} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport {\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tUpload,\r\n\tList,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tForm,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip\r\n} from 'antd';\r\nimport { RollbackOutlined, ClearOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\nconst { Option } = Select;\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetInputValue(0);\r\n\t\tsetImagen([]);\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"mt-3 row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t/* value={subcategoria} */\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t<ClearOutlined className=\"ml-2\" style={{ fontSize: 20 }} onClick={limpiarFiltros} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiar();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromoción activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={<Avatar size={40} src={aws + productos.imagen} />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\" my-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promocion individual por producto\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{content === false ? (\r\n\t\t\t\t\t\t<h3>Selecciona un productos que quieres aplicarle una promoción</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{producto.nombre}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputValue}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\t//tooltipVisible\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar promoción\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-none\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\t\tSube una imagen para la promoción, esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 1710x330px\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../../contexts/ProductoContext';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-none\">\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promoción, recuerda que esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\tpromociónes\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+promocion.imagenPromocion}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport '../promociones.scss';\r\nimport '../registrar_promocion.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction PromocionesNormales(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<Row justify=\"center mt-2\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promoción' : 'Registrar nueva promoción'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 30 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose} >\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(PromocionesNormales);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {\r\n\tDrawer,\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tTable,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip,\r\n\tTag\r\n} from 'antd';\r\nimport { ClearOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nexport default function RegistroPromocionMasiva(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reloadData, setReloadData ] = useState(true);\r\n\tconst [ dataPromocion, setDataPromocion ] = useState([]);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst [ actualizar, setActualizar ] = props.actualizar;\r\n\tconst { promoMasiva } = props;\r\n/* \tconst [ checkall, setCheckAll ] = useState(false); */\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t};\r\n\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tlimpiar();\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetReloadData(!reloadData);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetInputValue(0);\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t\tsetReloadData(!reloadData);\r\n\t\tsetActualizar(false);\r\n\t};\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => setInputValue(value);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetReloadData(!reloadData);\r\n\t\t} else {\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\r\n\t\t\t\tif(actualizar){\r\n\t\t\t\t\tconst checks = [];\r\n\t\t\t\t\tconst data = [];\r\n\t\t\t\t\tconst listaBD = [];\r\n\t\t\t\t\tres.data.posts.forEach((res) => {\r\n\t\t\t\t\t\tpromoMasiva.forEach((promo) => {\r\n\t\t\t\t\t\t\tif(res._id === promo.productoPromocion._id){\r\n\t\t\t\t\t\t\t\tchecks.push(res._id)\r\n\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\tlistaBD.push({ idProducto: res._id })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSelectedRowKeys(checks);\r\n\t\t\t\t\tsetDataPromocion(data); \r\n\t\t\t\t\tsetPromocionMasiva(listaBD);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlimpiarChecks()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.forEach((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\t/* Checklist */\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Imagen',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\trender: (imagen) => <Avatar src={aws + imagen} />\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Promoción',\r\n\t\t\tdataIndex: 'promocion',\r\n\t\t\trender: (promocion) =>\r\n\t\t\t\tpromocion && promocion.length !== 0 ? <Tag color=\"green\">activa</Tag> : <div className=\"d-none\" />\r\n\t\t}\r\n\t];\r\n\tconst [ promocionMasiva, setPromocionMasiva ] = useState([]);\r\n\tconst [ selectedRowKeys, setSelectedRowKeys ] = useState([]);\r\n\tconst hasSelected = selectedRowKeys.length > 0;\r\n\r\n\tconst onSelectChange = (selectedRowKeys) => {\r\n\t\tsetSelectedRowKeys(selectedRowKeys);\r\n\t\tconst listaIDs = selectedRowKeys.map((res) => {\r\n\t\t\treturn { idProducto: res };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t};\r\n\r\n\tconst rowSelection = {\r\n\t\tselectedRowKeys,\r\n\t\tonChange: onSelectChange,\r\n\t\tgetCheckboxProps: (producto) => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tproducto.promocion &&\r\n\t\t\t\t\t\tproducto.promocion.length !== 0 &&\r\n\t\t\t\t\t\tproducto.promocion[0].idPromocionMasiva !== promoMasiva[0].idPromocionMasiva, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: producto.promocion && producto.promocion.length !== 0, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelect: (record, selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t},\r\n\t\tonSelectAll: (selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t}\r\n\t};\r\n\t/* Checklist fin */\r\n\r\n\t/* Actualizar datos */\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\tcheckearChecks();\r\n\t\t\t}\r\n\t\t\tif(visible){\r\n\t\t\t\tshowDrawer();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ actualizar, promoMasiva ]\r\n\t);\r\n\r\n\tconst limpiarChecks = () => {\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t}\r\n\r\n\tconst checkearChecks = () => {\r\n\t\tsetInputValue(parseInt(promoMasiva[0].porsentajePromocionMasiva));\r\n\t\tconst listaPromosActuales = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion._id;\r\n\t\t});\r\n\t\tsetSelectedRowKeys(listaPromosActuales);\r\n\r\n\t\tconst listaIDs = promoMasiva.map((res) => {\r\n\t\t\treturn { idProducto: res.productoPromocion._id };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t\tconst listaPromosData = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion;\r\n\t\t});\r\n\t\tsetDataPromocion(listaPromosData);\r\n\t};\r\n\t/* Actualizar datos */\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tconst listaPromociones = {\r\n\t\t\tproductos: promocionMasiva,\r\n\t\t\tdescuento: inputValue\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\tif (actualizar) {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/promocion/masiva/${promoMasiva[0].idPromocionMasiva}`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/promocion/masiva/`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<PlusOutlined /> Nueva promoción masiva\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Crear promoción masiva\"\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={onClose} style={{ marginRight: 8 }}>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={inputValue > 0 && selectedRowKeys.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\tonClick={subirPromocion}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGuardar promoción masiva\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"row d-flex\">\r\n\t\t\t\t\t\t<div className=\"order-1 order-lg-0  col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\" mt-2 row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t\t\t<ClearOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={limpiarFiltros}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tabla-promociones\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{hasSelected ? `Selected ${selectedRowKeys.length} items` : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\t\t\t\t\t\t\t\trowSelection={rowSelection}\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order-0 order-lg-1 col-12 col-lg-6\">\r\n\t\t\t\t\t\t\t<div className=\" mt-2 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promociones masivas, por categoria elegida\"\r\n\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center my-3\">\r\n\t\t\t\t\t\t\t\t\t{dataPromocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataPromocion.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<h3>Selecciona los productos que quieres aplicarles una promoción</h3>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box porcentaje-descuento d-inline text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 25 }}> {inputValue} %OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Drawer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Space, Button, Avatar, notification, Spin, Modal, List } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport RegistroPromocionMasiva from './registrar_promocion_masiva';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst PromoMasivaPrincipal = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ promo, setPromo ] = useState([]);\r\n\r\n\tconst obtenerPromosMasivas = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/promocion/masiva')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarPromocionMasiva = async (idPromoMasiva) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`promocion/masiva/${idPromoMasiva}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idPromoMasiva) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocionMasiva(idPromoMasiva);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizarActive = (promo) => {\r\n\t\tsetActualizar(true);\r\n\t\tsetPromo(promo);\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPromosMasivas();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<RegistroPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\tvisible={[ visible, setVisible ]}\r\n\t\t\t\tpromoMasiva={promo}\r\n\t\t\t\tactualizar={[ actualizar, setActualizar ]}\r\n\t\t\t/>\r\n\t\t\t{/* <ActualizarPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\r\n\t\t\t/> */}\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => actualizarActive(item.productosPromoMasiva)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm(item.productosPromoMasiva[0].idPromocionMasiva);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.productosPromoMasiva.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.productoPromocion.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3 style={{ color: '#22BB33' }}>{`${item.productosPromoMasiva[0]\r\n\t\t\t\t\t\t\t\t\t\t\t.porsentajePromocionMasiva}%`}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={<h4>De descuento</h4>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PromoMasivaPrincipal;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport PromocionesNormales from './promos_normales/promociones';\r\nimport PromoMasivaPrincipal from './promos_masivas/promo_masiva';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Promociones() {\r\n\treturn (\r\n\t\t<div className=\"card-container\">\r\n\t\t\t<div className=\"mb-4\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    SISTEMA DE PROMOCIONES\r\n                </p>\r\n                <p className=\"text-center\" style={{ fontSize: 15 }}>\r\n                    En este apartado puedes agregar ofertas especiales a tu producto y aparecer en la página principal\r\n                </p>\r\n            </div>\r\n\t\t\t<Tabs centered>\r\n\t\t\t\t<TabPane tab=\"Promociones individuales\" key=\"1\">\r\n\t\t\t\t\t<PromocionesNormales />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t<TabPane tab=\"Promociones masivas\" key=\"2\">\r\n\t\t\t\t\t<PromoMasivaPrincipal />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t{/* <TabPane tab=\"Promociones unitarias\" key=\"3\">\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t</TabPane> */}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\tconst { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t<Card\r\n\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n\t\t\t\t\t\t<DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">\r\n\t\t\t\t\t\t\t\t\t{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input,Card, Divider} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado, setVisible} = props;\r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    let multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto,index) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} index={index} />;\r\n                }\r\n                return (<div />);\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n    }\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n        let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            setVisible(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <div>\r\n                    <Divider orientation=\"left\">Datos del cliente</Divider>\r\n                   {/*  <p className=\"h4 font-weight-bold mb-4\">Datos Usuario</p> */}\r\n                    <div className=\"row detalle-apartados\">\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Nombre: </h6>\r\n                            <p>{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\"d-inline\">Teléfono: </h6>\r\n                            <p>{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\"d-inline\">Calle: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Entre las calles: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\"d-inline\">Código Postal: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                            <h6 className=\"d-inline\">Colonia: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Ciudad: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\"d-inline\">Estado: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\"d-inline\">País: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </div>\r\n                    <Divider orientation=\"left\">Datos del producto</Divider>\r\n                    <div className=\"detalle-apartado__border m-2 mb-5\">\r\n                        {/* <p className=\"h4 font-weight-bold\">Datos producto</p> */}\r\n                        {detalleApartado.apartadoMultiple.length !== 0 ? (\r\n                            <div>\r\n                                <div className=\"row\">\r\n                                    {multiple}\r\n                                </div>\r\n                                <div className=\"mt-5\">\r\n                                    <h6 className=\"d-inline\" style={{fontSize: 24}}>Total:</h6>\r\n                                    <p className=\" data-info-pedidos\" style={{fontSize: 24}}>$ {formatoMexico(detalleApartado.total)}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ):(\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={aws+detalleApartado.producto[0].imagen}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Código de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categoría: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n                                                        <div>\r\n                                {/* <Divider orientation=\"left\">Estatus del pedido</Divider> */}\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <Divider>Estatus del pedido</Divider>\r\n                    <div className=\"m-2\">\r\n                        <div>\r\n                           {/*  <h6 className=\" m-2\">Cantidad de artículos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p> */}\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            <h6 className=\" m-2\">Actualiza el estado del pedido:</h6>\r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetería:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculación:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Número de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nfunction ProductosMultiple({producto,info}){\r\n    return (\r\n        <div className=\"col-12 col-lg-4\">\r\n            <Link to={`/vista_producto/${producto._id}`}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: 250 }}\r\n                cover={\r\n                    <div className=\"contenedor-imagen-detalle-apartado\">\r\n                        <img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n                    </div>\r\n                }\r\n            >\r\n                <Meta\r\n                    title={producto.nombre}\r\n                    description={\r\n                        <div className=\"row\">\r\n                            <h2 className=\"h5 precio-rebaja col-lg-12\">${formatoMexico(info.precio)}</h2>\r\n                            {info.medida ? info.medida.talla ? (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.talla}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.numero}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                                \r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    }\r\n                />\r\n            </Card>\r\n        </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst MostrarDatosMultipleTargeta = (props) => {\r\n    const { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n    \r\n    const deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n    \r\n\treturn (\r\n            <Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n                <Card\r\n                    className=\"shadow-sm card-body-apartados\"\r\n                    actions={[\r\n                        <div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n                            <ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    setDetalleApartado(apartado);\r\n                                    showModal();\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Detalle del pedido\r\n                            </p>\r\n                        </div>,\r\n                        <div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n                            <DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    deleteApartado(apartado._id);\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Eliminar\r\n                            </p>\r\n                        </div>\r\n                    ]}\r\n                >\r\n                    <Meta\r\n                        className=\"contenedor-card-apartados\"\r\n                        description={\r\n                            <div className=\"\">\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n                                    <p className=\"data-info-apartados\">{apartado._id}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n                                    <p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n                                    <p className=\"data-info-apartados\">\r\n                                        {`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={\r\n                                            apartado.estado === 'ACEPTADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'PROCESANDO' ? (\r\n                                                '#ffc401'\r\n                                            ) : apartado.estado === 'ENVIADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'ENTREGADO' ? (\r\n                                                '#5cb85c'\r\n                                            ) : (\r\n                                                '#F75048'\r\n                                            )\r\n                                        }\r\n                                    >\r\n                                        {apartado.estado}\r\n                                    </Tag>\r\n                                </div>\r\n\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n                                    >\r\n                                        {apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                                    </Tag>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n                                    <p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                </Card>\r\n            </Col>\r\n\t);\r\n};\r\n\r\n\r\n\r\nexport default MostrarDatosMultipleTargeta;\r\n","import React, { useEffect, useState, useCallback } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Spin, Result, Row, Modal, Input } from 'antd';\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta';\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport './apartado.scss';\r\nimport MostrarDatosMultiple from './services/MostrarDatosMultiplesTarjeta';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [ apartadoPaginacion, setApartadoPaginacion ] = useState([]);\r\n\r\n\tconst [ filter, setFilter ] = useState('');\r\n\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction obtenerProductosFiltrados(filter) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/filtroCliente/${filter}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerDatos = useCallback(\r\n\t\t(limit, page) => {\r\n\t\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data.posts.docs);\r\n\t\t\t\tsetApartadoPaginacion(res.data.posts);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t[token],\r\n\t)\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos(24, page);\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetEstado(false);\r\n\t\t},\r\n\t\t[ page, filter, estado, obtenerDatos ]\r\n\t);\r\n\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tobtenerDatos(10, page, filter);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t\t{apartados.map((apartado) => apartado.producto ? (\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosMultiple \r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t):(\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta\r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={800}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[ '' ]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado\r\n\t\t\t\t\t\tdetalleApartado={detalleApartado}\r\n\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\tsetFilter={setFilter}\r\n\t\t\t\t\t\tsetVisible={setVisible}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState } from 'react';\r\nimport { Button, notification, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport clienteAxios from '../config/axios';\r\n\r\nexport default function GetDataFromExcelJusTInput(props) {\r\n\tconst [ hojas, setHojas ] = useState([]);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ uploading, setUploading ] = useState(false);\r\n\r\n\tconst propsUlpload = {\r\n\t\tmultiple: false,\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel' ||\r\n\t\t\t\tfile.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel.sheet.macroEnabled.12' \r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Solo se admiten archivos csv',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonChange({ file, fileList }) {\r\n\t\t\tsetFileList(fileList);\r\n\t\t\tlet hojas = [];\r\n\t\t\tif (!file.status ) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\t\treader.onloadend = (e) => {\r\n\t\t\t\t\tvar data = new Uint8Array(e.target.result);\r\n\t\t\t\t\tvar workbook = XLSX.read(data, { type: 'array' });\r\n\r\n\t\t\t\t\tworkbook.SheetNames.forEach(function(sheetName) {\r\n\t\t\t\t\t\t// Here is your object\r\n\t\t\t\t\t\tvar XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);\r\n\t\t\t\t\t\thojas.push({\r\n\t\t\t\t\t\t\tdata: XL_row_object,\r\n\t\t\t\t\t\t\tsheetName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetHojas(hojas);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileList: fileList\r\n\t};\r\n\r\n\tconst enviarDatos = () => {\r\n\t\tsetUploading(true);\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tclienteAxios\r\n\t\t\t.put('/productos/inventario/excel/', hojas[0], {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tsetHojas([]);\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registros actualizados',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'hubo un error al cargar el archivo',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ml-2 mb-3 d-flex\">\r\n\t\t\t<Upload {...propsUlpload} className=\"d-inline-flex mx-3\">\r\n\t\t\t\t<Button size=\"large\" icon={<UploadOutlined />} disabled={fileList.length >= 1}>\r\n\t\t\t\t\tCargar csv\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"d-inline-flex\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\tdisabled={fileList.length === 0}\r\n\t\t\t\tloading={uploading}\r\n\t\t\t>\r\n\t\t\t\t{uploading ? 'Cargando...' : 'Cargar archivo'}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioOtros(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idSeleccionado, setIdSeleccionado ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetIdSeleccionado(producto);\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdSeleccionado('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} overflowCount={100000} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 230,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form key={producto._id} className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idSeleccionado ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\tid={producto._id}\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioOtros);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioTallas(props) {\r\n\tconst { location, history, productos, productosRender, reload, setReload, loading, setLoading, token, limite } = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idTallaSeleccionada, setIdTallaSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ talla, setTalla ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerTallas = (producto, talla) => {\r\n\t\tsetTalla(talla);\r\n\t\tsetIdTallaSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: talla._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTalla([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdTallaSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (tallas, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((tallas) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttallas.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={talla._id === tallas._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerTallas(producto._id, tallas)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idTallaSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioTallas);\r\n","import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioNumeros(props) {\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idNumeroSeleccionada, setIdNumeroSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ numero, setNumero ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerNumero = (producto, numero) => {\r\n\t\tsetNumero(numero);\r\n\t\tsetIdNumeroSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: numero._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetNumero([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdNumeroSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Número y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (numeros, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numeros) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumeros.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={numero._id === numeros._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerNumero(producto._id, numeros)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idNumeroSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioNumeros);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Input, notification, Row, Tabs } from 'antd';\r\nimport './inventario.scss';\r\nimport queryString from 'query-string';\r\nimport GetDataFromExcelJusTInput from '../../../components/excel';\r\nimport InventarioOtros from './tablas_inventarios/inventario_otros';\r\nimport InventarioTallas from './tablas_inventarios/inventario_tallas';\r\nimport InventarioNumeros from './tablas_inventarios/inventario_numeros';\r\n\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst limite = 20;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\t/* const [ tipoCategoria, setTipoCategoria ] = useState(''); */\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst tipoCategoria = props.match.params.tipoCategoria;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n\r\n\t/* useEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page)\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n */\r\n\tconst obtenerCategorias = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/tipoCategorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length !== 0) {\r\n\t\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\t\t/* obtenerProductos(res.data[0]._id, limite, page);  */\r\n\r\n\t\t\t\t\t/* setTipoCategoria(res.data[0]._id); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${res.data[0]._id}`);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst otros = res.data.posts.filter((element) => element.tipoCategoria === tipoCategoria);\r\n\t\t\t\t\tsetProductosRender(otros);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (tipoCategoria, limit, page) => {\r\n\t\t/* setTipoCategoria(tipoCategoria); */\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter/individuales?tipoCategoria=${tipoCategoria}&limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction error(err) {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = categorias.map((categorias) => {\r\n\t\tif (categorias._id === 'Otros') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioOtros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Ropa') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario tallas\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioTallas\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Calzado') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario calzado\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioNumeros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn <div />;\r\n\t});\r\n\r\n\tconst searchBar = (\r\n\t\t<div className=\"row mw-100 search-container\">\r\n\t\t\t<Search\r\n\t\t\t\tclassName=\"col-lg-7 search-width px-0\"\r\n\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\tstyle={{ height: 40, marginBottom: 10, width: 400 }}\r\n\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"col-lg-5 pl-0 pr-4\">\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row justify=\"center\" className=\"search-container-responsive\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</Row>\r\n\t\t\t<Tabs\r\n\t\t\t\ttabBarExtraContent={searchBar}\r\n\t\t\t\tonChange={(tipoCategoria) => {\r\n\t\t\t\t\t/* obtenerProductos(tipoCategoria, limite, page); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${tipoCategoria}`);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{tabs}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? 'list-item-sugerencia' : ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"mr-1\" />Cerrar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Crear\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Actualizar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\t¡Que esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecerán en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia drawnerClose={drawnerClose}/>\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert, Form } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst layout = {\r\n\tlabelCol: { span: 10 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ nombreImagen, setNombreImagen ] = useState('');\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}&temporada=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerNombreImagen = (e) => {\r\n\t\tsetNombreImagen(e.target.value);\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tif (producto.length !== 0) {\r\n\t\t\tformData.append('producto', producto._id);\r\n\t\t\tformData.append('nombre', producto.nombre);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t} else {\r\n\t\t\tformData.append('nombre', nombreImagen);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t}\r\n\t\tif (producto.length === 0 && nombreImagen === '') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El nombre de la imagen no debe ir vacío',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/carousel/nuevo/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Puedes subir una imagen de carousel ya sea que esta tenga referencia a un producto o no. Si hace referencia a un producto selecciona uno de la lista, si no hace referencia, la imagen debe llevar un nombre.\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y después una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t{!producto.nombre ? (\r\n\t\t\t\t\t\t<Form {...layout}>\r\n\t\t\t\t\t\t\t<Form.Item label=\"Nombre de la imagen\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"nombreImagen\"\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'El nombre de la imagen no puede ir vacío' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"nombre de la imagen\" onChange={(e) => obtenerNombreImagen(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps} className=\"upload-text-display\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" /* disabled={producto.length !== 0 ? false : true} */>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t/* const [ productoCarousel, setProductoCarousel ] = useState([]); */\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\tif (producto.nombre) {\r\n\t\t\t\t\t\treturn producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn producto;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\t/* res.data.forEach((item) => {\r\n\t\t\t\t\tif(item.producto){\r\n\t\t\t\t\t\tsetProductoCarousel(item.producto)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetProductoCarousel('')\r\n\t\t\t\t\t}\r\n\t\t\t\t}); */\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (carouselID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${carouselID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(carouselID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(carouselID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((carousel) => (\r\n\t\t<List.Item\r\n\t\t\tkey={carousel._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(carousel);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"upload-text-display d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(carousel._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(carousel._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + carousel.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t{carousel.nombre ? carousel.nombre : 'imagen sin nombre'}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tBanner principal\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta sección puedes subir una imagen al banner en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={producto.nombre ? producto.nombre : 'Imagen sin nombre'}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React, { useState } from 'react';\r\nimport { Button, Spin, Collapse, notification } from 'antd';\r\nimport { PlusCircleOutlined } from '@ant-design/icons';\r\n\r\nimport ImagenEstilo1 from '../imagenes/estilo1.png';\r\nimport ImagenEstilo3 from '../imagenes/estilo3.png';\r\nimport ImagenEstilo5 from '../imagenes/estilo5.png';\r\nimport ImagenEstilo6 from '../imagenes/estilo6.png';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst { Panel } = Collapse;\r\n\r\nfunction RegistroTipoBanner(props) {\r\n\tconst [ loadingBackDrop, setLoadingBackDrop ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst crearBannerBD = async (estilo) => {\r\n\t\tsetLoadingBackDrop(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/banner/`,\r\n\t\t\t\t{ estilo, publicado: false },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingBackDrop(false);\r\n\t\t\t\tprops.history.push(`/admin/banner/nuevo/${res.data.userStored._id}`);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingBackDrop(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Collapse ghost>\r\n\t\t\t\t<Panel\r\n\t\t\t\t\tshowArrow={false}\r\n\t\t\t\t\theader={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tNueva sección\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tkey=\"1\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingBackDrop}>\r\n\t\t\t\t\t\t<div className=\"row d-flex justify-content-around shadow\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(1)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 1\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo1}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(2)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 2\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo3}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(3)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 3\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo5}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"my-3 shadow rounded d-flex justify-content-center align-items-center estilo-hover\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => crearBannerBD(4)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"estilo 4\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={ImagenEstilo6}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilos\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"250\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"200\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</Panel>\r\n\t\t\t</Collapse>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistroTipoBanner);\r\n","import React, { useState, useEffect, Fragment, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Modal, notification, Spin, message, Collapse } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n\tCheckSquareOutlined,\r\n\tCloseSquareOutlined,\r\n\tPictureOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RegistroTipoBanner from './services/tipoBanner';\r\nimport aws from '../../../config/aws';\r\nimport './publicidad.scss';\r\n\r\nimport ImagenEstilo1 from './imagenes/estilo1.png';\r\nimport ImagenEstilo2 from './imagenes/estilo2.png';\r\nimport ImagenEstilo3 from './imagenes/estilo3.png';\r\nimport ImagenEstilo4 from './imagenes/estilo4.png';\r\nimport ImagenEstilo5 from './imagenes/estilo5.png';\r\nimport ImagenEstilo6 from './imagenes/estilo6.png';\r\nimport ImagenEspecial1 from './imagenes/especial1.png';\r\nimport ImagenEspecial2 from './imagenes/especial2.png';\r\nimport ImagenEspecial3 from './imagenes/especial3.png';\r\nimport { BannerContext } from '../../../context/admincontext';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function Publicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ bannerBD, setBannerBD ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState({ banner: '', banners: '' });\r\n\tconst { reload, setReload, setActualizarDatos } = useContext(BannerContext);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBannersBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerBannersBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/banner/admin', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBannerBD(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR BANNER\r\n\tconst eliminarBanner = async (banner) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/banner/${banner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(banner) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminar este banner?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBanner(banner);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderBanners = bannerBD.map((banner, index) => (\r\n\t\t<CollapseBanners\r\n\t\t\tkey={index}\r\n\t\t\tprops={props}\r\n\t\t\tbanner={banner}\r\n\t\t\tshowDeleteConfirm={showDeleteConfirm}\r\n\t\t\ttoken={token}\r\n\t\t\terrors={errors}\r\n\t\t\treload={reload}\r\n\t\t\tsetReload={setReload}\r\n\t\t\tsetActualizarDatos={setActualizarDatos}\r\n\t\t/>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes subir una sección completa con un banner y los productos de una categoria en\r\n\t\t\t\tespecial en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t<RegistroTipoBanner\r\n\t\t\t\t\treload={reload}\r\n\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\tbannerSeleccionado={bannerSeleccionado}\r\n\t\t\t\t\tsetBannerSeleccionado={setBannerSeleccionado}\r\n\t\t\t\t\tcontrol={control}\r\n\t\t\t\t\tsetControl={setControl}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t{renderBanners}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction CollapseBanners({ props, banner, showDeleteConfirm, token, errors, reload, setReload }) {\r\n\t//PUBLICAR BANNER\r\n\tconst publicarBanner = async (banner, publicado) => {\r\n\t\tif (banner.estilo === 3 && banner.banners.length < 2) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (banner.estilo === 4 && banner.banners.length < 3) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (banner.banners.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/banner/publicar/${banner._id}`,\r\n\t\t\t\t{ publicado },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\tlet imagen;\r\n\r\n\tswitch (banner.estilo) {\r\n\t\tcase 1:\r\n\t\t\timagen = ImagenEstilo1;\r\n\t\t\tbreak;\r\n\t\tcase 2:\r\n\t\t\tif (banner.banners.length !== 0 && banner.banners[0].orientacion && banner.banners[0].orientacion === 1) {\r\n\t\t\t\timagen = ImagenEstilo4;\r\n\t\t\t} else if (\r\n\t\t\t\tbanner.banners.length !== 0 &&\r\n\t\t\t\tbanner.banners[0].orientacion &&\r\n\t\t\t\tbanner.banners[0].orientacion === 2\r\n\t\t\t) {\r\n\t\t\t\timagen = ImagenEstilo3;\r\n\t\t\t} else if (\r\n\t\t\t\tbanner.banners.length !== 0 &&\r\n\t\t\t\tbanner.banners[0].orientacion &&\r\n\t\t\t\tbanner.banners[0].orientacion === 3\r\n\t\t\t) {\r\n\t\t\t\timagen = ImagenEstilo2;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 3:\r\n\t\t\timagen = ImagenEstilo5;\r\n\t\t\tbreak;\r\n\t\tcase 4:\r\n\t\t\timagen = ImagenEstilo6;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\t/* simular imagenes */\r\n\tvar elementos = [];\r\n\tfor (let i = 0; i < banner.estilo - 1; i++) {\r\n\t\tlet array = [];\r\n\t\tarray.push(i);\r\n\t\telementos.push(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"my-3 shadow-sm border\">\r\n\t\t\t<div className=\"d-flex align-items-center banner-container\">\r\n\t\t\t\t<div className=\"estilo-imagen\">\r\n\t\t\t\t\t<img className=\"mr-3 imagen-promocion-principal\" alt=\"producto\" src={imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<h5 className=\" img-publicidad\">\r\n\t\t\t\t\t<b>\r\n\t\t\t\t\t\t{banner.estilo === 1 ? (\r\n\t\t\t\t\t\t\t'Banner grande con productos'\r\n\t\t\t\t\t\t) : banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t'Banner entre productos'\r\n\t\t\t\t\t\t) : banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t'2 banner sin productos'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'3 banners sin productos'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</b>\r\n\t\t\t\t</h5>\r\n\t\t\t\t<div className=\"grow\" />\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mx-2\"\r\n\t\t\t\t\tonClick={() => props.history.push(`/admin/banner/editar/${banner._id}`)}\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mx-2\"\r\n\t\t\t\t\tonClick={() => publicarBanner(banner, !banner.publicado)}\r\n\t\t\t\t\tstyle={banner.publicado ? { color: '#5cb85c', borderColor: '#5cb85c' } : null}\r\n\t\t\t\t>\r\n\t\t\t\t\t{banner.publicado ? 'Publicado' : 'Publicar'}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tghost\r\n\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"mr-2\"\r\n\t\t\t\t\tonClick={() => showDeleteConfirm(banner._id)}\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t{banner.banners.length === 0 && banner.estilo > 2 ? (\r\n\t\t\t\t\telementos.map((res, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\tindex + 1 === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial1\r\n\t\t\t\t\t\t\t\t\t\t\t) : index + 1 === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial2\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial3\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : null}\r\n\t\t\t\t{banner.banners.map((res, index, array) => {\r\n\t\t\t\t\tif (banner.estilo === 3) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"mx-5 d-flex\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{array.length === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (banner.estilo === 4) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={index} className=\"mx-5 d-flex\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{array.length === 1 ? (\r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{array.length === 2 && index > 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, height: 200 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen publicidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex\" key={res._id}>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300, height: 200 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{res.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 90 }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"ml-2 mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.tipo ? res.tipo.categoria ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Categoria: '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.temporada ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Temporada: '\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'Género'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.tipo ? res.tipo.categoria ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.categoria\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.temporada ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.temporada\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : res.tipo.genero ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tres.tipo.genero\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'sin categoria/temporada'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.vincular ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.vincular ? 'Vinculado' : 'No vinculado'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarTitulo ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarTitulo ? 'Muestra titulo' : 'No muestra titulo'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarProductos ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckSquareOutlined style={{ color: '#5cb85c' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CloseSquareOutlined style={{ color: '#d9534f' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.mostrarProductos ? 'Muestra productos' : 'No muestra productos'}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { List, Button, Modal, notification, Avatar } from 'antd';\r\nimport { EyeOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function blogList(props) {\r\n\tconst { blogs, setReloadBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst deleteBlog = (blog) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.delete(`/blog/${blog._id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'aplication/json',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-list\">\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => (\r\n\t\t\t\t\t<Blog\r\n\t\t\t\t\t\tblog={blog}\r\n\t\t\t\t\t\tdeleteBlog={deleteBlog}\r\n\t\t\t\t\t\tshowDrawer={showDrawer}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t\tsetInfoBlog={setInfoBlog}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog, deleteBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tactions={[\r\n\t\t\t\t<Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n\t\t\t\t\t<Button type=\"dashed\" size={window.screen.width > 768 ? 'middle' : 'small'}>\r\n\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetInfoBlog(blog);\r\n\t\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => deleteBlog(blog)}\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteOutlined /> Eliminar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={<Avatar src={aws + blog.imagen} />}\r\n\t\t\t\ttitle={<p className=\"h5 font-weight-bold\">{blog.nombre}</p>}\r\n\t\t\t\tdescription={<p className=\"h6\">{blog.administrador}</p>}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React, { useContext, useState, useEffect } from 'react';\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport { Form, Input, Button, notification, Upload, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\tconst blogContext = useContext(BlogContext);\r\n\tconst [ form ] = Form.useForm();\r\n\tvar urlGuion = '';\r\n\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnombre: blogContext.nombre,\r\n\t\tadministrador: blogContext.administrador,\r\n\t\turl: blogContext.url,\r\n\t\tdescripcion: blogContext.descripcion\r\n\t});\r\n\r\n\tconst monstrarInformacionBlog = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tnombre: blogContext.nombre,\r\n\t\t\tadministrador: blogContext.administrador,\r\n\t\t\turl: blogContext.url,\r\n\t\t\tdescripcion: blogContext.descripcion\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tmonstrarInformacionBlog();\r\n\t\t},\r\n\t\t[ blogContext ]\r\n\t);\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t\t/* setUrl(urlSinGion); */\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (datos.nombre === '' || datos.administrador === '' || datos.url === '' || datos.descripcion === '') {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'Todos los datos son obligatorios'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(datos.url);\r\n\t\t\t} else {\r\n\t\t\t\turlGuion = blogContext.url;\r\n\t\t\t}\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t} else {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/blog/${blogContext._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Actualización exitosa',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerValores = (e) => {\r\n\t\tif (e.target.name === 'url') {\r\n\t\t\tsetAccion(false);\r\n\t\t}\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} form={form} onFinish={enviarDatos}>\r\n\t\t\t\t<Form.Item label=\"Titulo del blog:\" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Autor: \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"administrador\">\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Url (Campo unico) \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\tsrc={aws + blogContext.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, notification, Upload, message, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\t//Variablo que trae la informacion del post\r\n\tconst [ blogData, setBlogData ] = useState({});\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\tvar urlGuion = '';\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.forEach((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst processPost = async (e) => {\r\n\t\tif (blogData.descripcion === undefined) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La descripcion del blog es obligatoria'\r\n\t\t\t});\r\n\t\t} else if (files.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(blogData.url);\r\n\t\t\t}\r\n\t\t\tconst hide = message.loading('Accion en proceso....', 0);\r\n\t\t\tsetTimeout(hide, 2000);\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nombre', blogData.nombre);\r\n\t\t\tformData.append('administrador', blogData.administrador);\r\n\t\t\tformData.append('url', urlGuion);\r\n\t\t\tformData.append('descripcion', blogData.descripcion);\r\n\t\t\tformData.append('imagen', files);\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/blog/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t//Funcion que quita los espacios y los remplasa por guiones\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t}\r\n\r\n\t//Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t//Funcion que escucha la variable que trae la informacion del blog\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetBlogData({ ...blogData, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} onFinish={processPost} onFinishFailed={onError}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Crea un título llamativo: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, nombre: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Titulo obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Autor: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, administrador: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Autor obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"administrador\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Url (Campo unico) \"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetAccion(false);\r\n\t\t\t\t\t\tsetBlogData({ ...blogData, url: e.target.value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'La url es obligatoria' } ]} noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tvalue={blogData.descripcion ? blogData.descripcion : ''}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    Tus blogs\r\n                </p>\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect, Fragment } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport { Row, Button } from 'antd';\r\n\r\nimport ReactExport from 'react-export-excel'; //LIBRERIA EXCEL\r\nimport { withRouter } from 'react-router-dom';\r\nconst ExcelFile = ReactExport.ExcelFile; //ARCHIVO DE EXCEL\r\nconst ExcelSheet = ReactExport.ExcelSheet; //HOJA DE EXCEL\r\nconst ExcelColumn = ReactExport.ExcelColumn; //COLUMNA DE EXCEL\r\n\r\nfunction ConsutaExcel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ consulta, setConsulta ] = useState([]);\r\n\t//const [data, setData] = useState([]);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tconst obtenerConsulta = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/todos/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetConsulta(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerConsulta();\r\n\t}, []);\r\n\r\n\tconst datos = consulta.map((datos) => {\r\n\t\tconst clientes = {};\r\n\r\n\t\tclientes.nombre = `${datos.nombre} ${datos.apellido}`;\r\n\t\tclientes.telefono = datos.telefono;\r\n\t\tclientes.email = datos.email;\r\n\r\n\t\tif (datos.direccion.length === 0) {\r\n\t\t\tclientes.direccion = '';\r\n\t\t\tclientes.ciudad = '';\r\n\t\t} else {\r\n\t\t\tclientes.direccion = `${datos.direccion[0].calle_numero} ${datos.direccion[0].colonia}`;\r\n\t\t\tclientes.ciudad = `${datos.direccion[0].ciudad}, ${datos.direccion[0].estado}, ${datos.direccion[0].pais}`;\r\n\t\t}\r\n\r\n\t\treturn clientes;\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<ExcelFile\r\n\t\t\t\t\telement={\r\n\t\t\t\t\t\t<Button size=\"large\" type=\"primary\">\r\n\t\t\t\t\t\t\tDescargar datos de clientes\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfilename=\"Datos Clientes\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ExcelSheet data={datos} name=\"Datos de clientes\">\r\n\t\t\t\t\t\t<ExcelColumn label=\"Nombre\" value=\"nombre\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Telefonos\" value=\"telefono\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"E-mail\" value=\"email\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Domicilio\" value=\"direccion\" />\r\n\t\t\t\t\t\t<ExcelColumn label=\"Ciudad\" value=\"ciudad\" />\r\n\t\t\t\t\t</ExcelSheet>\r\n\t\t\t\t</ExcelFile>\r\n\t\t\t</Row>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default withRouter(ConsutaExcel);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nimport ConsutaExcel from './consutaExcel';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}else{\r\n\t\t\t\tobtenerClientes(20, page);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Foto de perfil',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={aws + imagen} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (nombre) => <p className=\"h5\">{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p className=\"h5\">-</p> : <p className=\"h5\">{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Telefono',\r\n\t\t\tdataIndex: 'telefono',\r\n\t\t\tkey: 'telefono',\r\n\t\t\trender: (telefono) => (!telefono ? <p className=\"h5\">-</p> : <p className=\"h5\">{telefono}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p className=\"h5\">{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dirección',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<ConsutaExcel />\r\n\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React from 'react'\r\nimport {Link } from 'react-router-dom';\r\nimport './bannerOrientacion.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function Imagen_Banner(props) {\r\n    \r\n    const {imagen, link, imagenLocal, vincular } = props;\r\n        return(\r\n            <div className=\"container-imagenes\">\r\n                <div className=\"container-image\">\r\n                    <img\r\n                        onClick={() =>\r\n                            {if (vincular !== false) {\r\n                                props.history.push(`/searching/${ link.categoria || link.temporada || link.genero }`);\r\n                            }\r\n                        }}\r\n                        className=\"image-orientancion\"\r\n                        src={imagenLocal ? imagen : aws + imagen}\r\n                        alt=\"Imgen publicitaria\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    \r\n}\r\n","import React, { useContext } from 'react';\r\nimport aws from '../../../../config/aws';\r\n// import DOMPurify from 'dompurify';\r\nimport { Card, Tooltip } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './productos.scss';\r\n// import { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst gridStyle = { width: '100%', marginBottom: '1.5rem' };\r\n\r\nexport default function CardSecundaria(props) {\r\n\tconst { productos } = props;\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.card.background,\r\n\t\t\tcolor: colores.bodyPage.card.text\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-3 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName=\"contenedor-card-producto-secundario\" \r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t{/* <div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName={\"margen \" + classes.background} \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\" row contenedor-precios-sec\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<h2 className={\"h5  rebajado-sec mr-2 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<h3 className={\"h5 card-precio-rebaja d-inline mr-1 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6 contenedor-titulos-productos-sec titulo-elipsis-sec\">\r\n\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6 card-div\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable \r\n\t\t\t\t\t\tstyle={gridStyle} \r\n\t\t\t\t\t\tclassName={\"contenedor-card-producto-secundario margen-b \" + classes.background}\r\n\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tbordered={false}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-secundario\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName={\"margen-dentro \" + classes.background}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"row contenedor-informacion\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7  margen-precios-promo\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-sec infor-center margen-precios\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={formatoMexico(productos.precio)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className={\"font-prin \" + classes.background} >${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-5 infor-center contenedor-titulos-productos-sec titulo-elipsis-sec\">\r\n\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={productos.nombre}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"row contenedor-informacion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\" col-lg-6 infor-center contenedor-precios-sec margen-precios-promo\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2 className={\"font-peque precio-producto rebajado-sec mr-2 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={formatoMexico(promo.precioPromocion)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-secun precios card-precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 contenedor-titulos-productos-sec titulo-elipsis-sec \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip placement=\"top\" title={productos.nombre}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useContext } from 'react';\r\nimport aws from '../../../../config/aws';\r\nimport DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function Card_Producto_Frente(props) {\r\n\tconst { productos } = props;\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.card.background,\r\n\t\t\tcolor: colores.bodyPage.card.text,\r\n\t\t\tborder: \"none\"\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-prin col-lg-2 col-6 \">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className={\"contenedor-card-producto-principal \" + classes.background}>\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis \">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className={\"h5 precio-producto  mr-2 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className={\"h5 precio-rebaja d-inline mr-1 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col-frente col-lg-2 col-6 \">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"frente contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"frente-bajo frente contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta \">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal \">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"frente contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-secun titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description \"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"frente contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className={\"font-prin precio-rebaja \" + classes.background }>${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"frente contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className={\"font-peque precio-producto  mr-2 \" + classes.background }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className={\"font-prin precio-rebaja d-inline mr-1 \" + classes.background }>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\nimport '../Productos/Card_Secundaria/productos.scss'\r\nimport '../Productos/Cards_Normales/card_producto.scss';\r\nimport CardSecundaria from '../Productos/Card_Secundaria/card_secundaria';\r\nimport Card_Producto_Frente from '../Productos/Cards_Normales/card_producto_frente';\r\nimport Imagen_Banner from './BannerOrientacion/imagenBanner'\r\n\r\n// import Pagination from '../../../components/Pagination/pagination';\r\n// import queryString from 'query-string';\r\n// import ComponentProductos from '../Productos/componente_productos';\r\n/* const gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' }; */\r\n\r\n\r\nfunction CardsProductos({tipo, orientacion, banner, imagenLocal}) {\r\n\t//const { location, history } = props.propiedades;\r\n\t//const { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n    const [ loading, setLoading ] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        async function obtenerProductos() {\r\n            setLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t// tipo.categoria ? `categoria=${tipo.categoria}` : `temporada=${tipo.temporada}`\r\n                .get(`/productos/filter?${tipo.categoria ? `categoria=${tipo.categoria}` : tipo.temporada ? `temporada=${tipo.temporada}` : `genero=${tipo.genero}` }`)\r\n                .then((res) => {\r\n                    setProductos(res.data.posts);\r\n                    setProductosPaginacion(res.data.posts);\r\n                    setLoading(false);\r\n                })\r\n                .catch((err) => {\r\n                    if(err.response){\r\n                        notification.error({\r\n                            message: 'Error',\r\n                            description: err.response.data.message,\r\n                            duration: 2\r\n                        });\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: 'Al parecer no se a podido conectar al servidor.',\r\n                            duration: 2\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n\r\n       obtenerProductos()\r\n    }, [tipo])\r\n\r\n\r\n\tconst render = productos.map((productos, index) => {\r\n\t\tif(orientacion > 0){\r\n\t\t\tif(orientacion === 1 && index === 0 ){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner} link={banner.tipo} imagenLocal={imagenLocal} />\r\n\t\t\t}else if(orientacion === 2 && index === 2){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner}\tlink={banner.tipo} imagenLocal={imagenLocal}/>\r\n\t\t\t}else if(orientacion === 3 && index === 4){\r\n\t\t\t\treturn <Imagen_Banner key={index} vincular={banner.vincular} imagen={banner.imagenBanner} link={banner.tipo} imagenLocal={imagenLocal}/>\r\n\t\t\t}else if(index <= 4){\r\n\t\t\t\treturn <CardSecundaria key={index} productos={productos} imagenLocal={imagenLocal} />\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(index <= 4){\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Card_Producto_Frente key={index} productos={productos} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\r\n\t});\r\n\t// const render = productos.map((productos, index) => {\r\n\t// \tif(orientacion > 0){\r\n\t// \t\tif(orientacion === 1 && index === 0 ){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner} link={banner.tipo} />\r\n\t// \t\t}else if(orientacion === 2 && index === 2){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner}\tlink={banner.tipo}/>\r\n\t// \t\t}else if(orientacion === 3 && index === 4){\r\n\t// \t\t\treturn <Imagen_Banner imagen={banner.imagenBanner} link={banner.tipo}/>\r\n\t// \t\t}else if(index <= 4){\r\n\t// \t\t\treturn <CardSecundaria key={productos._id} productos={productos} />\r\n\t// \t\t}\r\n\t// \t}else{\r\n\t// \t\tif(index <= 5){\r\n\t// \t\t\treturn (\r\n\t// \t\t\t\t<CardSecundaria key={productos._id} productos={productos} />\r\n\t// \t\t\t)\r\n\t// \t\t}\r\n\t// \t}\r\n\t\t\r\n\r\n\t// });\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div> */}\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-div-card\">\r\n\t\t\t\t<div className=\"justify-content-center align-items-center cont-div-card\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw', paddingBottom: 0, marginBottom: 0 }} className=\"row d-flex justify-content-center align-items-center\">\r\n\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* <Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/> */}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default CardsProductos;","import React from 'react';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport Imagen_Banner from './imagenBanner';\r\nimport CardsProductos from '../cardsProductos';\r\n\r\nexport default function Banner_Orientacion({ banner, imagenLocal }) {\r\n\tconst render = banner.banners.map((subBanner, index) => (\r\n\t\t<CardsProductos key={index} tipo={subBanner.tipo} orientacion={subBanner.orientacion} banner={subBanner} imagenLocal={imagenLocal} />\r\n\t));\r\n\r\n\treturn(\r\n\t\t<div className=\"mt-2\">\r\n\t\t\t{render}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\n//import {useSpring, animated} from 'react-spring'\r\n\r\nimport './bannerPromocion.scss'\r\nimport CardsProductos from '../cardsProductos';\r\n\r\n// import clienteAxios from '../../../../config/axios';\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport TweenOne from 'rc-tween-one';\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nconst BgElement = Element.BgElement;\r\n\r\n function Banner_Largo(props) {\r\n    const {banner, imagenLocal } = props;\r\n    const { colores } = useContext(MenuContext);\r\n\r\n    /* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n    }; */\r\n\r\n    const useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n    \r\n    const render = banner.banners.map((banner, index) => {\r\n\r\n        return (\r\n            <div key={index} className=\"mt-4 cont-principal\">\r\n                {banner.mostrarTitulo !== false ? (\r\n                    <TweenOne key=\"demo\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                        <h1 className={\"tit-banner font-prin \" + classes.text}>{banner.tipo.categoria || banner.tipo.temporada }</h1>\r\n                    </TweenOne>\r\n                 ) : \"\"}\r\n\r\n                {banner.imagenBanner || banner.imagenBanner !== '' ? (\r\n                    <div className=\"banner-prin\"> \r\n                      <BannerAnim autoPlay /* activeIndex={index} onSelect={handleSelect} */ prefixCls=\"banner-prin mx-auto\" >\r\n                      <Element prefixCls=\"banner-user-elem\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                          <BgElement\r\n                              onClick={() =>\r\n                                  {if (banner.vincular !== false) {\r\n                                      props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                  }\r\n                              }}\r\n  \r\n                              key=\"bg\"\r\n                              className=\"bg banner-prom mx-auto\"\r\n                              alt=\"img-oferta\"\r\n                              style={{\r\n                                  backgroundImage: imagenLocal ? `url(${banner.imagenBanner})` : `url(${aws + banner.imagenBanner})`,\r\n                                  cursor: 'pointer'\r\n                              }}\r\n                          >\r\n                          </BgElement>\r\n                      </Element>\r\n                      </BannerAnim>\r\n                    </div>\r\n                    ) : \r\n                    null\r\n                    }\r\n\r\n                <div>\r\n                    {banner.mostrarProductos !== false ? (\r\n                            <div className=\"mx-auto div-cards\">\r\n                                <CardsProductos className=\"mx-auto\" tipo={banner.tipo} />\r\n                                <div className=\"d-flex justify-content-center \">\r\n                                    <Link\r\n                                        className=\"font-secun\"\r\n                                        to={`/searching/${banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero}`} >\r\n                                        Ver todos los productos\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                    ) : \"\"}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    })\r\n\r\n    return (\r\n        <div className=\"cont-principal\">\r\n           {render}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Banner_Largo);\r\n","import React from 'react';\r\nimport './banners.scss'\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport './banners.scss'\r\n\r\nfunction Banner_Doble(props) {\r\n\r\n    const { banner, imagenLocal } = props;\r\n    \r\n    const render = banner.banners.map((banner) => {\r\n        return(\r\n            <div key={banner._id} className=\"col-lg-6 container-imagenes\">\r\n                <div className=\"container-banner-doble mt-2\">\r\n                        <img\r\n                            onClick={() =>\r\n                                {if (banner.vincular !== false) {\r\n                                    props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                }\r\n                            }}\r\n                            className=\"imagen-doble \" \r\n                            src={imagenLocal ? banner.imagenBanner : aws + banner.imagenBanner}\r\n                            alt=\"Imgen publicitaria\"\r\n                        />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    )\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                {render}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default withRouter(Banner_Doble);\r\n","import React from 'react';\r\nimport './banners.scss'\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport './banners.scss'\r\n\r\nfunction Banner_Triple(props) {\r\n    const { banner, imagenLocal } = props;\r\n\r\n    const render = banner.banners.map((banner) => {\r\n        return(\r\n            <div key={banner._id} className=\"col-lg-4 container-imagenes\">\r\n                <div className=\"container-banner-triple\">\r\n                        <img\r\n                            onClick={() =>\r\n                                {if (banner.vincular !== false) {\r\n                                    props.history.push(`/searching/${ banner.tipo.categoria || banner.tipo.temporada || banner.tipo.genero }`);\r\n                                }\r\n                            }}\r\n                            className=\"imagen-triple\"\r\n                            src={imagenLocal ? banner.imagenBanner : aws + banner.imagenBanner}\r\n                            alt=\"Imgen publicitaria\"\r\n                        />\r\n                </div>\r\n            </div>\r\n        )\r\n        }\r\n    )\r\n\r\n    return (\r\n        <div>\r\n                <div className=\"row\">\r\n                    {render}\r\n                </div>\r\n        </div>\r\n    );\r\n\r\n        \r\n}\r\n\r\nexport default withRouter(Banner_Triple);\r\n","import React from 'react';\r\nimport Banner_Orientacion from './BannerOrientacion/banner_orientacion';\r\nimport Banner_Largo from './BannerLargo/BannerLargo';\r\nimport Banner_Doble from './BannerCuadrados/bannerDoble';\r\nimport Banner_Triple from './BannerCuadrados/bannerTriple';\r\n\r\nexport default function Banner_Promocionales({ banner, imagenLocal }) {\r\n\tif(!banner) return null\r\n\r\n\tconst render = banner.map((banner, index) => {\r\n\t\tif (banner.estilo === 1) {\r\n\t\t\treturn <Banner_Largo key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 2) {\r\n\t\t\treturn <Banner_Orientacion key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 3) {\r\n\t\t\treturn <Banner_Doble key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t} else if (banner.estilo === 4) {\r\n\t\t\treturn <Banner_Triple key={index} banner={banner} imagenLocal={imagenLocal} />;\r\n\t\t}\r\n\t});\r\n\r\n\treturn <div>{render}</div>;\r\n}\r\n","import { Divider } from 'antd';\r\nimport React from 'react';\r\nimport Banner_Promocionales from '../../../users/BannerPromociones/bannerPromocionales';\r\n\r\nexport default function PreviewBanner({ datos, estilo, previewImage }) {\r\n\tconst array_banner = [\r\n\t\t{\r\n\t\t\testilo,\r\n\t\t\tbanners: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttipo: { [datos.tipo[0]]: datos.tipo[1] },\r\n\t\t\t\t\timagenBanner: previewImage ? previewImage : datos.imagenBanner,\r\n\t\t\t\t\tvincular: datos.vincular,\r\n\t\t\t\t\tmostrarProductos: datos.mostrarProductos,\r\n\t\t\t\t\tmostrarTitulo: datos.mostrarTitulo,\r\n\t\t\t\t\torientacion: datos.orientacion ? datos.orientacion : null\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className=\"mt-5\">\r\n\t\t\t<div>\r\n\t\t\t\t{estilo < 3 ? (\r\n                    <h1>Preview del banner</h1>\r\n                ) : null}\r\n\t\t\t</div>\r\n\t\t\t<Divider />\r\n\t\t\t{estilo < 3 ? (\r\n\t\t\t\t<Banner_Promocionales banner={array_banner} imagenLocal={previewImage ? true : false} />\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useCallback, useContext, Fragment } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Form, Modal, Checkbox, Cascader, Alert, Space } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport '../publicidad.scss';\r\nimport ImagenEstilo2 from '../imagenes/estilo2.png';\r\nimport ImagenEstilo3 from '../imagenes/estilo3.png';\r\nimport ImagenEstilo4 from '../imagenes/estilo4.png';\r\nimport ImagenEspecial1 from '../imagenes/especial1.png';\r\nimport ImagenEspecial2 from '../imagenes/especial2.png';\r\nimport ImagenEspecial3 from '../imagenes/especial3.png';\r\nimport { BannerContext } from '../../../../context/admincontext';\r\nimport PreviewBanner from './previewBanner';\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = (error) => reject(error);\r\n\t});\r\n}\r\n\r\nexport default function RegistroPublicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst { reload, setReload } = useContext(BannerContext);\r\n\tconst idBanner = props.match.params.idBanner;\r\n\tconst accion = props.match.params.accion;\r\n\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ temporadasBD, setTemporadasBD ] = useState([]);\r\n\tconst [ generosBD, setGenerosBD ] = useState([]);\r\n\tconst [ bannerRender, setBannerRender ] = useState({ banner: '', banners: '' });\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState({ banner: '', banners: '' });\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttipo: '',\r\n\t\tvincular: false,\r\n\t\tmostrarProductos: bannerRender.banner.estilo === 2 ? true : false,\r\n\t\tmostrarTitulo: false,\r\n\t\timagenBanner: '',\r\n\t\torientacion: 2\r\n\t});\r\n\tconst [ disabledCheck, setDisabledCheck ] = useState(true);\r\n\tconst [ disabledReg3, setDisabledReg3 ] = useState(0);\r\n\r\n\tconst [ saveAndPublish, setSaveAndPublish ] = useState(false);\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst [ openPreview, setOpenPreview ] = useState(false);\r\n\tconst [ previewImage, setPreviewImage ] = useState('');\r\n\tconst [ previewTitle, setPreviewTitle ] = useState('');\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tconst handleCancel = () => setOpenPreview(false);\r\n\r\n\tconst limpiarCampos = () => {\r\n\t\tsetDisabledCheck(true);\r\n\t\tsetFileList([]);\r\n\t\tsetDatos({\r\n\t\t\ttipo: '',\r\n\t\t\tvincular: false,\r\n\t\t\tmostrarProductos: bannerRender.banner.estilo === 2 ? true : false,\r\n\t\t\tmostrarTitulo: false,\r\n\t\t\timagenBanner: '',\r\n\t\t\torientacion: 2\r\n\t\t});\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst uploadProps = {\r\n\t\tfileList: fileList,\r\n\t\tlistType: 'picture-card',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg') {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Formato de imagen no válido',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetDisabled(true);\r\n\t\t},\r\n\t\tonChange: async ({ fileList, file }) => {\r\n\t\t\tif (fileList.length !== 0) {\r\n\t\t\t\tsetDatos({ ...datos, imagenBanner: file });\r\n\t\t\t\tsetFileList(fileList);\r\n\t\t\t\tsetPreviewImage(URL.createObjectURL(file));\r\n\t\t\t} else {\r\n\t\t\t\tsetDatos({ ...datos, imagenBanner: '' });\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tform.resetFields([ 'imagen' ]);\r\n\t\t\t\tsetPreviewImage('');\r\n\t\t\t}\r\n\t\t},\r\n\t\tonPreview: async (file) => {\r\n\t\t\tif (!file.url && !file.preview) {\r\n\t\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t\t}\r\n\t\t\tsetPreviewImage(file.url || file.preview);\r\n\t\t\tsetOpenPreview(true);\r\n\t\t\tsetPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n\t\t}\r\n\t};\r\n\r\n\tconst selectTipo = (tipo) => {\r\n\t\tsetDatos({ ...datos, tipo: tipo });\r\n\t\tsetDisabledCheck(false);\r\n\t};\r\n\r\n\tconst obtenerOrientacion = (orientacion) => {\r\n\t\tsetDatos({ ...datos, orientacion: orientacion });\r\n\t};\r\n\r\n\tconst obtenerChecks = (e) => setDatos({ ...datos, [e.target.name]: e.target.checked });\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet categorias = [];\r\n\t\t\t\tres.data.map((categoria) => {\r\n\t\t\t\t\tcategorias.push({ value: categoria.categoria, label: categoria.categoria });\r\n\t\t\t\t});\r\n\t\t\t\tsetCategoriasBD(categorias);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTemporadas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/temporadas`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet temporadas = [];\r\n\t\t\t\tres.data.forEach((temporada) => {\r\n\t\t\t\t\ttemporadas.push({ label: temporada._id, value: temporada._id });\r\n\t\t\t\t});\r\n\t\t\t\tsetTemporadasBD(temporadas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/agrupar/generos`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet generos = [];\r\n\t\t\t\tres.data.forEach((genero) => {\r\n\t\t\t\t\tif(genero._id !== 'Ninguno'){\r\n\t\t\t\t\t\tgeneros.push({ label: genero._id, value: genero._id });\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetGenerosBD(generos);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (!datos.tipo) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Selecciona un tipo',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tif (!datos.imagenBanner && datos.tipo && datos.mostrarProductos === false) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'si una categoria esta seleccionada, \"mostrar productos\" es obligatorio',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else if (bannerSeleccionado.banner.estilo === 2 && !datos.imagenBanner) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'En este tipo de banner la imagen es obligatoria',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (datos.imagenBanner.length !== 0) {\r\n\t\t\t\t\tformData.append('imagen', datos.imagenBanner);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tformData.append('imagenBanner', '');\r\n\t\t\t\t}\r\n\t\t\t\tif (bannerSeleccionado.banner.estilo === 2) {\r\n\t\t\t\t\tformData.append('orientacion', datos.orientacion);\r\n\t\t\t\t}\r\n\t\t\t\tformData.append(datos.tipo[0], datos.tipo[1]);\r\n\t\t\t\tformData.append('vincular', datos.vincular);\r\n\t\t\t\tformData.append('mostrarProductos', datos.mostrarProductos);\r\n\t\t\t\tformData.append('mostrarTitulo', datos.mostrarTitulo);\r\n\r\n\t\t\t\tif (bannerSeleccionado.banners.length !== 0) {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(\r\n\t\t\t\t\t\t\t`/banner/${bannerSeleccionado.banner._id}/action/${bannerSeleccionado.banners._id}`,\r\n\t\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tsetDisabledReg3(0);\r\n\t\t\t\t\t\t\tif (bannerSeleccionado.banner.estilo < 3) {\r\n\t\t\t\t\t\t\t\tprops.history.push('/admin/publicidad');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(saveAndPublish){\r\n\t\t\t\t\t\t\t\tpublicarBanner(true);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpublicarBanner(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(`/banner/${bannerSeleccionado.banner._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tsetDisabledReg3(0);\r\n\t\t\t\t\t\t\tif (bannerSeleccionado.banner.estilo < 3) {\r\n\t\t\t\t\t\t\t\tprops.history.push('/admin/publicidad');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(saveAndPublish){\r\n\t\t\t\t\t\t\t\tpublicarBanner();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tpublicarBanner(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst llenarCampos = useCallback(\r\n\t\t(banner, banners) => {\r\n\t\t\tif (banners.length !== 0) {\r\n\t\t\t\tsetBannerSeleccionado({ banner, banners });\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\t...datos,\r\n\t\t\t\t\timagenBanner: banners.imagenBanner ? banners.imagenBanner : '',\r\n\t\t\t\t\ttipo: banners.tipo.categoria\r\n\t\t\t\t\t\t? [ 'categoria', banners.tipo.categoria ]\r\n\t\t\t\t\t\t: banners.tipo.temporada ? [ 'temporada', banners.tipo.temporada ] : [ 'genero', banners.tipo.genero ],\r\n\t\t\t\t\tvincular: banners.vincular,\r\n\t\t\t\t\tmostrarProductos: banners.mostrarProductos,\r\n\t\t\t\t\tmostrarTitulo: banners.mostrarTitulo,\r\n\t\t\t\t\torientacion: banners.orientacion\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (!banners.imagenBanner || banners.imagenBanner === '') {\r\n\t\t\t\t\tsetFileList([]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetFileList([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuid: '-1',\r\n\t\t\t\t\t\t\tname: 'imagen actual',\r\n\t\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\t\turl: aws + banners.imagenBanner\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (banners.tipo.length === 0) {\r\n\t\t\t\t\tform.resetFields([ 'tipo' ]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (banners.tipo.categoria) {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'categoria', banners.tipo.categoria ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (banners.tipo.temporada) {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'temporada', banners.tipo.temporada ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\t\ttipo: [ 'genero', banners.tipo.genero ]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ form ]\r\n\t);\r\n\r\n\tconst obtenerBannerBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/banner/${idBanner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (accion === 'nuevo') {\r\n\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners: [] });\r\n\t\t\t\t\tsetBannerRender({ banner: res.data, banners: [] });\r\n\t\t\t\t} else if (bannerSeleccionado.banner < 3) {\r\n\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\t\tsetBannerRender({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tres.data.banners.map((banners) => {\r\n\t\t\t\t\t\tsetBannerSeleccionado({ banner: res.data, banners });\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsetBannerRender({ banner: res.data, banners: res.data.banners });\r\n\t\t\t\tif (accion === 'editar' && res.data.estilo < 3) {\r\n\t\t\t\t\tres.data.banners.map((banners) => {\r\n\t\t\t\t\t\tllenarCampos(res.data, banners);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst publicarBanner = async (publicado) => {\r\n\t\tif (bannerRender.banner.estilo === 3 && bannerRender.banners.length < 2 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (bannerRender.banner.estilo === 4 && bannerRender.banners.length < 3 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else if (bannerRender.banners.length === 0 && publicado) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'No has terminado de registrar este banner',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.put(\r\n\t\t\t\t`/banner/publicar/${bannerRender.banner._id}`,\r\n\t\t\t\t{ publicado },\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(publicado){\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerTemporadas();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerBannerBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tconst options = [\r\n\t\t{\r\n\t\t\tvalue: 'categoria',\r\n\t\t\tlabel: 'Categoria',\r\n\t\t\tname: 'categoria',\r\n\t\t\tchildren: categoriasBD\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'temporada',\r\n\t\t\tlabel: 'Temporada',\r\n\t\t\tname: 'temporada',\r\n\t\t\tchildren: temporadasBD\r\n\t\t},\r\n\t\t{\r\n\t\t\tvalue: 'genero',\r\n\t\t\tlabel: 'Género',\r\n\t\t\tname: 'genero',\r\n\t\t\tchildren: generosBD\r\n\t\t}\r\n\t];\r\n\r\n\t/* simular imagenes */\r\n\tvar elementos = [];\r\n\tfor (let i = 0; i < bannerRender.banner.estilo - 1; i++) {\r\n\t\tlet array = [];\r\n\t\tarray.push(i);\r\n\t\telementos.push(array);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t{bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-around pb-3 mb-3 border-bottom\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(1)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 1 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>Diseño 1</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo4} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(2)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 2 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>Diseño 2</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo3} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\tonClick={() => obtenerOrientacion(3)}\r\n\t\t\t\t\t\t\tstyle={datos.orientacion === 3 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<h6 className=\"position-absolute\">\r\n\t\t\t\t\t\t\t\t<b>diseño 3</b>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<img alt=\"estilos banners\" src={ImagenEstilo2} className=\"imagen-estilo-registro\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{bannerRender.banner.estilo > 2 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-3\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t<b>Selecciona un banner</b>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center d-flex justify-content-around pb-3 mb-3 border-bottom\">\r\n\t\t\t\t\t\t\t{bannerRender.banners.length !== 0 ? (\r\n\t\t\t\t\t\t\t\tbannerRender.banners.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<Fragment key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen {index + 1}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tllenarCampos(bannerRender.banner, res);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + res.imagenBanner}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banners.length === 1 && bannerRender.banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 2</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 2);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banners.length === 1 && bannerRender.banner.estilo === 4 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 2</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 2);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial2}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 3</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{index > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\tbannerRender.banners.length === 2 &&\r\n\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo === 4 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen 3</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 3);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetBannerSeleccionado({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanner: bannerRender.banner,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbanners: []\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledReg3 === index + 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: '1px solid #1890FF' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={ImagenEspecial3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\telementos.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" contenedor-imagen-estilo-registro estilo-hover2\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledReg3(index + 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={disabledReg3 === index + 1 ? { border: '1px solid #1890FF' } : null}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 className=\" position-absolute\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<b>Imagen {index + 1}</b>\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"estilos banners\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex + 1 === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : index + 1 === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial2\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tImagenEspecial3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-estilo-registro\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Form form={form} hideRequiredMark onFinish={enviarDatos} id=\"MyForm\">\r\n\t\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Tipo de producto\" labelCol={{ span: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"tipo\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Cascader\r\n\t\t\t\t\t\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTipo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona uno\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 && !disabledReg3 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item labelCol={{ span: 4 }} label=\"Imagen\" className=\"image-upload-container\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"imagenBanner\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...uploadProps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 && !disabledReg3 ? true : false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{fileList.length >= 1 ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{bannerRender.banner.estilo === 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=190px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=1400px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=260px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=430px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 3 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=700px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=470px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\t\tinfo\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTamaño recomendado para esta imagen es: <b>alto=270px</b>,{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<b>largo=420px</b>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-5\">\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"vincular\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={datos.vincular}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tVincular banner\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"mostrarProductos\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdatos.mostrarProductos\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledCheck ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabledCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : bannerRender.banner.estilo === 2 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.estilo > 2 ? true : disabledCheck\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMostrar Productos\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"mostrarTitulo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={datos.mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerChecks}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck ? disabledCheck : bannerRender.banner.estilo > 2 ? true : disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tMostrar Titulo\r\n\t\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h4>{bannerRender.banner.publicado ? 'Banner publicado' : 'Banner no publicado'}</h4>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-lg-flex d-block justify-content-around\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => props.history.push('/admin/publicidad')}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => publicarBanner(!bannerRender.banner.publicado)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\tbannerRender.banner.publicado ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ color: '#5cb85c', borderColor: '#5cb85c' }\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{bannerRender.banner.publicado ? 'Publicado' : 'Publicar'}\r\n\t\t\t\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tform=\"MyForm\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar sin publicar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tform=\"MyForm\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setSaveAndPublish(true)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar y publicar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Modal forceRender visible={openPreview} title={previewTitle} footer={null} onCancel={handleCancel}>\r\n\t\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<PreviewBanner datos={datos} estilo={bannerRender.banner.estilo} previewImage={previewImage} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport './ofertas.scss';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\nfunction CarouselOfertas(props) {\r\n\t/* const [ index, setIndex ] = useState(0); */\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\t/* const [ esPromocion, setEsPromocion ] = useState(false); */\r\n\r\n\t/* const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t}; */\r\n\r\n\tif (datosContx.carrucel && datosContx.carrucel.length === 0 || !datosContx.carrucel) {\r\n\t\treturn null\r\n\t}\r\n\r\n\tconst render = datosContx.carrucel.map((carousel) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Element prefixCls=\"banner-user-elem\" key={carousel._id}>\r\n\t\t\t\t\t<BgElement\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\t/* esPromocion\r\n\t\t\t\t\t\t\t? `/vista_producto/${carousel.productoPromocion._id}`\r\n\t\t\t\t\t\t\t:  */carousel.producto ? `/vista_producto/${carousel.producto}` : '/'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey=\"bg\"\r\n\t\t\t\t\t\tclassName=\"bg banner-elemento\"\r\n\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${aws + carousel.imagen})`,\r\n\t\t\t\t\t\t\tcursor: carousel.producto ? `pointer` : 'default' \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</BgElement>\r\n\t\t\t\t</Element>\r\n\t\t\t\t\r\n\t\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<BannerAnim autoPlay /* activeIndex={index} */ /* onSelect={handleSelect} */ prefixCls=\"banner-user\" delay={200}>\r\n\t\t\t\t{render}\r\n\t\t</BannerAnim>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React, { useContext } from 'react';\r\n\r\nimport {withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport Banner_Promocionales from './bannerPromocionales';\r\n\r\nfunction Consulta_Banners() {\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n\t\t\t <Banner_Promocionales banner={datosContx.banners}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Consulta_Banners);\r\n\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button, Checkbox } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El nombre es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El apellido es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\">\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio' } ]} noStyle>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"contrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contraseña\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"repeatContrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contraseña es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center\"\r\n\t\t\t\t\tname=\"aceptarPoliticas\"\r\n\t\t\t\t\tvaluePropName=\"checked\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: (_, value) =>\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t? Promise.resolve()\r\n\t\t\t\t\t\t\t\t\t: Promise.reject('Debes aceptar las políticas para registrarte')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Checkbox>Acepto las políticas, terminos y condiciones.</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React,{useState} from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { notification, Form, Input, Button, Alert } from 'antd';\r\n\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\r\n\tconst [mostrarDiv, setMostrarDiv] = useState('d-none');\r\n\tconst [mostrarMensaje, setmostrarMensaje] = useState('d-none');\r\n\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/admin');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onRecuperar = async (email) => {\r\n\t\t\tawait clienteAxios.post('/cliente/restablecer/pass',email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetmostrarMensaje(\"\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tconst mostrarDivClick = () => {\r\n\t\tsetMostrarDiv(\"\")\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" className=\"font-descrip\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tContinuar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<p onClick={mostrarDivClick} style={{cursor: 'pointer',color: '#0084ff'}}>¿Has olvidado tu contrasena?</p>\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t<div  className={`${mostrarDiv} col-12 mt-2`}>\r\n\t\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onRecuperar}>\r\n\t\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t\t<Form.Item name=\"emailCliente\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\" >\r\n\t\t\t\t\t\tEnviar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName={`${mostrarMensaje}`}\r\n\t\t\t\t\t\tmessage=\"Correo enviado\"\r\n\t\t\t\t\t\tdescription=\"Se a enviado un correo para actualizar su contraseña\"\r\n\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","\r\nexport default {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATA_BASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROYECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n  };","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\tif (vista) {\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\t\twindow.location.href = `${vista}`\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","import React, { useEffect, useContext } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n    \r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n    const { colores } = useContext(MenuContext);\r\n    const useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: `${colores.bodyPage.text}!important`\r\n\t\t},\r\n\t});\r\n    const classes = useStyles();\r\n\r\n    return(\r\n        <div>\r\n            <p className={\"font-descrip text-center mb-4 mt-4 \" + classes.text}>\r\n                Si aun no tienes cuenta regístrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs centered className=\" shadow col-12 col-lg-4 bg-white rounded tabs-colors\" defaultActiveKey=\"1\">\r\n                    <TabPane className=\"tab-color\" tab=\"Iniciar Sesión\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p className=\"font-descrip\">Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane className=\"tab-color\" tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if(res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'Ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Form, Divider, notification, Input, Row, Col, Alert } from 'antd';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport axios from 'axios';\r\n\r\nconst consultaCodigos = axios.create({\r\n\tbaseURL: `https://api-sepomex.hckdrk.mx/query/`\r\n});\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nexport default function DatosCliente(props) {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst { token, clienteID, tipoEnvio } = props;\r\n\tconst [ handleOk ] = props.enviarDatos;\r\n\r\n\tconst [ controlBoton, setControlBoton ] = useState(true);\r\n\tconst [ estadoBoton, setEstadoBoton ] = useState('Completa tus datos');\r\n\tconst [ mensajeRechazo, setMensajeRechazo ] = useState('');\r\n\r\n\tconst [ envioTotal, setEnvioTotal ] = useState(false);\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${clienteID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (res.data.direccion.length !== 0) {\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: res.data.direccion[0].calle_numero,\r\n\t\t\t\t\t\tentre_calles: res.data.direccion[0].entre_calles,\r\n\t\t\t\t\t\tcp: res.data.direccion[0].cp,\r\n\t\t\t\t\t\tcolonia: res.data.direccion[0].colonia,\r\n\t\t\t\t\t\tciudad: res.data.direccion[0].ciudad,\r\n\t\t\t\t\t\testado: res.data.direccion[0].estado,\r\n\t\t\t\t\t\tpais: res.data.direccion[0].pais\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: '',\r\n\t\t\t\t\t\tentre_calles: '',\r\n\t\t\t\t\t\tcp: '',\r\n\t\t\t\t\t\tcolonia: '',\r\n\t\t\t\t\t\tciudad: '',\r\n\t\t\t\t\t\testado: '',\r\n\t\t\t\t\t\tpais: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data.telefono.length === 0 || res.data.direccion.length === 0) {\r\n\t\t\t\t\tsetEstadoBoton('Completa tus datos');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst control = () => {\r\n\t\tswitch (estadoBoton) {\r\n\t\t\tcase 'Completa tus datos':\r\n\t\t\t\tsetControlBoton(false);\r\n\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tasync function envios() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((total) => {\r\n\t\t\t\t\tsetEnvioTotal(total);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tenvios();\r\n\t}, []);\r\n\r\n\tasync function envioDatos(valores) {\r\n\t\tsetLoading(true);\r\n\t\tconst estado = await editarDatosUsuario(valores);\r\n\t\tif (estado) {\r\n\t\t\tconst municipio_aceptado = await checarEnvios(valores.cp);\r\n\t\t\tif (municipio_aceptado !== 'municipioRechazado') {\r\n\t\t\t\thandleOk();\r\n\t\t\t} else {\r\n\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\tsetControlBoton(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function editarDatosUsuario(valores) {\r\n\t\treturn await clienteAxios\r\n\t\t\t.put(`/cliente/${clienteID}`, valores, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControlBoton(true);\r\n\t\t\t\treturn true;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function checarEnvios(cp) {\r\n\t\tif (tipoEnvio !== 'ENVIO') {\r\n\t\t\treturn 'NoEnvio';\r\n\t\t} else {\r\n\t\t\tif (envioTotal.todos === true || envioTotal === false) {\r\n\t\t\t\treturn 'TodosEstados';\r\n\t\t\t} else {\r\n\t\t\t\tconst estado = await consultaCodigos.get(`/info_cp/${cp}`).then((res) => {\r\n\t\t\t\t\treturn clienteAxios\r\n\t\t\t\t\t\t.get(`/politicasEnvio/estado/municipio/${res.data[0].response.municipio}`)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\treturn 'MunicipioAceptado';\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tsetMensajeRechazo(err.response.data.message);\r\n\t\t\t\t\t\t\treturn 'municipioRechazado';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\treturn estado;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerDatosUser();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Form {...layout} form={form} onFinish={envioDatos}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre\" name=\"nombre\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Apellido\" name=\"apellido\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Email\" name=\"email\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Teléfono\" name=\"telefono\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"telefono\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Divider>Datos de envío</Divider>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Calle y número\" name=\"calle_numero\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\tdisabled={controlBoton}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Entre calles\" name=\"entre_calles\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Código postal\" name=\"cp\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Colonia\" name=\"colonia\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Ciudad\" name=\"ciudad\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Estado\" name=\"estado\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"País\" name=\"pais\">\r\n\t\t\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t{mensajeRechazo !== '' ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName=\"text-center mb-2\"\r\n\t\t\t\t\t\tmessage=\"Lo sentimos\"\r\n\t\t\t\t\t\tdescription={mensajeRechazo}\r\n\t\t\t\t\t\ttype=\"error\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form.Item />\r\n\t\t\t\t)}\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t{estadoBoton === 'Apartar' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t\tonClick={control}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Divider, notification, Modal, Select, Alert, Avatar, List } from 'antd';\r\n/* import { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons'; */\r\nimport aws from '../../../../config/aws';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport DatosCliente from '../../Vista_Producto/subs/datos_cliente';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ApartadoCarrito(props) {\r\n\tconst { cliente, token } = props;\r\n\tconst [ visible, setVisible ] = props.modal;\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ apartadoMultiple, setApartadoMultiple ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${cliente}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst apartadoMultiple = [];\r\n\t\t\t\tconst apartadoMultipleCompleto = [];\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\t\t\t\tcarrito.forEach((carrito) => {\r\n\t\t\t\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\treturn res.talla;\r\n\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\treturn res.numero;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar precio;\r\n\r\n\t\t\t\t\tif (!carrito.promocion) {\r\n\t\t\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\t\t\t\tcase 'Ropa':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Calzado':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Otros':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar subtotal = 0;\r\n\t\t\t\tvar total = 0;\r\n\r\n\t\t\t\tcarrito.forEach((res) => {\r\n\t\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal = subtotal;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetApartadoMultiple(apartadoMultiple);\r\n\t\t\t\tsetProducto(apartadoMultipleCompleto);\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst apartarCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/apartado/multiple',\r\n\t\t\t{\r\n\t\t\t\tcliente: cliente,\r\n\t\t\t\tapartadoMultiple: apartadoMultiple,\r\n                total: total,\r\n                estado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEnvio\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n            notification.success({\r\n                message: '¡Listo!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            })\r\n            setTimeout(() => {\r\n                window.location.href = '/pedidos';\r\n            }, 1000);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n        });\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tapartarCarrito();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ visible ]\r\n\t);\r\n\r\n\tconst articulos = producto.map((res, index) => {\r\n\t\treturn (\r\n\t\t\t<List.Item key={index} className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<Avatar size={64} src={aws + res.producto.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t<h5>{res.producto.nombre}</h5>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Cantidad: {res.cantidad}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{res.medida ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{res.medida.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.numero}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.talla}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(res.precio)}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Apartar carrito\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tfooter={null}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>{articulos}</List>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t<h4>Total: ${formatoMexico(total)}</h4>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t{cliente ? (\r\n\t\t\t\t<DatosCliente token={token} clienteID={cliente} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'Otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Divider, Alert, Avatar, List } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\nimport DatosCliente from '../Vista_Producto/subs/datos_cliente';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet precio;\r\n\t\t\tif(carrito.promocion && carrito.promocion.length !== 0){\r\n\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t}else{\r\n\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t}\r\n\t\t\tAgregarApartado(\r\n\t\t\t\tcliente._id,\r\n\t\t\t\tcarrito.idarticulo._id,\r\n\t\t\t\tcarrito.cantidad,\r\n\t\t\t\tprecio,\r\n\t\t\t\tcarrito.medida,\r\n\t\t\t\ttipoEnvio,\r\n\t\t\t\ttoken,\r\n\t\t\t\tcarrito.idarticulo.tipoCategoria\r\n\t\t\t);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Nuevo Apartado\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\t/* cancelText=\"Cancelar\"\r\n\t\t\tokText={false}\r\n\t\t\tonOk={false} */\r\n\t\t\tfooter={false}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>\r\n\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t<Avatar size={64} src={aws + carrito.idarticulo.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h5>{carrito.idarticulo.nombre}</h5>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t<h6>Cantidad: {carrito.cantidad}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.talla}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.numero}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.idarticulo.precio)}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.promocion.precioPromocion)}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List.Item>\r\n\t\t\t</List>\r\n\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.idarticulo.precio * carrito.cantidad)}</h4>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.promocion.precioPromocion * carrito.cantidad)}</h4>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t<DatosCliente token={token} clienteID={cliente._id} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","\r\nexport function verificarArticulos(carrito) {\r\n\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\tconst talla = carrito.idarticulo.tallas.map((tallas) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].talla === tallas.talla) {\r\n\t\t\t\treturn carrito.medida[0].talla;\r\n\t\t\t}else {\r\n                return null\r\n            }\r\n        });\r\n        return talla.filter((talla) => talla !== null);\r\n\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\tconst numero = carrito.idarticulo.numeros.map((numeros) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].numero === numeros.numero) {\r\n\t\t\t\treturn carrito.medida[0].numero\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n        });\r\n        return numero.filter((talla) => talla !== null);\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje, verificarDiasLaborales } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\nimport aws from '../../../config/aws';\r\nimport { verificarArticulos } from './verificarArticulos';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\tconst [ eliminado, setEliminado ] = useState(false);\r\n\tconst [ laboral, setLaboral ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\t/* verificar dia No laboral */\r\n\t\tsetLaboral(verificarDiasLaborales(datosContx));\r\n\t}, [datosContx])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetDisponible('');\r\n\t\t\tsetCantidad(carrito.cantidad);\r\n\t\t\tverificar();\r\n\r\n\t\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t} else if (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t\tsetEliminado(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (carrito.promocion) {\r\n\t\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t\t} else {\r\n\t\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tfunction verificar() {\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tconst talla = carrito.idarticulo.tallas.filter((tallas) => carrito.medida[0].talla === tallas.talla);\r\n\t\t\tconst tallaCantidad = carrito.idarticulo.tallas.filter(\r\n\t\t\t\t(tallas) => carrito.medida[0].talla === tallas.talla && tallas.cantidad !== 0\r\n\t\t\t);\r\n\t\t\tif (talla.length === 0 || tallaCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ talla[0].talla, tallaCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tconst numero = carrito.idarticulo.numeros.filter((numeros) => carrito.medida[0].numero === numeros.numero);\r\n\t\t\tconst numeroCantidad = carrito.idarticulo.numeros.filter(\r\n\t\t\t\t(numeros) => carrito.medida[0].numero === numeros.numero && numeros.cantidad !== 0\r\n\t\t\t);\r\n\r\n\t\t\tif (numero.length === 0 || numeroCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetMedida([ numero[0].numero, numeroCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidacion(true);\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidacion(true);\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={aws + carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"font-carrito\">{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tCategoria: {carrito.idarticulo.categoria}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tGénero: {carrito.idarticulo.genero}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.color && carrito.idarticulo.color !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag className=\"font-des-car detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\tColor: {carrito.idarticulo.color}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.colorHex && carrito.idarticulo.colorHex !== '' ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: carrito.idarticulo.colorHex,\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\twidth: 30\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible font-des-car\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : eliminado === true ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible font-des-car\">Este producto ya no existe</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={verificarArticulos(carrito)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"color-boton-sec color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito font-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline font-des-car\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"color-fonts font-des-car\"\r\n\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' || laboral ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} />Comprar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"color-fonts font-des-car\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"color-fonts font-des-car\"\r\n\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' || laboral ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ExportOutlined style={styles} />Apartar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Button, message, Result, Space } from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, verificarDiasLaborales } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext.js';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ApartadoCarrito from './services/apartado_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\nimport Spin from '../../../components/Spin';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\tconst { datosContx } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ laboral, setLaboral ] = useState(false);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t/* verificar dia No laboral */\r\n\t\tsetLaboral(verificarDiasLaborales(datosContx));\r\n\t}, [datosContx])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction apartarCarrito() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0 || carrito.articulos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">¡Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5 rounded\">\r\n\t\t\t\t<h1 className=\"principal navbar-menu-general font-carrito\">Bievenido a tu carrito {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-sec-car\" style={{display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p className=\"font-sec-car\" style={{ display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p  className=\"font-sec-car\" style={{ display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p  className=\"font-sec-car\" style={{ display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${total !== 0 ? formatoMexico(total) : 0}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={laboral}\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Comprar ahora\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tdisabled={laboral}\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton font-des-car\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => apartarCarrito()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Apartar carrito\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ApartadoCarrito cliente={cliente._id} token={token} modal={[ visible, setVisible ]} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","  import React, { useContext } from 'react';\r\nimport aws from '../../../../config/aws';\r\nimport DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './card_producto.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function Card_Producto(props) {\r\n\tconst { productos } = props;\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.card.background,\r\n\t\t\tcolor: colores.bodyPage.card.text,\r\n\t\t\tborder: 'none'\r\n\t\t}\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className={\"size-col-prin col-lg-2 col-6 \" + classes.background}>\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid style={gridStyle} className=\"contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-secun titulo-producto\">{productos.productoPromocion.nombre}</p>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description\"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className={\"size-col-prin col-lg-2 col-6 centrar\" + classes.background}>\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName={\"contenedor-card-body \" + classes.background}\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"oferta-frente\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\" contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-secun titulo-producto\">{productos.nombre}</p>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"font-peque description \"\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className={\"font-prin precio-rebaja \" + classes.background}>${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className={\"font-peque precio-producto  mr-2 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className={\"font-prin precio-rebaja d-inline mr-1 \" + classes.background}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './Cards_Normales/card_producto.scss';\r\nimport Card_Producto from './Cards_Normales/card_producto';\r\nimport Spin from '../../../components/Spin';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst { colores } = useContext(MenuContext);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\tbackground: {\r\n\t\t\tbackgroundColor: colores.bodyPage.background,\r\n\t\t\t'& .text-color': {\r\n\t\t\t\tcolor: colores.bodyPage.text\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst render = productos.map((productos) => {\r\n\t\treturn (<Card_Producto key={productos._id} productos={productos} />);\r\n\t});\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className={\"w-100 d-flex justify-content-center align-items-center \" + classes.background}>\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas text-color\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className={\"contenedor-home-background \" + classes.background}>\r\n\t\t\t\t<div className=\"row float-left\">\r\n\t\t\t\t\t<p className=\"font-prin mb-0 text-center text-color\">¡Conoce nuestros productos!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\t\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport { List } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify';\r\nimport './BlogList.scss';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n\r\nexport default function BlogList(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ blogs, setBlogs ] = useState([]);\r\n\tconst { colores } = useContext(MenuContext);\r\n\tconst useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: `${colores.bodyPage.text}!important`\r\n\t\t},\r\n\t});\r\n\tconst classes = useStyles();\r\n\r\n\tfunction getBlogsApi(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/blog?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBlogs(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tgetBlogsApi(10, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div id=\"blog\" className=\"container\">\r\n\t\t\t\t<p className={\"font-prin text-center p-3 \" + classes.text}>¡Nuestro Blog!</p>\r\n\t\t\t\t<div className=\"container-fluid bg-white shadow-lg\">\r\n\t\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t\t<BlogsList2 blogs={blogs} setLoading={setLoading} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Pagination blogs={blogs} location={location} history={history} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction BlogsList2(props) {\r\n\tconst { blogs } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List\r\n\t\t\t\tclassName=\"p-3\"\r\n\t\t\t\titemLayout=\"vertical\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => <Blog blog={blog} />}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog } = props;\r\n\r\n\treturn (\r\n\t\t<Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"blogList__lista list-hover  mb-5\"\r\n\t\t\t\tkey={blog.nombre}\r\n\t\t\t\textra={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-blog-list\">\r\n\t\t\t\t\t\t<img className=\"imagen-blog-list\" alt={blog.nombre} src={aws + blog.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\ttitle={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>}\r\n\t\t\t\t\tdescription={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}\r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={'blogList__content-description m-0'}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p>Leer mas</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</List.Item>\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={aws+infoBlog.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\nimport {useParams} from 'react-router-dom';\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst { detallePedido } = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus del pedido:</h6>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\tdetallePedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t) : detallePedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"text-success my-2\">Pedido realizado</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 \">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ {formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del pedido</Divider>\r\n\t\t\t<div className=\"row d-flex justify-content-center\">{detallePedido.pedido.map((producto) => <Producto key={producto._id} producto={producto} />)}</div>\r\n\r\n\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].colonia} ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detallePedido.cliente.direccion[0].estado} ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detallePedido.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Código de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detallePedido.url}${detallePedido.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detallePedido.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ {formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-pedido\" src={aws + producto.producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t{producto.talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.talla}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetallesPedido;\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\tlet multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} />;\r\n\t\t\t\t}\r\n\t\t\t\treturn (<div key={producto._id} />)\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del Apartado</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del Apartado: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de apartado:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del apartado</Divider>\r\n\r\n\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">{multiple}</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t<Producto producto={detalleApartado} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de Apartado</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codigó de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"mt-3 d-flex justify-content-end\">\r\n\t\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t\t<h3>Total: $ {formatoMexico(detalleApartado.total)}</h3>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>Total: $ {detalleApartado.precio ? formatoMexico(detalleApartado.precio) : formatoMexico(detalleApartado.producto.precio)}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto({ producto }) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\t/* hoverable */\r\n\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-apartado\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{producto.precio ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.promocion && producto.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.promocion[0].precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.producto.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{producto.medida && producto.medida.length !== 0 ? producto.medida[0].talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].talla}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProductosMultiple({ producto, info }) {\r\n\treturn (\r\n\t\t<div key={producto._id} className=\"col-lg-4 col-sm-12\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(info.precio)}</h2>\r\n\t\t\t\t\t\t\t{info.medida ? info.medida.talla ? (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.talla}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.numero}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Tag, Button, List, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function ApartadoMultiple({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={80}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{apartado.productosMultiple.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res._id} title={res.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Modal, Tag, Button, List, Result, Tabs, notification, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\nimport ApartadoMultiple from './apartadoMultiple';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst { colores } = useContext(MenuContext);\r\n    const useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: `${colores.bodyPage.text}!important`\r\n\t\t},\r\n\t});\r\n    const classes = useStyles();\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst obtenerPedidos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerPedidos();\r\n\t\t\t\tobtenerApartados();\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tsetPedidos([]);\r\n\t\t\t\tsetshowInfo(false);\r\n\t\t\t\tsetEstado(false);\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ estado, token, props ]\r\n\t);\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className={\"text-center m-3 \" + classes.text}>Mis Compras</h4>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tclassName=\"shadow bg-white rounded tabs-colors\"\r\n\t\t\t\t\tdefaultActiveKey=\"1\"\r\n\t\t\t\t\ttype=\"card\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<TabPane tab=\"Mis compras\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. ¿Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Mis apartados\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (apartado.apartadoMultiple && apartado.apartadoMultiple.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ApartadoMultiple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={pedido._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton\"\r\n\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\tVer mi pedido\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\" d-flex justify-content-center\" style={{ width: 200 }}>\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={90}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{pedido.pedido.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res.producto._id} title={res.producto.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.producto.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\tProductos: <span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estatus:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Fecha de pedido:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* \t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado </p>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n\r\nfunction Apartado({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100 color-boton\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t$ {apartado.precio ? (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t</span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar src={aws + apartado.producto.imagen} size={80} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${' '}\r\n\t\t\t\t\t\t\t\t\t{apartado.precio ? (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport Card_Producto from '../Productos/Cards_Normales/card_producto'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(40, page);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t< Card_Producto key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<p className=\"font-prin mb-0 text-center\">¡Encuentra ofertas todos los días!</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Card_Producto from '../Productos/Cards_Normales/card_producto';\r\nimport Spin from '../../../components/Spin';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst { colores } = useContext(MenuContext);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}&temporada=${url}`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: colores.bodyPage.text,\r\n\t\t\t'& .text-color': {\r\n\t\t\t\tcolor: colores.bodyPage.text\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst classes = useStyles();\r\n\r\n\tconst render = productos.map((productos) => <Card_Producto key={productos._id} productos={productos} />);\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result className={classes.text} status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className={classes.text}>\r\n\t\t\t\t<h3 className=\"ml-5 mt-4 mb-4 font-prin text-color\">\r\n\t\t\t\t\t{productos.length} resultados de la busqueda \"{url}\"\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t\t{render}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport { Form, Input, Divider, Button, Avatar, notification } from 'antd';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../../../config/aws';\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosUser, decoded, token, setLoading, setAccion } = props;\r\n\r\n\tconst [ avatar, setAvatar ] = useState(null);\r\n\tconst [ enviarFile, setEnviarFile ] = useState([]);\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ password, setPassword ] = useState({});\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tif (decoded.imagen) {\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (password.contrasenaActual) {\r\n\t\t\tif (password.contrasena && password.repeatContrasena) {\r\n\t\t\t\tif (password.contrasena === password.repeatContrasena) {\r\n\t\t\t\t\tformData.append('contrasena', password.contrasena);\r\n\t\t\t\t\tformData.append('repeatContrasena', password.repeatContrasena);\r\n\t\t\t\t\tformData.append('contrasenaActual', password.contrasenaActual);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Las contrasenas no son iguales',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tif (decoded.tipoSesion === 'APIRestAB') {\r\n\t\t\tformData.append('imagen', enviarFile);\r\n\t\t}\r\n\t\tsetAccion(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t/* window.location.reload(); */\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\tconst decoded = jwt_decode(res.data.token);\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form layout=\"horizontal\" size={'large'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t{decoded.tipoSesion !== 'APIRestAB' ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"upload-user-perfil\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={decoded.imagenFireBase}\r\n\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UploadAvatar\r\n\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\tnombre={decoded.nombre}\r\n\t\t\t\t\t\tsetEnviarFile={setEnviarFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider style={{ fontSize: 22 }}>Información Personal</Divider>\r\n\r\n\t\t\t\t<h5>Nombre:</h5>\r\n\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Nombre obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Apellidos:</h5>\r\n\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Email:</h5>\r\n\t\t\t\t<Form.Item name=\"email\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Telefono:</h5>\r\n\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Telefono obligatorio' } ]} noStyle name=\"telefono\">\r\n\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider className=\"mt-5\" style={{ fontSize: 22 }}>\r\n\t\t\t\t\tDatos domiciliarios\r\n\t\t\t\t</Divider>\r\n\r\n\t\t\t\t<h5>Direccion:</h5>\r\n\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y numero de calle\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Referencia:</h5>\r\n\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Codigo postal:</h5>\r\n\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Codigo postal obligatorio' } ]} noStyle name=\"cp\">\r\n\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Colonia:</h5>\r\n\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Colonia obligatoria' } ]} noStyle name=\"colonia\">\r\n\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Ciudad: </h5>\r\n\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Localidad obligatoria' } ]} noStyle name=\"ciudad\">\r\n\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Estado:</h5>\r\n\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Estado obligatoria' } ]} noStyle name=\"estado\">\r\n\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>País:</h5>\r\n\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{decoded.tipoSesion === 'FireBase' ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider style={{ fontSize: 22 }}>Contraseña</Divider>\r\n\t\t\t\t\t\t<h5>Contraseña Actual:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasenaActual\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasenaActual\" placeholder=\"Contraseña actual\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasena\" placeholder=\"Contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Confirmar Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"repeatContrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"d-flex justify-content-center pb-3\">\r\n\t\t\t\t\t<Button htmlType=\"submit\" className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 150, fontSize: 20 }}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UploadAvatar(props) {\r\n\tconst { avatar, setAvatar, nombre, setEnviarFile } = props;\r\n\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tconst file = acceptedFiles[0];\r\n\t\t\tsetAvatar({ file, preview: URL.createObjectURL(file) });\r\n\t\t\tsetEnviarFile(file);\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ setAvatar ]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n\t\taccept: 'image/jpg, image/png, image/jpeg',\r\n\t\tnoKeyboard: true,\r\n\t\tonDrop\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"\" style={{ fontSize: 22 }}>\r\n\t\t\t\tImagen de perfil\r\n\t\t\t</Divider>\r\n\t\t\t<div className=\"upload-user-perfil\" {...getRootProps()}>\r\n\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t{isDragActive ? (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p className=\"\" style={{ fontSize: 150 }}>\r\n\t\t\t\t\t\t\t{nombre.charAt(0)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : avatar ? (\r\n\t\t\t\t\t<Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport axios from 'axios'\r\n\r\nimport { Form, Input, Button, Result, notification, Alert } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../../components/Spin';\r\nimport tokenEstados from '../../../../config/tokenEstados'\r\n\r\nimport '../confirmacion.scss';\r\n\r\nconst consultaCodigos = axios.create({\r\n    baseURL : `https://api-sepomex.hckdrk.mx/query/`\r\n})\r\n\r\nexport default function Traer_datos(props) {\r\n\r\n\tconst {setValue} =  props;\r\n\r\n\tconst { datosUser, decoded, setCurrent, current, setDatosActualizados, token } = props;\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [envioRechadazo, setEnvioRechazado] = useState(\"\");\r\n\tconst [envioTotal, setEnvioTotal] = useState(false);\r\n    const [alertRechazo, setAlertRechazo] = useState(false);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function envios() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.map((total) => {\r\n\t\t\t\t\tsetEnvioTotal(total);\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: ''\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tenvios();\r\n\t}, [])\r\n\r\n\tconsole.log(envioTotal);\r\n\r\n\tfunction enviarDatosUser() { \r\n\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tsetLoading(true);\r\n\t\tif (envioTotal.todos === true || envioTotal === false) {\r\n\t\t\tclienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(error.response){\r\n\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t\t}else{\r\n\t\t\tconsultaCodigos\r\n\t\t\t.get(`/info_cp/${datosFormulario.cp}?token=${tokenEstados}`)\r\n\t\t\t.then((res) => {\r\n\t\t\tconst data = res.data[0].response.municipio;\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.get(`/politicasEnvio/estado/municipio/${data}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tclienteAxios\r\n\t\t\t\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t\t'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetEnvioRechazado(err.response.data.message);\r\n\t\t\t\t\t\tsetAlertRechazo(true);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El codigo postal insertado no existe'\r\n\t\t\t\t});\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded\">\r\n\t\t\t\t<Form className=\"mt-5\" layout=\"horizontal\" size={'middle'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faUser} style={{ fontSize: '100px' }} />}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Nombre:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Apellidos:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Teléfono:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Referencia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Código postal:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Colonia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Ciudad:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Estado:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">País:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'País obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t {\r\n                    alertRechazo === true ? (\r\n                        <Alert\r\n                            className=\"mt-2 text-center\"\r\n                            message=\"Lo sentimos\"\r\n                            description={envioRechadazo}\r\n                            type=\"error\"\r\n                            showIcon\r\n                        />\r\n                    ) : (\r\n                        <div />\r\n                    )\r\n                \t}\r\n\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n\t\t\t\t\t\t<Button className=\"color-boton\" htmlType=\"submit\" size=\"large\">\r\n\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tuseElements,\r\n\tuseStripe\r\n} from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nimport { Form, Button, notification } from 'antd';\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_LLAVE);\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm = (props) => {\r\n\tconst { prev, setCurrent, current, setIdPago } = props;\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ postal, setPostal ] = useState('');\r\n\t/* \tconst [ loading, setLoading ] = useState(false); */\r\n\r\n\tconst [ typeCard, setTypeCard ] = useState('visa');\r\n\tconst [ numbrerCard, setNumbrerCard ] = useState('');\r\n\tconst [ dateCard1, setDateCard1 ] = useState('');\r\n\tconst [ dateCard2, setDateCard2 ] = useState('');\r\n\tconst [ activeCard, setActiveCard ] = useState('');\r\n\tconst [ controlClick, setcontrolClick ] = useState(false);\r\n\tconst [ cvvCard, setCvvCard ] = useState('---');\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTypeCard('visa');\r\n\t\tsetNumbrerCard('');\r\n\t\tsetActiveCard('');\r\n\t}, []);\r\n\r\n\tconst rotartarjeta = () => {\r\n\t\tif (!controlClick) {\r\n\t\t\tsetActiveCard('active');\r\n\t\t\tsetcontrolClick(true);\r\n\t\t} else {\r\n\t\t\tsetActiveCard('');\r\n\t\t\tsetcontrolClick(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardOnChage = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.brand === 'visa') {\r\n\t\t\tsetTypeCard('visa');\r\n\t\t} else {\r\n\t\t\tsetTypeCard('mastercard');\r\n\t\t}\r\n\t\tif (!e.complete) {\r\n\t\t\tsetNumbrerCard('#### ### - incomplet');\r\n\t\t} else {\r\n\t\t\tsetNumbrerCard('#### #### #### ####');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardDateOnChange = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.complete) {\r\n\t\t\tsetDateCard2('AA');\r\n\t\t} else {\r\n\t\t\tsetDateCard1('MM');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cvvChange = (e) => {\r\n\t\tsetActiveCard('active');\r\n\t\tif (e.complete) {\r\n\t\t\tsetCvvCard('###');\r\n\t\t} else {\r\n\t\t\tsetCvvCard('##-');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not loaded yet. Make sure to disable\r\n\t\t\t// form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst payload = await stripe.createPaymentMethod({\r\n\t\t\ttype: 'card',\r\n\t\t\tcard: cardElement,\r\n\t\t\tbilling_details: {\r\n\t\t\t\tname,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tpostal_code: postal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (payload.error) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Parece que hubo un error con tu tarjeta.'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetIdPago(payload.paymentMethod);\r\n\t\t\tsetCurrent(current + 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={!stripe}>\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"contenedor \">\r\n\t\t\t\t\t<section\r\n\t\t\t\t\t\tclassName={`tarjeta ${activeCard} d-none d-md-none d-lg-block`}\r\n\t\t\t\t\t\tid=\"tarjeta\"\r\n\t\t\t\t\t\tonClick={rotartarjeta}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"delantera\">\r\n\t\t\t\t\t\t\t<div className=\"logo-marca\" id=\"logo-marca\">\r\n\t\t\t\t\t\t\t\t<img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"numero\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Número Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"numero\"> {numbrerCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"nombre\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Nombre Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"nombre\"> {name} </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Expiración</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mes\"> {dateCard1} </span> {dateCard1 ? '/' : ''}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\"> {dateCard2} </span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"trasera w-100\">\r\n\t\t\t\t\t\t\t<div className=\"barra-magnetica\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"firma\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Firma</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"firma\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"ccv\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">CCV</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ccv\"> {cvvCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<Form onFinish={handleSubmit} className=\"active mt-5\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardNumber\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNúmero Tarjeta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardNumberElement\r\n\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardOnChage(e)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.025em',\r\n\t\t\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#aab7c4'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"name\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNombre\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del propietario\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"expiry\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tExpiración\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardExpiryElement\r\n\t\t\t\t\t\t\t\t\tid=\"expiry\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardDateOnChange(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cvc\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCVC\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardCvcElement\r\n\t\t\t\t\t\t\t\t\tid=\"cvc\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tcvvChange(e);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('active')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"postal\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCódigo postal\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\tvalue={postal}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetPostal(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={prev}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={!stripe}\r\n\t\t\t\t\t\t\t\tclassName=\"m-1 color-boton\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1 color-boton\">\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { List } from 'antd';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_pedido(props) {\r\n\tconst { datosPedido, pedidoCompleto, datosEnvio } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n\t\t\t<div className=\"d-flex justify-content-end text-right px-4 mr-2 mt-3 info-pedido\">\r\n\t\t\t\t<div className=\"__subs\">\r\n\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"h6 font-weight-bold\">Descuento de: $ {datosEnvio.descuento}</p> */}\r\n\t\t\t\t\t\t\t{/* <p className=\"text-success h6 font-weight-bold\">El descuento si aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{datosEnvio.costoEnvio ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold d-inline\">\r\n\t\t\t\t\t\t\t\tCosto envío:{' '}\r\n\t\t\t\t\t\t\t\t{/* <p className=\"d-inline\" style={{ textDecoration: 'line-through' }}>\r\n\t\t\t\t\t\t\t\t\t$ {datosEnvio.costoEnvio}\r\n\t\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold text-success d-inline\">Envío gratis </p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">Costo envío: $ {datosEnvio.costoEnvio} </p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p className=\"mt-4 h4 font-weight-bold\">\r\n\t\t\t\t\t\tTotal: ${' '}\r\n\t\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName=\"p-3 info-pedido\"\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={datosPedido}\r\n\t\t\t\t\trenderItem={(producto) => <Productos pedido={producto} />}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Productos(props) {\r\n\tconst { pedido } = props;\r\n\treturn (\r\n\t\t<List.Item className=\"c0\">\r\n\t\t\t<div className=\"row c1\">\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t\t\t\t\theight=\"80\"\r\n\t\t\t\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n\t\t\t\t\t\tdescription={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\" col-lg-3\">\r\n\t\t\t\t\t<p className=\"__tupedido\">Cantidad: {pedido.cantidad}</p>\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'calzado' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'ropa' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Talla: {pedido.talla}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\" col-lg-2\">\r\n\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t${formatoMexico(pedido.cantidad * pedido.precio)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button ,notification} from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosPedido, idPago, pedidoCompleto, token, history,datosActualizados } = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(datosActualizados);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<h3 className=\"font-weight-bold\">Resumen de compra</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 info-domicilio\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-direccion-conf shadow-sm\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Dirección de envío</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-12 m-sm-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"shadow-sm contenedor-info-pago\">\r\n\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Información de pago</p>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-3 mx-0\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span> {idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex flex-row-reverse justify-content-center align-items-center text-center pb-3 mr-5 mt-5\">\r\n\t\t\t\t\t<Button size=\"large\" className=\"color-boton\" style={{ width: 200, textAlign: 'center' }} onClick={crearPago}>\r\n\t\t\t\t\t\t<ShoppingCartOutlined /> COMPRAR AHORA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { Steps } from 'antd';\r\n\r\nimport Traer_datos from './services/traer_datos';\r\nimport Verificacion_tarjeta from './services/Verificacion_Tarjeta';\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\nimport Spin from '../../../components/Spin';\r\n\r\nimport './confirmacion.scss';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\tconst { history } = props;\r\n\r\n\tconst { url } = useParams();\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\t/* const [ disabled, setDisabled ] = useState(true); */\r\n\tconst [ datosPedido, setPedido ] = useState([]);\r\n\tconst [ pedidoCompleto, setPedidoCompleto ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ datosActualizados, setDatosActualizados ] = useState([]);\r\n\tconst [ idPago, setIdPago ] = useState([]);\r\n\t/*     const [ disabledPrev, setDisabledPrev ] = useState(false); */\r\n\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* const next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t}; */\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${url}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data.cliente);\r\n\t\t\t\tsetPedido(res.data.pedido);\r\n\t\t\t\tsetPedidoCompleto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Datos de envío',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Traer_datos\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetDatosActualizados={setDatosActualizados}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Datos de compra',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Verificacion_tarjeta setIdPago={setIdPago} prev={prev} setCurrent={setCurrent} current={current} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Comprar',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Confirmacion_Final\r\n\t\t\t\t\t\tidPago={idPago}\r\n\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tdatosActualizados={datosActualizados}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!token) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\r\n\t\t\tsetAccion(false);\r\n\t\t\t/* setDisabled(false); */\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"container prinpales p-3 mt-5\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-3\">\r\n\t\t\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t<Steps className=\"steps-colors\"  current={current}>\r\n\t\t\t\t\t\t\t\t{steps.map((item) => <Step key={item.title} title={item.title} />)}\r\n\t\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {notification} from 'antd'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                setLoading(false);\r\n                // if (res.data[0].politicas !== \"\") {\r\n                setPoliticas(res.data[0]);\r\n                console.log(res.data[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin spinning={loading} >\r\n            <div className=\"container\">\r\n                { politicas.politicas && politicas.politicas !== \"\" ? (\r\n                    <div id=\"privacidad\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Privacidad</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicas}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )\r\n                }\r\n                {\r\n                  politicas.politicasVentas !== \"\" && politicas.politicasVentas? (\r\n                    <div id=\"ventas\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Ventas</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Ventas\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasVentas}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasDescuentos !== \"\" && politicas.politicasDescuentos ? (\r\n                    <div id=\"descuento\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Descuentos</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Descuentos\r\n                        </p>\r\n                        \r\n                        <div  style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasDescuentos}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasDevolucion !== \"\" && politicas.politicasDevolucion ? (\r\n                    <div id=\"devolucion\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Devolucion</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Devolucion\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasDevolucion}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                {\r\n                  politicas.politicasEnvios !== \"\" && politicas.politicasEnvios ? (\r\n                    <div id=\"envios\" className=\"m-5\">\r\n                        <p className=\"font-prin text-center mt-4\">Politicas de Envios</p>\r\n                        <p className=\"font-secun text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de  Envios\r\n                        </p>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas.politicasEnvios}} className='mt-5 px-4 ' />\r\n                    </div>  \r\n                ): (\r\n                    null\r\n                )  \r\n                }\r\n                           \r\n            </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamaño\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"font-secun\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"font-prin precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"font-secun\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-peque precio-producto d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"font-prin precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"font-prin titulos-vista-productos producto-descripcion mb-3\">Quienes vieron este producto también compraron</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\tprecioProducto,\r\n\tprecioSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport clienteAxios from \"../../../config/axios\";\r\n\r\nimport { notification, Tooltip, Tag } from \"antd\";\r\n\r\nexport default function Estados_disponibles() {\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n\r\n  const traerDatos = async () => {\r\n    clienteAxios\r\n      .get(`/politicasEnvio/estados/`)\r\n      .then((res) => {\r\n        setDataEstados(res.data);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, []);\r\n\r\n\r\n  const municipios = [];\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"text-center \">\r\n        <h3 className=\"font-secun\">Tenemos envios a:</h3>\r\n        {\r\n          dataEstados.map((estados) => {\r\n            estados.municipios.map((municipio) => {\r\n              municipios.push(municipio.municipio + \"       -       \");\r\n            });\r\n\r\n            if (estados.todos || dataEstados.length === 0) {\r\n              \r\n            }else{\r\n              return(\r\n                <Tooltip\r\n                  placement=\"left\"\r\n                  key={estados._id}\r\n                  title={municipios}\r\n                >\r\n                  <Tag\r\n                    className=\"mt-2 tags-color font-vista-prod\"\r\n                    visible={true}\r\n                    key={estados._id}\r\n                  >\r\n                    {estados.estado}\r\n                  </Tag>\r\n                </Tooltip>\r\n                )\r\n            }\r\n          })\r\n      } \r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Button, Select, Card, Form, InputNumber, Modal, Alert } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\nimport Estados_disponibles from '../../Consulta_covertura/estados_disponibles'\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tconst [dataEstados, setDataEstados] = useState([]);\r\n\r\n\tconst traerDatos = async () => {\r\n\t  clienteAxios\r\n\t\t.get(`/politicasEnvio/estados/`)\r\n\t\t.then((res) => {\r\n\t\t\tres.data.map((todos)=>{\r\n\t\t\t\tsetDataEstados(todos);\r\n\t\t\t})\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t});\r\n\t};\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t\ttraerDatos();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\r\n\t\tlet productoPrecio;\r\n\t\tlet sugerenciaPrecio;\r\n\r\n\t\tif(productoPromocion.length !== 0){\r\n\t\t\tproductoPrecio = productoPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tproductoPrecio = producto.precio;\r\n\t\t}\r\n\r\n\t\tif(sugerenciaPromocion.length !== 0){\r\n\t\t\tsugerenciaPrecio = sugerenciaPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tsugerenciaPrecio = sugerencia.precio;\r\n\t\t}\r\n\t\t\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\tproductoPrecio,\r\n\t\t\tsugerenciaPrecio,\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem(\"vistas\", `/vista_producto/${producto._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t{\r\n\t\t\t\t\tdataEstados.todos !== true ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Estados_disponibles />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t):(\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mw-100 mt-3\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center producto-descripcion font-prin\">\r\n\t\t\t\t\t\t\t¡Llévalos juntos!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque\">Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-descrip\">Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p className=\"font-peque\" >Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" font-peque titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-descrip titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-peque titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-peque\">Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-descrip\">Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p className=\"font-peque\">Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\" font-peque titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-descrip titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"font-peque titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"producto-descripcion font-prin\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1 color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: aws+res.data.imagen,\r\n\t\t\t\t\t\t\tthumbnail: aws+res.data.imagen\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: aws+res.url,\r\n\t\t\t\t\tthumbnail: aws+res.url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = aws+imagenZoom;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\twidth: zoomWidth*1.6,\r\n\t\t\theight: zoomHeight*1.6\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\timageClassName=\"image-gallery-image\"\r\n\t\t\t\tenlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\tenlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\tclassName=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se añadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: \"Pedido apartado.\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Alert, List, Avatar } from 'antd';\r\nimport { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico, verificarDiasLaborales } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport DatosCliente from './datos_cliente';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive, datosContx } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n/* \tconst [ datosUser, setDatosUser ] = useState([]); */\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ laboral, setLaboral ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\t/* async function obtenerDatosUser() {\r\n\t\tif (!decoded) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t} */\r\n\r\n\tuseEffect(() => {\r\n\t\t/* verificar dia No laboral */\r\n\t\tsetLaboral(verificarDiasLaborales(datosContx));\r\n\t}, [datosContx])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\t/* obtenerDatosUser(); */\r\n\t\t\tobtenerTienda();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'Calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t//style={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tApartado();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction modalMensaje() {\r\n\t\tModal.success({\r\n\t\t\ticon: '',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{ fontSize: 18 }}>¡Tu apartado a sido recibido y sera despachado próximamente!</p>\r\n\t\t\t\t\t{tienda.length !== 0 && tienda.telefono ? (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<p style={{ fontSize: 18 }}>Si tienes dudas te puedes comunicar al</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center font-weight-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<WhatsAppOutlined style={{ color: '#25d366' }} />\r\n\t\t\t\t\t\t\t\t{tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 color-boton\"\r\n\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\tonClick={() => (window.location.href = '/pedidos')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer mis pedidos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tonOk() {}\r\n\t\t});\r\n\t}\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\tlet precio;\r\n\t\tif(productos.promocion.length !== 0){\r\n\t\t\tprecio = productos.promocion[0].precioPromocion;\r\n\t\t}else{\r\n\t\t\tprecio = productos.precio;\r\n\t\t}\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, tallas.talla, numero, tipoEnvio, token);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"font-vista-prod disponibilidad-p mb-3\">En este momento no hay articulos disponibles</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"font-vista-prod mb-3\">¡Articulos disponibles!</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3 font-vista-prod font-weight-bold\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tclassName=\"font-vista-prod\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\">Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\">Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 70 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"font-vista-prod\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\t/* defaultValue={1} */\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName=\"font-peque\"\r\n\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"contenedor-button-vista\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"d-block size-button-vista color-boton font-vista-prod\"\r\n\t\t\t\t\t\t\t\t//type=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled || laboral}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TagsOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tComprar ahora\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista color-boton-sec font-vista-prod\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled || laboral}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<BellOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tApartar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista color-boton-sec font-vista-prod\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tAgregar al carrito\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Aparta tu producto\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\t/* onOk={handleOk} */\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t/* cancelText=\"Cancelar\" */\r\n\t\t\t\t/* okText=\"Apartar ahora\" */\r\n\t\t\t\tfooter={null}\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<Avatar size={64} src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<h5 className=\"font-secun\" >{productos.nombre}</h5>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Cantidad: {cantidadFinal}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Talla: {numeros.numero}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"font-vista-prod\">Talla: {tallas.talla}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(productos.precio)}</h6>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Precio: ${formatoMexico(res.precioPromocion)}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t<h4>Total: ${formatoMexico(cantidadFinal * productos.precio)}</h4>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\treturn <h4 key={res._id}>Total: ${formatoMexico(cantidadFinal * res.precioPromocion)}</h4>;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t\t<h6 className=\"font-vista-prod font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider  className=\"font-vista-prod\">Tus datos</Divider>\r\n\t\t\t\t{decoded && decoded._id ? (\r\n\t\t\t\t\t<DatosCliente\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tclienteID={decoded._id}\r\n\t\t\t\t\t\ttipoEnvio={tipoEnvio}\r\n\t\t\t\t\t\tenviarDatos={[ handleOk ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t\t<p className=\"titulos-vista-productos text-center font-secun\">Encuentra nuestra tienda</p>\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"logo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-info-tienda\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"font-weight-bold font-prin\" >\r\n\t\t\t\t\t\t\t{tienda.nombre}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Dirección:</span> {direccion.calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.cp}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Teléfono:</span> {tienda.telefono}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t\t{tienda.diasHorariosEmpresas !== '' && tienda.diasHorariosEmpresas !== \"undefined\" ? (\r\n\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t<p className=\"font-descrip\">\r\n\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Horarios de Atención:</span>\r\n\t\t\t\t\t\t\t<p dangerouslySetInnerHTML={{__html: tienda.diasHorariosEmpresas}}/>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{/* {tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)} */}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport clienteAxios from \"../../../config/axios\";\r\n\r\nimport { notification} from \"antd\";\r\nimport { CheckCircleFilled } from '@ant-design/icons';\r\n\r\nexport default function Envio_General() {\r\n  const [dataEstados, setDataEstados] = useState([]);\r\n\r\n  const traerDatos = async () => {\r\n    clienteAxios\r\n      .get(`/politicasEnvio/estados/`)\r\n      .then((res) => {\r\n        setDataEstados(res.data);\r\n      })\r\n      .catch((err) => {\r\n        notification.error({\r\n          message: \"Error del servidor\",\r\n          description:\r\n            \"Paso algo en el servidor, al parecer la conexion esta fallando.\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    traerDatos();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div >\r\n        {dataEstados.map((estado) => {\r\n          if (estado.todos) {\r\n            return (\r\n              <p className=\"envio-texto font-vista-prod\">\r\n                <CheckCircleFilled style={{ fontSize: 20, marginRight: 10 }} /> \r\n                  <spam >Tenemos envios a toda la republica Mexicana</spam>\r\n              </p>\r\n            );\r\n          } else {\r\n              return null;\r\n          }\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Alert, notification, Result, Button } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\nimport Envio_General from '../Consulta_covertura/envio_general';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetProductos([]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading === false && productos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Result\r\n\t\t\t\tstatus=\"404\"\r\n\t\t\t\ttitle=\"404\"\r\n\t\t\t\tsubTitle=\"Lo sentimos, este producto ya no existe.\"\r\n\t\t\t\textra={<Button className=\"color-boton\" type=\"primary\" onClick={() => props.history.push('/')}>Pagina principal</Button>}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"font-secun producto-descripcion\">Descripción</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"font-vista-prod texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"font-vista-prod texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<p className=\"titulo-principal font-prin\">{productos.nombre}</p>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"precio-prin titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto font-descrip\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3 precio-prin\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2 font-descrip\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"envio-texto font-vista-prod\">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 15, marginRight: 10 }} />{' '}\r\n\t\t\t\t\t\t\t\t\t<span>Costo del envío:</span> <span>${costoEnvio.costoEnvio}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Envio_General className=\"mt-3\" />\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ?  costoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mt-3 font-vista-prod\"\r\n\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\tcostoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>¡En compras arriba de ${costoEnvio.promocionEnvio} el envío será GRATIS!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>¡En compras arriba de $${costoEnvio.promocionEnvio}, el envío será GRATIS!</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{productos.genero === 'Ninguno' && !productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t{productos.genero === 'Ninguno' ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\" style={{ fontWeight: \"bold\", marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGénero:\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag className=\"font-vista-prod color-tags\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t{productos.genero}\r\n\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{!productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-vista-prod\" style={{ marginBottom: 5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{fontWeight: \"bold\"}} >Color:</spam> {productos.color}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 30, width: 30, backgroundColor: productos.colorHex }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"font-vista-prod mb-3 formas-pago\" >\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"font-secun text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-secun texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"font-secun texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React, { Fragment, useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../config/axios';\r\nimport { notification, Row, Breadcrumb, Button } from 'antd';\r\nimport Card_Producto from '../../pages/users/Productos/Cards_Normales/card_producto'\r\nimport Spin from '../Spin';\r\nimport './busqueda_categorias.scss';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport { makeStyles } from '@material-ui/styles';\r\n\r\nfunction BusquedaCategorias(props) {\r\n\tconst categoria = props.match.params.categoria;\r\n\tconst subcategoria = props.match.params.subcategoria;\r\n\tconst temporada = props.match.params.temporada;\r\n\tconst genero = props.match.params.genero;\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ resultado, setResultado ] = useState([]);\r\n\tconst { reloadFilter, setReloadFilter, colores } = useContext(MenuContext);\r\n\tconst [ todosProductos, setTodosProductos ] = useState(false);\r\n\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, temporada, genero) => {\r\n\t\tlet cat = categoria;\r\n\t\tlet sub = subcategoria;\r\n\t\tlet temp = temporada;\r\n\t\tlet gen = genero;\r\n\r\n\t\tif (categoria === 'null') {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === 'null') {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === 'null' || genero === 'Todos') {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\t\tif(temporada === 'null'){\r\n\t\t\ttemp = '';\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}&temporada=${temp}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTodosProductos(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerTodos = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetReloadFilter(!reloadFilter);\r\n\t\tobtenerTodos();\r\n\t\tsetTodosProductos(true);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tlimpiarFiltros();\r\n\t\t}\r\n\t}, [])\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, temporada, genero);\r\n\t\t},\r\n\t\t[ props.location ]\r\n\t);\r\n\r\n\tconst useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\t\"& .text-color\": {\r\n\t\t\t\tcolor: colores.bodyPage.text\r\n\t\t\t},\r\n\t\t\t\"& .ant-breadcrumb-separator\": {\r\n\t\t\t\tcolor: colores.bodyPage.text,\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\t\r\n\tconst classes = useStyles();\r\n\r\n\tconst result = resultado.map((productos) => <Card_Producto key={productos._id} productos={productos} />);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<div className={\"my-4 mx-3 \" + classes.text}>\r\n\t\t\t\t\t<h3 className=\"d-inline mr-3 font-prin text-color\">{resultado.length} resultados en: </h3>\r\n\t\t\t\t\t{todosProductos ? (\r\n\t\t\t\t\t\t<h3  className=\"d-inline font-prin text-color\">Todos los productos</h3>\r\n\t\t\t\t\t): (\r\n\t\t\t\t\t\t<Breadcrumb separator=\">\" className=\"d-inline font-prin text-color\">\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font text-color\">{categoria !== 'null' ? categoria : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font text-color\">{subcategoria !== 'null' ? subcategoria : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font text-color\">{temporada !== 'null' ? temporada : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font text-color\">{genero !== 'null' ? genero : null}</Breadcrumb.Item>\r\n\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"primary\" size=\"large\" className=\"mt-3\" onClick={limpiarFiltros}>\r\n\t\t\t\t\t\t\tLimpiar filtros\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t\t{result}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Spin>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default BusquedaCategorias;\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n      />\r\n    )\r\n}","import React,{useState,useEffect} from 'react';\r\nimport { notification, Form, Input, Button,Alert  } from 'antd';\r\nimport {useParams} from 'react-router-dom';\r\nimport clienteAxios from '../../config/axios';\r\nimport './Recuperacion_pass.scss';\r\n\r\n\r\nconst layout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 14 }\r\n};\r\n\r\nexport default function Recuperar_pass(props) {\r\n\r\n/*     const {location,history} = props; */\r\n    const {idRecuperacion} = useParams();\r\n\r\n    const [mostrarError, setmostrarError] = useState(\"d-none\");\r\n    const [acceso, setAcceso] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setAcceso(false);\r\n        const cambiarEstadoPass = async () => {\r\n            await clienteAxios.put(`/cliente/restablecer/pass/${idRecuperacion}`)\r\n            .then((res) => {\r\n                setAcceso(false);\r\n            })\r\n            .catch((err) => {\r\n                setAcceso(true);\r\n            })\r\n        }\r\n        cambiarEstadoPass();\r\n    }, [])\r\n\r\n    const onFinish = async (values) => {\r\n        const {password,confirmPassword} = values;\r\n        if(password !== confirmPassword){\r\n            setmostrarError(\"\");\r\n        }else{\r\n            const datos = {\r\n                password,\r\n                confirmPassword,\r\n                idRecuperacion,\r\n            }\r\n            await clienteAxios.put('/cliente/reset/pass/',datos)\r\n            .then((res) => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('token', token);\r\n            })\r\n            .catch((err) => {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Hubo un error',\r\n                    duration: 2\r\n                });\r\n            })\r\n            props.history.push('/');\r\n        }\r\n    }\r\n\r\n    if(acceso){\r\n        props.history.push('/');\r\n    }\r\n    \r\n\r\n    return (\r\n        <FormResetPass onFinish={onFinish} mostrarError={mostrarError} />\r\n    )\r\n}\r\n\r\n\r\nfunction FormResetPass(props){\r\n    const { onFinish,mostrarError} = props;\r\n    return(\r\n        <div className=\"centrar-div\">\r\n            <div className=\"div-resetPass shadow col-12 col-lg-4 bg-white rounded\">\r\n                <p className=\"text-center my-4\">Recuperacion de contraseña</p>\r\n                <Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n                    <Form.Item label=\"Contraseña\" >\r\n                        <Form.Item name=\"password\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Confirmar contraseña\" >\r\n                        <Form.Item name=\"confirmPassword\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Alert\r\n                        className={`my-4 ${mostrarError}`}\r\n                        message=\"Contraseña distintas\"\r\n                        description=\"Las contraseñas son distintas, favor de poner la misma\"\r\n                        type=\"error\"\r\n                    />\r\n                    <Form.Item className=\"d-flex justify-content-center align-items-center text-center\" >\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n                            Continuar\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones_principal'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport Publicidad from '../pages/admin/Publicidad/publicidad'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\nimport RegistroPublicidad from '../pages/admin/Publicidad/services/registro'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\nimport BusquedaCategorias from '../components/BusquedaCategorias/busqueda_categorias';\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nimport Recuperar_pass from '../components/Recuperar_pass/Recuperar_pass';\r\n\r\n\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario/:tipoCategoria',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/publicidad',\r\n\t\t\t\tcomponent: Publicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/banner/:accion/:idBanner',\r\n\t\t\t\tcomponent: RegistroPublicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/resetPass/:idRecuperacion',\r\n\t\tcomponent: Recuperar_pass,\r\n\t\texact: false\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas/',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria/:subcategoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/filtros/:temporada/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\n/* import ConsultaProductos from './Productos/consulta_productos'; */\r\n/* import Ofertas from './Ofertas/ofertasHome'; */\r\nimport BannerInformativo from './Datos_tienda/banner_informativo'\r\nimport Consulta_Banners from './BannerPromociones/consultaBanners';\r\n/* import Banner_Promocionales from './BannerPromociones/bannerPromocionales';\r\nimport Datos_tienda from './Datos_tienda/datos_tienda';\r\nimport OfertasIzquierda from './Ofertas/OfertasHome/ofertasIzquierda';\r\nimport OfertasDerecha from './Ofertas/OfertasHome/ofertasDerecha';\r\nimport OfertasCentro from './Ofertas/OfertasHome/ofertasCentro'; */\r\n\r\nimport './home.scss'\r\n\r\nexport default function Home(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t{/* <div className=\"contenedor-home-background\">\r\n\t\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">REALIZA TU PAGO EN LÍNEA</h2>\r\n\t\t\t\t\t\t\t<p>ACEPTAMOS PAGOS CON TARJETA</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center textos-home divider-home-banner col-lg-4 col-12 \">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">ENVÍO GRATUITO</h2>\r\n\t\t\t\t\t\t\t<p>EN PEDIDOS MAYORES A $1500.00</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<h2 className=\"mb-0\">APARTA TU PRODUCTO FAVORITO</h2>\r\n\t\t\t\t\t\t\t<p>PUEDES APARTAR TU PEDIDO Y PASAR POR EL</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div> */}\r\n\t\t\t{/* <Ofertas /> */}\r\n\t\t\t<Consulta_Banners/>\r\n\t\t\t{/* <ConsultaProductos propiedades={props} /> */}\r\n            {/* <Datos_tienda /> */}\r\n\t\t\t{/* <OfertasIzquierda /> */}\r\n\t\t\t{/* <OfertasDerecha /> */}\r\n\t\t\t{/* <OfertasCentro /> */}\r\n\t\t\t{/* <BannerInformativo /> */}\r\n\t\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin spinning={loading}>\r\n            <div className=\"container bg-white shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div style={{ background: 'white' }} className=\"shadow\">\r\n\t\t\t\t<CarritoProvider>\r\n\t\t\t\t\t<MostrarDatosProductos />\r\n\t\t\t\t</CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\nimport Spin from '../../../components/Spin';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\n\r\nexport default function Perfiles(props) {\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst { colores } = useContext(MenuContext);\r\n    const useStyles = makeStyles({\r\n\t\ttext: {\r\n\t\t\tcolor: `${colores.bodyPage.text}!important`\r\n\t\t},\r\n\t});\r\n    const classes = useStyles();\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t//Verificar el JWT\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== false) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tsetAccion(false);\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container col-lg-6 \">\r\n\t\t\t\t<h1 className={\"mt-5 text-center font-prin \" + classes.text}>Bienvenido a tu perfil</h1>\r\n\t\t\t\t<div className=\"mt-3 px-5 mx-auto rounded\" style={{ background: 'white', left: '50%' }}>\r\n\t\t\t\t\t<ActualizarUsuario\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error500 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length === 0){\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3 color-boton\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link key=\"principal\" to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" className=\"color-boton\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>,\r\n                        // <Link key=\"reintentar\" to={`/confirmacion_compra/${pedidoID}`}>\r\n                        //     <Button type=\"primary\" ghost className=\"mb-3 color-boton-sec\">\r\n                        //         Reintentar\r\n                        //     </Button>\r\n                        // </Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useCallback, useContext, useEffect, useState} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'antd/dist/antd.css';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport routes from './config/routes';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nimport { MenuContext } from './context/carritoContext';\r\nimport clienteAxios from './config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport './scss/disenoVyde.scss';\r\n\r\nexport default function App() {\r\n\r\n\tconst { setDatosContx, setLoading, active, upload, setUpload, setColores,  } = useContext(MenuContext);\r\n\tconst [nombreTienda, setNombreTienda] = useState('');\r\n\tvar decoded = { _id: '' };\r\n\tconst token = localStorage.getItem('token');\r\n\tif (token !== null) decoded = Jwt(token);\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\tconst obtenerInformacionTienda = useCallback(\r\n\t\tasync () => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/home/${decoded._id ? decoded._id : null}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst datos = res.data;\r\n\t\t\t\t\tsetDatosContx(datos);\r\n\t\t\t\t\t// console.log(datos.tienda[0]);\r\n\t\t\t\t\tif(datos.tienda.length > 0){\r\n\t\t\t\t\t\tsetNombreTienda(datos.tienda[0].nombre ? datos.tienda[0].nombre : 'Sin nombre');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (datos.tienda.length > 0 && datos.tienda[0].colorPage) {\r\n\t\t\t\t\t\tconst colores = datos.tienda[0].colorPage;\r\n\t\t\t\t\t\tsetColores({\r\n\t\t\t\t\t\t\tnavPrimary: {\r\n\t\t\t\t\t\t\t\ttext: colores.navPrimary.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.navPrimary.background,\r\n\t\t\t\t\t\t\t\thoverText: colores.navPrimary.hoverText,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tnavSecondary: {\r\n\t\t\t\t\t\t\t\ttext: colores.navSecondary.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.navSecondary.background,\r\n\t\t\t\t\t\t\t\thoverText: colores.navSecondary.hoverText,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbodyPage: {\r\n\t\t\t\t\t\t\t\ttext: colores.bodyPage.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.bodyPage.background,\r\n\t\t\t\t\t\t\t\thoverText: colores.bodyPage.hoverText,\r\n\t\t\t\t\t\t\t\tcard: {\r\n\t\t\t\t\t\t\t\t\ttext: colores.bodyPage.card.text,\r\n\t\t\t\t\t\t\t\t\tbackground: colores.bodyPage.card.background,\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfooter: {\r\n\t\t\t\t\t\t\t\ttext: colores.footer.text,\r\n\t\t\t\t\t\t\t\tbackground: colores.footer.background\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ decoded._id, token, setDatosContx, setLoading ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerInformacionTienda();\r\n\t\t\tsetUpload(false);\r\n\t\t},\r\n\t\t[ obtenerInformacionTienda, active, upload]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Helmet>\r\n\t\t\t\t<meta charSet=\"utf-8\" />\r\n\t\t\t\t<title>{nombreTienda}</title>\r\n\t\t\t</Helmet>\r\n\t\t\t<Router>\r\n\t\t\t\t<Switch>{routes.map((route, index) => <RoutesWithSubRoutes key={index} {...route} />)}</Switch>\r\n\t\t\t</Router>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n\treturn (\r\n\t\t<Route\r\n\t\t\tpath={route.path}\r\n\t\t\texact={route.exact}\r\n\t\t\trender={(props) => <route.component routes={route.routes} {...props} />}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\nimport { MenuProvider } from './context/carritoContext';\r\n\r\n\r\nReactDOM.render(\r\n  <MenuProvider>\r\n    <App />\r\n  </MenuProvider>,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/especial2.c53fde15.png\";","module.exports = __webpack_public_path__ + \"static/media/especial3.9fee3add.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo3.64c04b06.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo1.e4c091d3.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo5.dfa26b4b.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo6.5b57f8ec.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo2.39e535fe.png\";","module.exports = __webpack_public_path__ + \"static/media/estilo4.815bd584.png\";","module.exports = __webpack_public_path__ + \"static/media/especial1.5c60fb7f.png\";","module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";"],"sourceRoot":""}